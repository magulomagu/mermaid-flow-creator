const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-w8RvGsQy.js","assets/graph-Dbley5Pi.js","assets/_baseUniq-DF1r3qIc.js","assets/layout-BhOycMcd.js","assets/min-BTgaunpE.js","assets/clone-jsplrWH9.js","assets/cose-bilkent-S5V4N54A-DjlALA1u.js","assets/cytoscape.esm-BQaXIfA_.js","assets/c4Diagram-YG6GDRKO-Df_5OQf9.js","assets/chunk-TZMSLE5B-CExyQjGI.js","assets/flowDiagram-NV44I4VS-CZbBU1DY.js","assets/chunk-FMBD7UC4-onxGAZSL.js","assets/chunk-55IACEB6-ISM0SIah.js","assets/chunk-QN33PNHL-4IbNUYBz.js","assets/channel-DMh-AMEs.js","assets/erDiagram-Q2GNP2WA-Ccua0Qst.js","assets/gitGraphDiagram-NY62KEGX-Bz78UDfO.js","assets/chunk-4BX2VUAB-iMUJ3mb1.js","assets/chunk-QZHKN3VN-WxD8vFde.js","assets/treemap-KMMF4GRG-XXD_FFuv.js","assets/ganttDiagram-JELNMOA3-DKzG6Rpl.js","assets/linear-BDuwhUoN.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-WHAUD3N6-DX19Sj23.js","assets/pieDiagram-ADFJNKIX-Bd89r8SY.js","assets/arc-qlhE4I9i.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-8MdvYr83.js","assets/xychartDiagram-PRI3JC2R-DVx6cdua.js","assets/requirementDiagram-UZGBJVZJ-BlrV4mse.js","assets/sequenceDiagram-WL72ISMW-DZIMjbr_.js","assets/classDiagram-2ON5EDUG-PkFWnEbv.js","assets/chunk-B4BG7PRW-B9VO2W4x.js","assets/classDiagram-v2-WZHVMYZB-PkFWnEbv.js","assets/stateDiagram-FKZM4ZOC-CZ2M5rns.js","assets/chunk-DI55MBZ5-DB1dApn2.js","assets/stateDiagram-v2-4FDKWEC3-DmrrDZX5.js","assets/journeyDiagram-XKPGCS4Q-EpBe51ip.js","assets/timeline-definition-IT6M3QCI-IGwOuD4u.js","assets/mindmap-definition-VGOIOE7T-CkBmUuHx.js","assets/kanban-definition-3W4ZIXB7-BsVw4Xxh.js","assets/sankeyDiagram-TZEHDZUN-D1BH0azT.js","assets/diagram-S2PKOQOG-DzckhVUL.js","assets/diagram-QEK2KX5R-DJzNZrFX.js","assets/blockDiagram-VD42YOAC-CSwU9Ogq.js","assets/architectureDiagram-VXUJARFQ-QvwA-8vr.js","assets/diagram-PSM6KHXK-C23YAiUP.js"])))=>i.map(i=>d[i]);
var FL=Object.defineProperty;var OL=(e,t,n)=>t in e?FL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fe=(e,t,n)=>OL(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Vm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ig={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function PL(){if(Gx)return bl;Gx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:e,type:i,key:l,ref:a!==void 0?a:null,props:s}}return bl.Fragment=t,bl.jsx=n,bl.jsxs=n,bl}var Vx;function UL(){return Vx||(Vx=1,ig.exports=PL()),ig.exports}var pt=UL(),rg={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function $L(){if(Yx)return Pt;Yx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function A(F,Q,rt){this.props=F,this.context=Q,this.refs=E,this.updater=rt||S}A.prototype.isReactComponent={},A.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=A.prototype;function R(F,Q,rt){this.props=F,this.context=Q,this.refs=E,this.updater=rt||S}var I=R.prototype=new k;I.constructor=R,T(I,A.prototype),I.isPureReactComponent=!0;var B=Array.isArray;function L(){}var N={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function K(F,Q,rt){var ut=rt.ref;return{$$typeof:e,type:F,key:Q,ref:ut!==void 0?ut:null,props:rt}}function tt(F,Q){return K(F.type,Q,F.props)}function V(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function lt(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(rt){return Q[rt]})}var et=/\/+/g;function Y(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?lt(""+F.key):Q.toString(36)}function G(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(Q){F.status==="pending"&&(F.status="fulfilled",F.value=Q)},function(Q){F.status==="pending"&&(F.status="rejected",F.reason=Q)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function D(F,Q,rt,ut,ft){var dt=typeof F;(dt==="undefined"||dt==="boolean")&&(F=null);var _t=!1;if(F===null)_t=!0;else switch(dt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(F.$$typeof){case e:case t:_t=!0;break;case d:return _t=F._init,D(_t(F._payload),Q,rt,ut,ft)}}if(_t)return ft=ft(F),_t=ut===""?"."+Y(F,0):ut,B(ft)?(rt="",_t!=null&&(rt=_t.replace(et,"$&/")+"/"),D(ft,Q,rt,"",function(Qt){return Qt})):ft!=null&&(V(ft)&&(ft=tt(ft,rt+(ft.key==null||F&&F.key===ft.key?"":(""+ft.key).replace(et,"$&/")+"/")+_t)),Q.push(ft)),1;_t=0;var Ut=ut===""?".":ut+":";if(B(F))for(var Ft=0;Ft<F.length;Ft++)ut=F[Ft],dt=Ut+Y(ut,Ft),_t+=D(ut,Q,rt,dt,ft);else if(Ft=x(F),typeof Ft=="function")for(F=Ft.call(F),Ft=0;!(ut=F.next()).done;)ut=ut.value,dt=Ut+Y(ut,Ft++),_t+=D(ut,Q,rt,dt,ft);else if(dt==="object"){if(typeof F.then=="function")return D(G(F),Q,rt,ut,ft);throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return _t}function U(F,Q,rt){if(F==null)return F;var ut=[],ft=0;return D(F,ut,"","",function(dt){return Q.call(rt,dt,ft++)}),ut}function z(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(rt){(F._status===0||F._status===-1)&&(F._status=1,F._result=rt)},function(rt){(F._status===0||F._status===-1)&&(F._status=2,F._result=rt)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var st=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ht={map:U,forEach:function(F,Q,rt){U(F,function(){Q.apply(this,arguments)},rt)},count:function(F){var Q=0;return U(F,function(){Q++}),Q},toArray:function(F){return U(F,function(Q){return Q})||[]},only:function(F){if(!V(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Pt.Activity=m,Pt.Children=ht,Pt.Component=A,Pt.Fragment=n,Pt.Profiler=a,Pt.PureComponent=R,Pt.StrictMode=i,Pt.Suspense=f,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return N.H.useMemoCache(F)}},Pt.cache=function(F){return function(){return F.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(F,Q,rt){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ut=T({},F.props),ft=F.key;if(Q!=null)for(dt in Q.key!==void 0&&(ft=""+Q.key),Q)!Z.call(Q,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&Q.ref===void 0||(ut[dt]=Q[dt]);var dt=arguments.length-2;if(dt===1)ut.children=rt;else if(1<dt){for(var _t=Array(dt),Ut=0;Ut<dt;Ut++)_t[Ut]=arguments[Ut+2];ut.children=_t}return K(F.type,ft,ut)},Pt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Pt.createElement=function(F,Q,rt){var ut,ft={},dt=null;if(Q!=null)for(ut in Q.key!==void 0&&(dt=""+Q.key),Q)Z.call(Q,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ft[ut]=Q[ut]);var _t=arguments.length-2;if(_t===1)ft.children=rt;else if(1<_t){for(var Ut=Array(_t),Ft=0;Ft<_t;Ft++)Ut[Ft]=arguments[Ft+2];ft.children=Ut}if(F&&F.defaultProps)for(ut in _t=F.defaultProps,_t)ft[ut]===void 0&&(ft[ut]=_t[ut]);return K(F,dt,ft)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(F){return{$$typeof:c,render:F}},Pt.isValidElement=V,Pt.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:z}},Pt.memo=function(F,Q){return{$$typeof:h,type:F,compare:Q===void 0?null:Q}},Pt.startTransition=function(F){var Q=N.T,rt={};N.T=rt;try{var ut=F(),ft=N.S;ft!==null&&ft(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(L,st)}catch(dt){st(dt)}finally{Q!==null&&rt.types!==null&&(Q.types=rt.types),N.T=Q}},Pt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Pt.use=function(F){return N.H.use(F)},Pt.useActionState=function(F,Q,rt){return N.H.useActionState(F,Q,rt)},Pt.useCallback=function(F,Q){return N.H.useCallback(F,Q)},Pt.useContext=function(F){return N.H.useContext(F)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(F,Q){return N.H.useDeferredValue(F,Q)},Pt.useEffect=function(F,Q){return N.H.useEffect(F,Q)},Pt.useEffectEvent=function(F){return N.H.useEffectEvent(F)},Pt.useId=function(){return N.H.useId()},Pt.useImperativeHandle=function(F,Q,rt){return N.H.useImperativeHandle(F,Q,rt)},Pt.useInsertionEffect=function(F,Q){return N.H.useInsertionEffect(F,Q)},Pt.useLayoutEffect=function(F,Q){return N.H.useLayoutEffect(F,Q)},Pt.useMemo=function(F,Q){return N.H.useMemo(F,Q)},Pt.useOptimistic=function(F,Q){return N.H.useOptimistic(F,Q)},Pt.useReducer=function(F,Q,rt){return N.H.useReducer(F,Q,rt)},Pt.useRef=function(F){return N.H.useRef(F)},Pt.useState=function(F){return N.H.useState(F)},Pt.useSyncExternalStore=function(F,Q,rt){return N.H.useSyncExternalStore(F,Q,rt)},Pt.useTransition=function(){return N.H.useTransition()},Pt.version="19.2.3",Pt}var Wx;function Ym(){return Wx||(Wx=1,rg.exports=$L()),rg.exports}var Ua=Ym();const zL=Vm(Ua);var ag={exports:{}},El={},og={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function qL(){return Xx||(Xx=1,(function(e){function t(D,U){var z=D.length;D.push(U);t:for(;0<z;){var st=z-1>>>1,ht=D[st];if(0<a(ht,U))D[st]=U,D[z]=ht,z=st;else break t}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var U=D[0],z=D.pop();if(z!==U){D[0]=z;t:for(var st=0,ht=D.length,F=ht>>>1;st<F;){var Q=2*(st+1)-1,rt=D[Q],ut=Q+1,ft=D[ut];if(0>a(rt,z))ut<ht&&0>a(ft,rt)?(D[st]=ft,D[ut]=z,st=ut):(D[st]=rt,D[Q]=z,st=Q);else if(ut<ht&&0>a(ft,z))D[st]=ft,D[ut]=z,st=ut;else break t}}return U}function a(D,U){var z=D.sortIndex-U.sortIndex;return z!==0?z:D.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],h=[],d=1,m=null,v=3,x=!1,S=!1,T=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I(D){for(var U=n(h);U!==null;){if(U.callback===null)i(h);else if(U.startTime<=D)i(h),U.sortIndex=U.expirationTime,t(f,U);else break;U=n(h)}}function B(D){if(T=!1,I(D),!S)if(n(f)!==null)S=!0,L||(L=!0,lt());else{var U=n(h);U!==null&&G(B,U.startTime-D)}}var L=!1,N=-1,Z=5,K=-1;function tt(){return E?!0:!(e.unstable_now()-K<Z)}function V(){if(E=!1,L){var D=e.unstable_now();K=D;var U=!0;try{t:{S=!1,T&&(T=!1,k(N),N=-1),x=!0;var z=v;try{e:{for(I(D),m=n(f);m!==null&&!(m.expirationTime>D&&tt());){var st=m.callback;if(typeof st=="function"){m.callback=null,v=m.priorityLevel;var ht=st(m.expirationTime<=D);if(D=e.unstable_now(),typeof ht=="function"){m.callback=ht,I(D),U=!0;break e}m===n(f)&&i(f),I(D)}else i(f);m=n(f)}if(m!==null)U=!0;else{var F=n(h);F!==null&&G(B,F.startTime-D),U=!1}}break t}finally{m=null,v=z,x=!1}U=void 0}}finally{U?lt():L=!1}}}var lt;if(typeof R=="function")lt=function(){R(V)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Y=et.port2;et.port1.onmessage=V,lt=function(){Y.postMessage(null)}}else lt=function(){A(V,0)};function G(D,U){N=A(function(){D(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var z=v;v=U;try{return D()}finally{v=z}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=v;v=D;try{return U()}finally{v=z}},e.unstable_scheduleCallback=function(D,U,z){var st=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?st+z:st):z=st,D){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=z+ht,D={id:d++,callback:U,priorityLevel:D,startTime:z,expirationTime:ht,sortIndex:-1},z>st?(D.sortIndex=z,t(h,D),n(f)===null&&D===n(h)&&(T?(k(N),N=-1):T=!0,G(B,z-st))):(D.sortIndex=ht,t(f,D),S||x||(S=!0,L||(L=!0,lt()))),D},e.unstable_shouldYield=tt,e.unstable_wrapCallback=function(D){var U=v;return function(){var z=v;v=U;try{return D.apply(this,arguments)}finally{v=z}}}})(sg)),sg}var Jx;function HL(){return Jx||(Jx=1,og.exports=qL()),og.exports}var lg={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function GL(){if(Kx)return tn;Kx=1;var e=Ym();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:f,containerInfo:h,implementation:d}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,d)},tn.flushSync=function(f){var h=l.T,d=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=h,i.p=d,i.d.f()}},tn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},tn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},tn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:x}):d==="script"&&i.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},tn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin);i.d.L(f,d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tn.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},tn.requestFormReset=function(f){i.d.r(f)},tn.unstable_batchedUpdates=function(f,h){return f(h)},tn.useFormState=function(f,h,d){return l.H.useFormState(f,h,d)},tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var Qx;function VL(){if(Qx)return lg.exports;Qx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lg.exports=GL(),lg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function YL(){if(Zx)return El;Zx=1;var e=HL(),t=Ym(),n=VL();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(s(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=s(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,p=o;;){var _=u.return;if(_===null)break;var C=_.alternate;if(C===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===u)return f(_),r;if(C===p)return f(_),o;C=C.sibling}throw Error(i(188))}if(u.return!==p.return)u=_,p=C;else{for(var w=!1,M=_.child;M;){if(M===u){w=!0,u=_,p=C;break}if(M===p){w=!0,p=_,u=C;break}M=M.sibling}if(!w){for(M=C.child;M;){if(M===u){w=!0,u=C,p=_;break}if(M===p){w=!0,p=C,u=_;break}M=M.sibling}if(!w)throw Error(i(189))}}if(u.alternate!==p)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function d(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=d(r),o!==null)return o;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function lt(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var et=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===et?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case L:return"SuspenseList";case K:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case R:return r.displayName||"Context";case k:return(r._context.displayName||"Context")+".Consumer";case I:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return o=r.displayName||null,o!==null?o:Y(r.type)||"Memo";case Z:o=r._payload,r=r._init;try{return Y(r(o))}catch{}}return null}var G=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},st=[],ht=-1;function F(r){return{current:r}}function Q(r){0>ht||(r.current=st[ht],st[ht]=null,ht--)}function rt(r,o){ht++,st[ht]=r.current,r.current=o}var ut=F(null),ft=F(null),dt=F(null),_t=F(null);function Ut(r,o){switch(rt(dt,o),rt(ft,r),rt(ut,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?dx(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=dx(o),r=px(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Q(ut),rt(ut,r)}function Ft(){Q(ut),Q(ft),Q(dt)}function Qt(r){r.memoizedState!==null&&rt(_t,r);var o=ut.current,u=px(o,r.type);o!==u&&(rt(ft,r),rt(ut,u))}function pe(r){ft.current===r&&(Q(ut),Q(ft)),_t.current===r&&(Q(_t),xl._currentValue=z)}var cn,un;function je(r){if(cn===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);cn=o&&o[1]||"",un=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cn+r+un}var ci=!1;function ua(r,o){if(!r||ci)return"";ci=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(j){var J=j}Reflect.construct(r,[],at)}else{try{at.call()}catch(j){J=j}r.call(at.prototype)}}else{try{throw Error()}catch(j){J=j}(at=r())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(j){if(j&&J&&typeof j.stack=="string")return[j.stack,J.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),w=C[0],M=C[1];if(w&&M){var O=w.split(`
`),X=M.split(`
`);for(_=p=0;p<O.length&&!O[p].includes("DetermineComponentFrameRoot");)p++;for(;_<X.length&&!X[_].includes("DetermineComponentFrameRoot");)_++;if(p===O.length||_===X.length)for(p=O.length-1,_=X.length-1;1<=p&&0<=_&&O[p]!==X[_];)_--;for(;1<=p&&0<=_;p--,_--)if(O[p]!==X[_]){if(p!==1||_!==1)do if(p--,_--,0>_||O[p]!==X[_]){var nt=`
`+O[p].replace(" at new "," at ");return r.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",r.displayName)),nt}while(1<=p&&0<=_);break}}}finally{ci=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?je(u):""}function bs(r,o){switch(r.tag){case 26:case 27:case 5:return je(r.type);case 16:return je("Lazy");case 13:return r.child!==o&&o!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return ua(r.type,!1);case 11:return ua(r.type.render,!1);case 1:return ua(r.type,!0);case 31:return je("Activity");default:return""}}function zi(r){try{var o="",u=null;do o+=bs(r,u),u=r,r=r.return;while(r);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Tr=Object.prototype.hasOwnProperty,br=e.unstable_scheduleCallback,eo=e.unstable_cancelCallback,Ec=e.unstable_shouldYield,Xf=e.unstable_requestPaint,Ve=e.unstable_now,ha=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,Dn=e.unstable_UserBlockingPriority,Er=e.unstable_NormalPriority,wc=e.unstable_LowPriority,Es=e.unstable_IdlePriority,ws=e.log,Ac=e.unstable_setDisableYieldValue,Ei=null,ze=null;function qe(r){if(typeof ws=="function"&&Ac(r),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ei,r)}catch{}}var ke=Math.clz32?Math.clz32:Jf,As=Math.log,ks=Math.LN2;function Jf(r){return r>>>=0,r===0?32:31-(As(r)/ks|0)|0}var Hi=256,Gi=262144,no=4194304;function Nn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function io(r,o,u){var p=r.pendingLanes;if(p===0)return 0;var _=0,C=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var M=p&134217727;return M!==0?(p=M&~C,p!==0?_=Nn(p):(w&=M,w!==0?_=Nn(w):u||(u=M&~r,u!==0&&(_=Nn(u))))):(M=p&~C,M!==0?_=Nn(M):w!==0?_=Nn(w):u||(u=p&~r,u!==0&&(_=Nn(u)))),_===0?0:o!==0&&o!==_&&(o&C)===0&&(C=_&-_,u=o&-o,C>=u||C===32&&(u&4194048)!==0)?o:_}function fa(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function be(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(){var r=no;return no<<=1,(no&62914560)===0&&(no=4194304),r}function Ms(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function wr(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Rs(r,o,u,p,_,C){var w=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var M=r.entanglements,O=r.expirationTimes,X=r.hiddenUpdates;for(u=w&~u;0<u;){var nt=31-ke(u),at=1<<nt;M[nt]=0,O[nt]=-1;var J=X[nt];if(J!==null)for(X[nt]=null,nt=0;nt<J.length;nt++){var j=J[nt];j!==null&&(j.lane&=-536870913)}u&=~at}p!==0&&Ls(r,p,0),C!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=C&~(w&~o))}function Ls(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var p=31-ke(o);r.entangledLanes|=o,r.entanglements[p]=r.entanglements[p]|1073741824|u&261930}function Ds(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var p=31-ke(u),_=1<<p;_&o|r[p]&o&&(r[p]|=o),u&=~_}}function kc(r,o){var u=o&-o;return u=(u&42)!==0?1:xn(u),(u&(r.suspendedLanes|o))!==0?0:u}function xn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ui(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ns(){var r=U.p;return r!==0?r:(r=window.event,r===void 0?32:Ox(r.type))}function Is(r,o){var u=U.p;try{return U.p=r,o()}finally{U.p=u}}var Vn=Math.random().toString(36).slice(2),Me="__reactFiber$"+Vn,ve="__reactProps$"+Vn,Yi="__reactContainer$"+Vn,ro="__reactEvents$"+Vn,Mc="__reactListeners$"+Vn,Rc="__reactHandles$"+Vn,Lc="__reactResources$"+Vn,wt="__reactMarker$"+Vn;function P(r){delete r[Me],delete r[ve],delete r[ro],delete r[Mc],delete r[Rc]}function ct(r){var o=r[Me];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Yi]||u[Me]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Cx(r);r!==null;){if(u=r[Me])return u;r=Cx(r)}return o}r=u,u=r.parentNode}return null}function vt(r){if(r=r[Me]||r[Yi]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function ie(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function Ce(r){var o=r[Lc];return o||(o=r[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function qt(r){r[wt]=!0}var Ye=new Set,Yn={};function Cn(r,o){wi(r,o),wi(r+"Capture",o)}function wi(r,o){for(Yn[r]=o,r=0;r<o.length;r++)Ye.add(o[r])}var Be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},Fs={};function kM(r){return Tr.call(Fs,r)?!0:Tr.call(Bs,r)?!1:Be.test(r)?Fs[r]=!0:(Bs[r]=!0,!1)}function Dc(r,o,u){if(kM(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Nc(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Wi(r,o,u,p){if(p===null)r.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+p)}}function Wn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function a0(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function MM(r,o,u){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,C=p.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return _.call(this)},set:function(w){u=""+w,C.call(this,w)}}),Object.defineProperty(r,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Kf(r){if(!r._valueTracker){var o=a0(r)?"checked":"value";r._valueTracker=MM(r,o,""+r[o])}}function o0(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return r&&(p=a0(r)?r.checked?"true":"false":r.value),r=p,r!==u?(o.setValue(r),!0):!1}function Ic(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var RM=/[\n"\\]/g;function Xn(r){return r.replace(RM,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Qf(r,o,u,p,_,C,w,M){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),o!=null?w==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Wn(o)):r.value!==""+Wn(o)&&(r.value=""+Wn(o)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),o!=null?Zf(r,w,Wn(o)):u!=null?Zf(r,w,Wn(u)):p!=null&&r.removeAttribute("value"),_==null&&C!=null&&(r.defaultChecked=!!C),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+Wn(M):r.removeAttribute("name")}function s0(r,o,u,p,_,C,w,M){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.type=C),o!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||o!=null)){Kf(r);return}u=u!=null?""+Wn(u):"",o=o!=null?""+Wn(o):u,M||o===r.value||(r.value=o),r.defaultValue=o}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=M?r.checked:!!p,r.defaultChecked=!!p,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w),Kf(r)}function Zf(r,o,u){o==="number"&&Ic(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ao(r,o,u,p){if(r=r.options,o){o={};for(var _=0;_<u.length;_++)o["$"+u[_]]=!0;for(u=0;u<r.length;u++)_=o.hasOwnProperty("$"+r[u].value),r[u].selected!==_&&(r[u].selected=_),_&&p&&(r[u].defaultSelected=!0)}else{for(u=""+Wn(u),o=null,_=0;_<r.length;_++){if(r[_].value===u){r[_].selected=!0,p&&(r[_].defaultSelected=!0);return}o!==null||r[_].disabled||(o=r[_])}o!==null&&(o.selected=!0)}}function l0(r,o,u){if(o!=null&&(o=""+Wn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+Wn(u):""}function c0(r,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(i(92));if(G(p)){if(1<p.length)throw Error(i(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Wn(o),r.defaultValue=u,p=r.textContent,p===u&&p!==""&&p!==null&&(r.value=p),Kf(r)}function oo(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var LM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function u0(r,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":p?r.setProperty(o,u):typeof u!="number"||u===0||LM.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function h0(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var _ in o)p=o[_],o.hasOwnProperty(_)&&u[_]!==p&&u0(r,_,p)}else for(var C in o)o.hasOwnProperty(C)&&u0(r,C,o[C])}function jf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bc(r){return NM.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Xi(){}var td=null;function ed(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var so=null,lo=null;function f0(r){var o=vt(r);if(o&&(r=o.stateNode)){var u=r[ve]||null;t:switch(r=o.stateNode,o.type){case"input":if(Qf(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Xn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==r&&p.form===r.form){var _=p[ve]||null;if(!_)throw Error(i(90));Qf(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===r.form&&o0(p)}break t;case"textarea":l0(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&ao(r,!!u.multiple,o,!1)}}}var nd=!1;function d0(r,o,u){if(nd)return r(o,u);nd=!0;try{var p=r(o);return p}finally{if(nd=!1,(so!==null||lo!==null)&&(Su(),so&&(o=so,r=lo,lo=so=null,f0(o),r)))for(o=0;o<r.length;o++)f0(r[o])}}function Os(r,o){var u=r.stateNode;if(u===null)return null;var p=u[ve]||null;if(p===null)return null;u=p[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),id=!1;if(Ji)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){id=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{id=!1}var Ar=null,rd=null,Fc=null;function p0(){if(Fc)return Fc;var r,o=rd,u=o.length,p,_="value"in Ar?Ar.value:Ar.textContent,C=_.length;for(r=0;r<u&&o[r]===_[r];r++);var w=u-r;for(p=1;p<=w&&o[u-p]===_[C-p];p++);return Fc=_.slice(r,1<p?1-p:void 0)}function Oc(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Pc(){return!0}function g0(){return!1}function Sn(r){function o(u,p,_,C,w){this._reactName=u,this._targetInst=_,this.type=p,this.nativeEvent=C,this.target=w,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(u=r[M],this[M]=u?u(C):C[M]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Pc:g0,this.isPropagationStopped=g0,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),o}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=Sn(da),Us=m({},da,{view:0,detail:0}),IM=Sn(Us),ad,od,$s,$c=m({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==$s&&($s&&r.type==="mousemove"?(ad=r.screenX-$s.screenX,od=r.screenY-$s.screenY):od=ad=0,$s=r),ad)},movementY:function(r){return"movementY"in r?r.movementY:od}}),m0=Sn($c),BM=m({},$c,{dataTransfer:0}),FM=Sn(BM),OM=m({},Us,{relatedTarget:0}),sd=Sn(OM),PM=m({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),UM=Sn(PM),$M=m({},da,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zM=Sn($M),qM=m({},da,{data:0}),y0=Sn(qM),HM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YM(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=VM[r])?!!o[r]:!1}function ld(){return YM}var WM=m({},Us,{key:function(r){if(r.key){var o=HM[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Oc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?GM[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(r){return r.type==="keypress"?Oc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Oc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),XM=Sn(WM),JM=m({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v0=Sn(JM),KM=m({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),QM=Sn(KM),ZM=m({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),jM=Sn(ZM),tR=m({},$c,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),eR=Sn(tR),nR=m({},da,{newState:0,oldState:0}),iR=Sn(nR),rR=[9,13,27,32],cd=Ji&&"CompositionEvent"in window,zs=null;Ji&&"documentMode"in document&&(zs=document.documentMode);var aR=Ji&&"TextEvent"in window&&!zs,_0=Ji&&(!cd||zs&&8<zs&&11>=zs),x0=" ",C0=!1;function S0(r,o){switch(r){case"keyup":return rR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var co=!1;function oR(r,o){switch(r){case"compositionend":return T0(o);case"keypress":return o.which!==32?null:(C0=!0,x0);case"textInput":return r=o.data,r===x0&&C0?null:r;default:return null}}function sR(r,o){if(co)return r==="compositionend"||!cd&&S0(r,o)?(r=p0(),Fc=rd=Ar=null,co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _0&&o.locale!=="ko"?null:o.data;default:return null}}var lR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b0(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!lR[r.type]:o==="textarea"}function E0(r,o,u,p){so?lo?lo.push(p):lo=[p]:so=p,o=Mu(o,"onChange"),0<o.length&&(u=new Uc("onChange","change",null,u,p),r.push({event:u,listeners:o}))}var qs=null,Hs=null;function cR(r){sx(r,0)}function zc(r){var o=ie(r);if(o0(o))return r}function w0(r,o){if(r==="change")return o}var A0=!1;if(Ji){var ud;if(Ji){var hd="oninput"in document;if(!hd){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),hd=typeof k0.oninput=="function"}ud=hd}else ud=!1;A0=ud&&(!document.documentMode||9<document.documentMode)}function M0(){qs&&(qs.detachEvent("onpropertychange",R0),Hs=qs=null)}function R0(r){if(r.propertyName==="value"&&zc(Hs)){var o=[];E0(o,Hs,r,ed(r)),d0(cR,o)}}function uR(r,o,u){r==="focusin"?(M0(),qs=o,Hs=u,qs.attachEvent("onpropertychange",R0)):r==="focusout"&&M0()}function hR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zc(Hs)}function fR(r,o){if(r==="click")return zc(o)}function dR(r,o){if(r==="input"||r==="change")return zc(o)}function pR(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var In=typeof Object.is=="function"?Object.is:pR;function Gs(r,o){if(In(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!Tr.call(o,_)||!In(r[_],o[_]))return!1}return!0}function L0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function D0(r,o){var u=L0(r);r=0;for(var p;u;){if(u.nodeType===3){if(p=r+u.textContent.length,r<=o&&p>=o)return{node:u,offset:o-r};r=p}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=L0(u)}}function N0(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?N0(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function I0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Ic(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Ic(r.document)}return o}function fd(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var gR=Ji&&"documentMode"in document&&11>=document.documentMode,uo=null,dd=null,Vs=null,pd=!1;function B0(r,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;pd||uo==null||uo!==Ic(p)||(p=uo,"selectionStart"in p&&fd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Vs&&Gs(Vs,p)||(Vs=p,p=Mu(dd,"onSelect"),0<p.length&&(o=new Uc("onSelect","select",null,o,u),r.push({event:o,listeners:p}),o.target=uo)))}function pa(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var ho={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},gd={},F0={};Ji&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ga(r){if(gd[r])return gd[r];if(!ho[r])return r;var o=ho[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in F0)return gd[r]=o[u];return r}var O0=ga("animationend"),P0=ga("animationiteration"),U0=ga("animationstart"),mR=ga("transitionrun"),yR=ga("transitionstart"),vR=ga("transitioncancel"),$0=ga("transitionend"),z0=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function hi(r,o){z0.set(r,o),Cn(o,[r])}var qc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Jn=[],fo=0,yd=0;function Hc(){for(var r=fo,o=yd=fo=0;o<r;){var u=Jn[o];Jn[o++]=null;var p=Jn[o];Jn[o++]=null;var _=Jn[o];Jn[o++]=null;var C=Jn[o];if(Jn[o++]=null,p!==null&&_!==null){var w=p.pending;w===null?_.next=_:(_.next=w.next,w.next=_),p.pending=_}C!==0&&q0(u,_,C)}}function Gc(r,o,u,p){Jn[fo++]=r,Jn[fo++]=o,Jn[fo++]=u,Jn[fo++]=p,yd|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function vd(r,o,u,p){return Gc(r,o,u,p),Vc(r)}function ma(r,o){return Gc(r,null,null,o),Vc(r)}function q0(r,o,u){r.lanes|=u;var p=r.alternate;p!==null&&(p.lanes|=u);for(var _=!1,C=r.return;C!==null;)C.childLanes|=u,p=C.alternate,p!==null&&(p.childLanes|=u),C.tag===22&&(r=C.stateNode,r===null||r._visibility&1||(_=!0)),r=C,C=C.return;return r.tag===3?(C=r.stateNode,_&&o!==null&&(_=31-ke(u),r=C.hiddenUpdates,p=r[_],p===null?r[_]=[o]:p.push(o),o.lane=u|536870912),C):null}function Vc(r){if(50<dl)throw dl=0,Ap=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var po={};function _R(r,o,u,p){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(r,o,u,p){return new _R(r,o,u,p)}function _d(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ki(r,o){var u=r.alternate;return u===null?(u=Bn(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function H0(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Yc(r,o,u,p,_,C){var w=0;if(p=r,typeof r=="function")_d(r)&&(w=1);else if(typeof r=="string")w=bL(r,u,ut.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case K:return r=Bn(31,u,o,_),r.elementType=K,r.lanes=C,r;case T:return ya(u.children,_,C,o);case E:w=8,_|=24;break;case A:return r=Bn(12,u,o,_|2),r.elementType=A,r.lanes=C,r;case B:return r=Bn(13,u,o,_),r.elementType=B,r.lanes=C,r;case L:return r=Bn(19,u,o,_),r.elementType=L,r.lanes=C,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:w=10;break t;case k:w=9;break t;case I:w=11;break t;case N:w=14;break t;case Z:w=16,p=null;break t}w=29,u=Error(i(130,r===null?"null":typeof r,"")),p=null}return o=Bn(w,u,o,_),o.elementType=r,o.type=p,o.lanes=C,o}function ya(r,o,u,p){return r=Bn(7,r,p,o),r.lanes=u,r}function xd(r,o,u){return r=Bn(6,r,null,o),r.lanes=u,r}function G0(r){var o=Bn(18,null,null,0);return o.stateNode=r,o}function Cd(r,o,u){return o=Bn(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var V0=new WeakMap;function Kn(r,o){if(typeof r=="object"&&r!==null){var u=V0.get(r);return u!==void 0?u:(o={value:r,source:o,stack:zi(o)},V0.set(r,o),o)}return{value:r,source:o,stack:zi(o)}}var go=[],mo=0,Wc=null,Ys=0,Qn=[],Zn=0,kr=null,Ai=1,ki="";function Qi(r,o){go[mo++]=Ys,go[mo++]=Wc,Wc=r,Ys=o}function Y0(r,o,u){Qn[Zn++]=Ai,Qn[Zn++]=ki,Qn[Zn++]=kr,kr=r;var p=Ai;r=ki;var _=32-ke(p)-1;p&=~(1<<_),u+=1;var C=32-ke(o)+_;if(30<C){var w=_-_%5;C=(p&(1<<w)-1).toString(32),p>>=w,_-=w,Ai=1<<32-ke(o)+_|u<<_|p,ki=C+r}else Ai=1<<C|u<<_|p,ki=r}function Sd(r){r.return!==null&&(Qi(r,1),Y0(r,1,0))}function Td(r){for(;r===Wc;)Wc=go[--mo],go[mo]=null,Ys=go[--mo],go[mo]=null;for(;r===kr;)kr=Qn[--Zn],Qn[Zn]=null,ki=Qn[--Zn],Qn[Zn]=null,Ai=Qn[--Zn],Qn[Zn]=null}function W0(r,o){Qn[Zn++]=Ai,Qn[Zn++]=ki,Qn[Zn++]=kr,Ai=o.id,ki=o.overflow,kr=r}var We=null,ge=null,Jt=!1,Mr=null,jn=!1,bd=Error(i(519));function Rr(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ws(Kn(o,r)),bd}function X0(r){var o=r.stateNode,u=r.type,p=r.memoizedProps;switch(o[Me]=r,o[ve]=p,u){case"dialog":Vt("cancel",o),Vt("close",o);break;case"iframe":case"object":case"embed":Vt("load",o);break;case"video":case"audio":for(u=0;u<gl.length;u++)Vt(gl[u],o);break;case"source":Vt("error",o);break;case"img":case"image":case"link":Vt("error",o),Vt("load",o);break;case"details":Vt("toggle",o);break;case"input":Vt("invalid",o),s0(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Vt("invalid",o);break;case"textarea":Vt("invalid",o),c0(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||hx(o.textContent,u)?(p.popover!=null&&(Vt("beforetoggle",o),Vt("toggle",o)),p.onScroll!=null&&Vt("scroll",o),p.onScrollEnd!=null&&Vt("scrollend",o),p.onClick!=null&&(o.onclick=Xi),o=!0):o=!1,o||Rr(r,!0)}function J0(r){for(We=r.return;We;)switch(We.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:We=We.return}}function yo(r){if(r!==We)return!1;if(!Jt)return J0(r),Jt=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||qp(r.type,r.memoizedProps)),u=!u),u&&ge&&Rr(r),J0(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ge=xx(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ge=xx(r)}else o===27?(o=ge,Gr(r.type)?(r=Wp,Wp=null,ge=r):ge=o):ge=We?ei(r.stateNode.nextSibling):null;return!0}function va(){ge=We=null,Jt=!1}function Ed(){var r=Mr;return r!==null&&(wn===null?wn=r:wn.push.apply(wn,r),Mr=null),r}function Ws(r){Mr===null?Mr=[r]:Mr.push(r)}var wd=F(null),_a=null,Zi=null;function Lr(r,o,u){rt(wd,o._currentValue),o._currentValue=u}function ji(r){r._currentValue=wd.current,Q(wd)}function Ad(r,o,u){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===u)break;r=r.return}}function kd(r,o,u,p){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var C=_.dependencies;if(C!==null){var w=_.child;C=C.firstContext;t:for(;C!==null;){var M=C;C=_;for(var O=0;O<o.length;O++)if(M.context===o[O]){C.lanes|=u,M=C.alternate,M!==null&&(M.lanes|=u),Ad(C.return,u,r),p||(w=null);break t}C=M.next}}else if(_.tag===18){if(w=_.return,w===null)throw Error(i(341));w.lanes|=u,C=w.alternate,C!==null&&(C.lanes|=u),Ad(w,u,r),w=null}else w=_.child;if(w!==null)w.return=_;else for(w=_;w!==null;){if(w===r){w=null;break}if(_=w.sibling,_!==null){_.return=w.return,w=_;break}w=w.return}_=w}}function vo(r,o,u,p){r=null;for(var _=o,C=!1;_!==null;){if(!C){if((_.flags&524288)!==0)C=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var w=_.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var M=_.type;In(_.pendingProps.value,w.value)||(r!==null?r.push(M):r=[M])}}else if(_===_t.current){if(w=_.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(xl):r=[xl])}_=_.return}r!==null&&kd(o,r,u,p),o.flags|=262144}function Xc(r){for(r=r.firstContext;r!==null;){if(!In(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function xa(r){_a=r,Zi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Xe(r){return K0(_a,r)}function Jc(r,o){return _a===null&&xa(r),K0(r,o)}function K0(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Zi===null){if(r===null)throw Error(i(308));Zi=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Zi=Zi.next=o;return u}var xR=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,p){r.push(p)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},CR=e.unstable_scheduleCallback,SR=e.unstable_NormalPriority,Re={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new xR,data:new Map,refCount:0}}function Xs(r){r.refCount--,r.refCount===0&&CR(SR,function(){r.controller.abort()})}var Js=null,Rd=0,_o=0,xo=null;function TR(r,o){if(Js===null){var u=Js=[];Rd=0,_o=Np(),xo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Rd++,o.then(Q0,Q0),o}function Q0(){if(--Rd===0&&Js!==null){xo!==null&&(xo.status="fulfilled");var r=Js;Js=null,_o=0,xo=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function bR(r,o){var u=[],p={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return r.then(function(){p.status="fulfilled",p.value=o;for(var _=0;_<u.length;_++)(0,u[_])(o)},function(_){for(p.status="rejected",p.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),p}var Z0=D.S;D.S=function(r,o){B_=Ve(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&TR(r,o),Z0!==null&&Z0(r,o)};var Ca=F(null);function Ld(){var r=Ca.current;return r!==null?r:de.pooledCache}function Kc(r,o){o===null?rt(Ca,Ca.current):rt(Ca,o.pool)}function j0(){var r=Ld();return r===null?null:{parent:Re._currentValue,pool:r}}var Co=Error(i(460)),Dd=Error(i(474)),Qc=Error(i(542)),Zc={then:function(){}};function tv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ev(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Xi,Xi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,iv(r),r;default:if(typeof o.status=="string")o.then(Xi,Xi);else{if(r=de,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(p){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=p}},function(p){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,iv(r),r}throw Ta=o,Co}}function Sa(r){try{var o=r._init;return o(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ta=u,Co):u}}var Ta=null;function nv(){if(Ta===null)throw Error(i(459));var r=Ta;return Ta=null,r}function iv(r){if(r===Co||r===Qc)throw Error(i(483))}var So=null,Ks=0;function jc(r){var o=Ks;return Ks+=1,So===null&&(So=[]),ev(So,r,o)}function Qs(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function tu(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function rv(r){function o(q,$){if(r){var W=q.deletions;W===null?(q.deletions=[$],q.flags|=16):W.push($)}}function u(q,$){if(!r)return null;for(;$!==null;)o(q,$),$=$.sibling;return null}function p(q){for(var $=new Map;q!==null;)q.key!==null?$.set(q.key,q):$.set(q.index,q),q=q.sibling;return $}function _(q,$){return q=Ki(q,$),q.index=0,q.sibling=null,q}function C(q,$,W){return q.index=W,r?(W=q.alternate,W!==null?(W=W.index,W<$?(q.flags|=67108866,$):W):(q.flags|=67108866,$)):(q.flags|=1048576,$)}function w(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function M(q,$,W,it){return $===null||$.tag!==6?($=xd(W,q.mode,it),$.return=q,$):($=_($,W),$.return=q,$)}function O(q,$,W,it){var Mt=W.type;return Mt===T?nt(q,$,W.props.children,it,W.key):$!==null&&($.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Z&&Sa(Mt)===$.type)?($=_($,W.props),Qs($,W),$.return=q,$):($=Yc(W.type,W.key,W.props,null,q.mode,it),Qs($,W),$.return=q,$)}function X(q,$,W,it){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=Cd(W,q.mode,it),$.return=q,$):($=_($,W.children||[]),$.return=q,$)}function nt(q,$,W,it,Mt){return $===null||$.tag!==7?($=ya(W,q.mode,it,Mt),$.return=q,$):($=_($,W),$.return=q,$)}function at(q,$,W){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=xd(""+$,q.mode,W),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return W=Yc($.type,$.key,$.props,null,q.mode,W),Qs(W,$),W.return=q,W;case S:return $=Cd($,q.mode,W),$.return=q,$;case Z:return $=Sa($),at(q,$,W)}if(G($)||lt($))return $=ya($,q.mode,W,null),$.return=q,$;if(typeof $.then=="function")return at(q,jc($),W);if($.$$typeof===R)return at(q,Jc(q,$),W);tu(q,$)}return null}function J(q,$,W,it){var Mt=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Mt!==null?null:M(q,$,""+W,it);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===Mt?O(q,$,W,it):null;case S:return W.key===Mt?X(q,$,W,it):null;case Z:return W=Sa(W),J(q,$,W,it)}if(G(W)||lt(W))return Mt!==null?null:nt(q,$,W,it,null);if(typeof W.then=="function")return J(q,$,jc(W),it);if(W.$$typeof===R)return J(q,$,Jc(q,W),it);tu(q,W)}return null}function j(q,$,W,it,Mt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return q=q.get(W)||null,M($,q,""+it,Mt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case x:return q=q.get(it.key===null?W:it.key)||null,O($,q,it,Mt);case S:return q=q.get(it.key===null?W:it.key)||null,X($,q,it,Mt);case Z:return it=Sa(it),j(q,$,W,it,Mt)}if(G(it)||lt(it))return q=q.get(W)||null,nt($,q,it,Mt,null);if(typeof it.then=="function")return j(q,$,W,jc(it),Mt);if(it.$$typeof===R)return j(q,$,W,Jc($,it),Mt);tu($,it)}return null}function xt(q,$,W,it){for(var Mt=null,Zt=null,At=$,zt=$=0,Xt=null;At!==null&&zt<W.length;zt++){At.index>zt?(Xt=At,At=null):Xt=At.sibling;var jt=J(q,At,W[zt],it);if(jt===null){At===null&&(At=Xt);break}r&&At&&jt.alternate===null&&o(q,At),$=C(jt,$,zt),Zt===null?Mt=jt:Zt.sibling=jt,Zt=jt,At=Xt}if(zt===W.length)return u(q,At),Jt&&Qi(q,zt),Mt;if(At===null){for(;zt<W.length;zt++)At=at(q,W[zt],it),At!==null&&($=C(At,$,zt),Zt===null?Mt=At:Zt.sibling=At,Zt=At);return Jt&&Qi(q,zt),Mt}for(At=p(At);zt<W.length;zt++)Xt=j(At,q,zt,W[zt],it),Xt!==null&&(r&&Xt.alternate!==null&&At.delete(Xt.key===null?zt:Xt.key),$=C(Xt,$,zt),Zt===null?Mt=Xt:Zt.sibling=Xt,Zt=Xt);return r&&At.forEach(function(Jr){return o(q,Jr)}),Jt&&Qi(q,zt),Mt}function Dt(q,$,W,it){if(W==null)throw Error(i(151));for(var Mt=null,Zt=null,At=$,zt=$=0,Xt=null,jt=W.next();At!==null&&!jt.done;zt++,jt=W.next()){At.index>zt?(Xt=At,At=null):Xt=At.sibling;var Jr=J(q,At,jt.value,it);if(Jr===null){At===null&&(At=Xt);break}r&&At&&Jr.alternate===null&&o(q,At),$=C(Jr,$,zt),Zt===null?Mt=Jr:Zt.sibling=Jr,Zt=Jr,At=Xt}if(jt.done)return u(q,At),Jt&&Qi(q,zt),Mt;if(At===null){for(;!jt.done;zt++,jt=W.next())jt=at(q,jt.value,it),jt!==null&&($=C(jt,$,zt),Zt===null?Mt=jt:Zt.sibling=jt,Zt=jt);return Jt&&Qi(q,zt),Mt}for(At=p(At);!jt.done;zt++,jt=W.next())jt=j(At,q,zt,jt.value,it),jt!==null&&(r&&jt.alternate!==null&&At.delete(jt.key===null?zt:jt.key),$=C(jt,$,zt),Zt===null?Mt=jt:Zt.sibling=jt,Zt=jt);return r&&At.forEach(function(BL){return o(q,BL)}),Jt&&Qi(q,zt),Mt}function he(q,$,W,it){if(typeof W=="object"&&W!==null&&W.type===T&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:t:{for(var Mt=W.key;$!==null;){if($.key===Mt){if(Mt=W.type,Mt===T){if($.tag===7){u(q,$.sibling),it=_($,W.props.children),it.return=q,q=it;break t}}else if($.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Z&&Sa(Mt)===$.type){u(q,$.sibling),it=_($,W.props),Qs(it,W),it.return=q,q=it;break t}u(q,$);break}else o(q,$);$=$.sibling}W.type===T?(it=ya(W.props.children,q.mode,it,W.key),it.return=q,q=it):(it=Yc(W.type,W.key,W.props,null,q.mode,it),Qs(it,W),it.return=q,q=it)}return w(q);case S:t:{for(Mt=W.key;$!==null;){if($.key===Mt)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){u(q,$.sibling),it=_($,W.children||[]),it.return=q,q=it;break t}else{u(q,$);break}else o(q,$);$=$.sibling}it=Cd(W,q.mode,it),it.return=q,q=it}return w(q);case Z:return W=Sa(W),he(q,$,W,it)}if(G(W))return xt(q,$,W,it);if(lt(W)){if(Mt=lt(W),typeof Mt!="function")throw Error(i(150));return W=Mt.call(W),Dt(q,$,W,it)}if(typeof W.then=="function")return he(q,$,jc(W),it);if(W.$$typeof===R)return he(q,$,Jc(q,W),it);tu(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,$!==null&&$.tag===6?(u(q,$.sibling),it=_($,W),it.return=q,q=it):(u(q,$),it=xd(W,q.mode,it),it.return=q,q=it),w(q)):u(q,$)}return function(q,$,W,it){try{Ks=0;var Mt=he(q,$,W,it);return So=null,Mt}catch(At){if(At===Co||At===Qc)throw At;var Zt=Bn(29,At,null,q.mode);return Zt.lanes=it,Zt.return=q,Zt}finally{}}}var ba=rv(!0),av=rv(!1),Dr=!1;function Nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Nr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ir(r,o,u){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(ne&2)!==0){var _=p.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),p.pending=o,o=Vc(r),q0(r,null,u),o}return Gc(r,p,o,u),Vc(r)}function Zs(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=r.pendingLanes,u|=p,o.lanes=u,Ds(r,u)}}function Bd(r,o){var u=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var w={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?_=C=w:C=C.next=w,u=u.next}while(u!==null);C===null?_=C=o:C=C.next=o}else _=C=o;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Fd=!1;function js(){if(Fd){var r=xo;if(r!==null)throw r}}function tl(r,o,u,p){Fd=!1;var _=r.updateQueue;Dr=!1;var C=_.firstBaseUpdate,w=_.lastBaseUpdate,M=_.shared.pending;if(M!==null){_.shared.pending=null;var O=M,X=O.next;O.next=null,w===null?C=X:w.next=X,w=O;var nt=r.alternate;nt!==null&&(nt=nt.updateQueue,M=nt.lastBaseUpdate,M!==w&&(M===null?nt.firstBaseUpdate=X:M.next=X,nt.lastBaseUpdate=O))}if(C!==null){var at=_.baseState;w=0,nt=X=O=null,M=C;do{var J=M.lane&-536870913,j=J!==M.lane;if(j?(Wt&J)===J:(p&J)===J){J!==0&&J===_o&&(Fd=!0),nt!==null&&(nt=nt.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var xt=r,Dt=M;J=o;var he=u;switch(Dt.tag){case 1:if(xt=Dt.payload,typeof xt=="function"){at=xt.call(he,at,J);break t}at=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Dt.payload,J=typeof xt=="function"?xt.call(he,at,J):xt,J==null)break t;at=m({},at,J);break t;case 2:Dr=!0}}J=M.callback,J!==null&&(r.flags|=64,j&&(r.flags|=8192),j=_.callbacks,j===null?_.callbacks=[J]:j.push(J))}else j={lane:J,tag:M.tag,payload:M.payload,callback:M.callback,next:null},nt===null?(X=nt=j,O=at):nt=nt.next=j,w|=J;if(M=M.next,M===null){if(M=_.shared.pending,M===null)break;j=M,M=j.next,j.next=null,_.lastBaseUpdate=j,_.shared.pending=null}}while(!0);nt===null&&(O=at),_.baseState=O,_.firstBaseUpdate=X,_.lastBaseUpdate=nt,C===null&&(_.shared.lanes=0),Ur|=w,r.lanes=w,r.memoizedState=at}}function ov(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function sv(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)ov(u[r],o)}var To=F(null),eu=F(0);function lv(r,o){r=lr,rt(eu,r),rt(To,o),lr=r|o.baseLanes}function Od(){rt(eu,lr),rt(To,To.current)}function Pd(){lr=eu.current,Q(To),Q(eu)}var Fn=F(null),ti=null;function Br(r){var o=r.alternate;rt(Ee,Ee.current&1),rt(Fn,r),ti===null&&(o===null||To.current!==null||o.memoizedState!==null)&&(ti=r)}function Ud(r){rt(Ee,Ee.current),rt(Fn,r),ti===null&&(ti=r)}function cv(r){r.tag===22?(rt(Ee,Ee.current),rt(Fn,r),ti===null&&(ti=r)):Fr()}function Fr(){rt(Ee,Ee.current),rt(Fn,Fn.current)}function On(r){Q(Fn),ti===r&&(ti=null),Q(Ee)}var Ee=F(0);function nu(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Vp(u)||Yp(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var tr=0,$t=null,ce=null,Le=null,iu=!1,bo=!1,Ea=!1,ru=0,el=0,Eo=null,ER=0;function Se(){throw Error(i(321))}function $d(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!In(r[u],o[u]))return!1;return!0}function zd(r,o,u,p,_,C){return tr=C,$t=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=r===null||r.memoizedState===null?Yv:np,Ea=!1,C=u(p,_),Ea=!1,bo&&(C=hv(o,u,p,_)),uv(r),C}function uv(r){D.H=rl;var o=ce!==null&&ce.next!==null;if(tr=0,Le=ce=$t=null,iu=!1,el=0,Eo=null,o)throw Error(i(300));r===null||De||(r=r.dependencies,r!==null&&Xc(r)&&(De=!0))}function hv(r,o,u,p){$t=r;var _=0;do{if(bo&&(Eo=null),el=0,bo=!1,25<=_)throw Error(i(301));if(_+=1,Le=ce=null,r.updateQueue!=null){var C=r.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}D.H=Wv,C=o(u,p)}while(bo);return C}function wR(){var r=D.H,o=r.useState()[0];return o=typeof o.then=="function"?nl(o):o,r=r.useState()[0],(ce!==null?ce.memoizedState:null)!==r&&($t.flags|=1024),o}function qd(){var r=ru!==0;return ru=0,r}function Hd(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Gd(r){if(iu){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}iu=!1}tr=0,Le=ce=$t=null,bo=!1,el=ru=0,Eo=null}function hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?$t.memoizedState=Le=r:Le=Le.next=r,Le}function we(){if(ce===null){var r=$t.alternate;r=r!==null?r.memoizedState:null}else r=ce.next;var o=Le===null?$t.memoizedState:Le.next;if(o!==null)Le=o,ce=r;else{if(r===null)throw $t.alternate===null?Error(i(467)):Error(i(310));ce=r,r={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},Le===null?$t.memoizedState=Le=r:Le=Le.next=r}return Le}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(r){var o=el;return el+=1,Eo===null&&(Eo=[]),r=ev(Eo,r,o),o=$t,(Le===null?o.memoizedState:Le.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?Yv:np),r}function ou(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return nl(r);if(r.$$typeof===R)return Xe(r)}throw Error(i(438,String(r)))}function Vd(r){var o=null,u=$t.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=$t.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=au(),$t.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),p=0;p<r;p++)u[p]=tt;return o.index++,u}function er(r,o){return typeof o=="function"?o(r):o}function su(r){var o=we();return Yd(o,ce,r)}function Yd(r,o,u){var p=r.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=u;var _=r.baseQueue,C=p.pending;if(C!==null){if(_!==null){var w=_.next;_.next=C.next,C.next=w}o.baseQueue=_=C,p.pending=null}if(C=r.baseState,_===null)r.memoizedState=C;else{o=_.next;var M=w=null,O=null,X=o,nt=!1;do{var at=X.lane&-536870913;if(at!==X.lane?(Wt&at)===at:(tr&at)===at){var J=X.revertLane;if(J===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),at===_o&&(nt=!0);else if((tr&J)===J){X=X.next,J===_o&&(nt=!0);continue}else at={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(M=O=at,w=C):O=O.next=at,$t.lanes|=J,Ur|=J;at=X.action,Ea&&u(C,at),C=X.hasEagerState?X.eagerState:u(C,at)}else J={lane:at,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(M=O=J,w=C):O=O.next=J,$t.lanes|=at,Ur|=at;X=X.next}while(X!==null&&X!==o);if(O===null?w=C:O.next=M,!In(C,r.memoizedState)&&(De=!0,nt&&(u=xo,u!==null)))throw u;r.memoizedState=C,r.baseState=w,r.baseQueue=O,p.lastRenderedState=C}return _===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function Wd(r){var o=we(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var p=u.dispatch,_=u.pending,C=o.memoizedState;if(_!==null){u.pending=null;var w=_=_.next;do C=r(C,w.action),w=w.next;while(w!==_);In(C,o.memoizedState)||(De=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),u.lastRenderedState=C}return[C,p]}function fv(r,o,u){var p=$t,_=we(),C=Jt;if(C){if(u===void 0)throw Error(i(407));u=u()}else u=o();var w=!In((ce||_).memoizedState,u);if(w&&(_.memoizedState=u,De=!0),_=_.queue,Kd(gv.bind(null,p,_,r),[r]),_.getSnapshot!==o||w||Le!==null&&Le.memoizedState.tag&1){if(p.flags|=2048,wo(9,{destroy:void 0},pv.bind(null,p,_,u,o),null),de===null)throw Error(i(349));C||(tr&127)!==0||dv(p,o,u)}return u}function dv(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=$t.updateQueue,o===null?(o=au(),$t.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function pv(r,o,u,p){o.value=u,o.getSnapshot=p,mv(o)&&yv(r)}function gv(r,o,u){return u(function(){mv(o)&&yv(r)})}function mv(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!In(r,u)}catch{return!0}}function yv(r){var o=ma(r,2);o!==null&&An(o,r,2)}function Xd(r){var o=hn();if(typeof r=="function"){var u=r;if(r=u(),Ea){qe(!0);try{u()}finally{qe(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:r},o}function vv(r,o,u,p){return r.baseState=u,Yd(r,ce,typeof p=="function"?p:er)}function AR(r,o,u,p,_){if(uu(r))throw Error(i(485));if(r=o.action,r!==null){var C={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){C.listeners.push(w)}};D.T!==null?u(!0):C.isTransition=!1,p(C),u=o.pending,u===null?(C.next=o.pending=C,_v(o,C)):(C.next=u.next,o.pending=u.next=C)}}function _v(r,o){var u=o.action,p=o.payload,_=r.state;if(o.isTransition){var C=D.T,w={};D.T=w;try{var M=u(_,p),O=D.S;O!==null&&O(w,M),xv(r,o,M)}catch(X){Jd(r,o,X)}finally{C!==null&&w.types!==null&&(C.types=w.types),D.T=C}}else try{C=u(_,p),xv(r,o,C)}catch(X){Jd(r,o,X)}}function xv(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Cv(r,o,p)},function(p){return Jd(r,o,p)}):Cv(r,o,u)}function Cv(r,o,u){o.status="fulfilled",o.value=u,Sv(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,_v(r,u)))}function Jd(r,o,u){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,Sv(o),o=o.next;while(o!==p)}r.action=null}function Sv(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Tv(r,o){return o}function bv(r,o){if(Jt){var u=de.formState;if(u!==null){t:{var p=$t;if(Jt){if(ge){e:{for(var _=ge,C=jn;_.nodeType!==8;){if(!C){_=null;break e}if(_=ei(_.nextSibling),_===null){_=null;break e}}C=_.data,_=C==="F!"||C==="F"?_:null}if(_){ge=ei(_.nextSibling),p=_.data==="F!";break t}}Rr(p)}p=!1}p&&(o=u[0])}}return u=hn(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:o},u.queue=p,u=Hv.bind(null,$t,p),p.dispatch=u,p=Xd(!1),C=ep.bind(null,$t,!1,p.queue),p=hn(),_={state:o,dispatch:null,action:r,pending:null},p.queue=_,u=AR.bind(null,$t,_,C,u),_.dispatch=u,p.memoizedState=r,[o,u,!1]}function Ev(r){var o=we();return wv(o,ce,r)}function wv(r,o,u){if(o=Yd(r,o,Tv)[0],r=su(er)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=nl(o)}catch(w){throw w===Co?Qc:w}else p=o;o=we();var _=o.queue,C=_.dispatch;return u!==o.memoizedState&&($t.flags|=2048,wo(9,{destroy:void 0},kR.bind(null,_,u),null)),[p,C,r]}function kR(r,o){r.action=o}function Av(r){var o=we(),u=ce;if(u!==null)return wv(o,u,r);we(),o=o.memoizedState,u=we();var p=u.queue.dispatch;return u.memoizedState=r,[o,p,!1]}function wo(r,o,u,p){return r={tag:r,create:u,deps:p,inst:o,next:null},o=$t.updateQueue,o===null&&(o=au(),$t.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(p=u.next,u.next=r,r.next=p,o.lastEffect=r),r}function kv(){return we().memoizedState}function lu(r,o,u,p){var _=hn();$t.flags|=r,_.memoizedState=wo(1|o,{destroy:void 0},u,p===void 0?null:p)}function cu(r,o,u,p){var _=we();p=p===void 0?null:p;var C=_.memoizedState.inst;ce!==null&&p!==null&&$d(p,ce.memoizedState.deps)?_.memoizedState=wo(o,C,u,p):($t.flags|=r,_.memoizedState=wo(1|o,C,u,p))}function Mv(r,o){lu(8390656,8,r,o)}function Kd(r,o){cu(2048,8,r,o)}function MR(r){$t.flags|=4;var o=$t.updateQueue;if(o===null)o=au(),$t.updateQueue=o,o.events=[r];else{var u=o.events;u===null?o.events=[r]:u.push(r)}}function Rv(r){var o=we().memoizedState;return MR({ref:o,nextImpl:r}),function(){if((ne&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Lv(r,o){return cu(4,2,r,o)}function Dv(r,o){return cu(4,4,r,o)}function Nv(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Iv(r,o,u){u=u!=null?u.concat([r]):null,cu(4,4,Nv.bind(null,o,r),u)}function Qd(){}function Bv(r,o){var u=we();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&$d(o,p[1])?p[0]:(u.memoizedState=[r,o],r)}function Fv(r,o){var u=we();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&$d(o,p[1]))return p[0];if(p=r(),Ea){qe(!0);try{r()}finally{qe(!1)}}return u.memoizedState=[p,o],p}function Zd(r,o,u){return u===void 0||(tr&1073741824)!==0&&(Wt&261930)===0?r.memoizedState=o:(r.memoizedState=u,r=O_(),$t.lanes|=r,Ur|=r,u)}function Ov(r,o,u,p){return In(u,o)?u:To.current!==null?(r=Zd(r,u,p),In(r,o)||(De=!0),r):(tr&42)===0||(tr&1073741824)!==0&&(Wt&261930)===0?(De=!0,r.memoizedState=u):(r=O_(),$t.lanes|=r,Ur|=r,o)}function Pv(r,o,u,p,_){var C=U.p;U.p=C!==0&&8>C?C:8;var w=D.T,M={};D.T=M,ep(r,!1,o,u);try{var O=_(),X=D.S;if(X!==null&&X(M,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var nt=bR(O,p);il(r,o,nt,$n(r))}else il(r,o,p,$n(r))}catch(at){il(r,o,{then:function(){},status:"rejected",reason:at},$n())}finally{U.p=C,w!==null&&M.types!==null&&(w.types=M.types),D.T=w}}function RR(){}function jd(r,o,u,p){if(r.tag!==5)throw Error(i(476));var _=Uv(r).queue;Pv(r,_,o,z,u===null?RR:function(){return $v(r),u(p)})}function Uv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:z},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function $v(r){var o=Uv(r);o.next===null&&(o=r.alternate.memoizedState),il(r,o.next.queue,{},$n())}function tp(){return Xe(xl)}function zv(){return we().memoizedState}function qv(){return we().memoizedState}function LR(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=$n();r=Nr(u);var p=Ir(o,r,u);p!==null&&(An(p,o,u),Zs(p,o,u)),o={cache:Md()},r.payload=o;return}o=o.return}}function DR(r,o,u){var p=$n();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uu(r)?Gv(o,u):(u=vd(r,o,u,p),u!==null&&(An(u,r,p),Vv(u,o,p)))}function Hv(r,o,u){var p=$n();il(r,o,u,p)}function il(r,o,u,p){var _={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(uu(r))Gv(o,_);else{var C=r.alternate;if(r.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var w=o.lastRenderedState,M=C(w,u);if(_.hasEagerState=!0,_.eagerState=M,In(M,w))return Gc(r,o,_,0),de===null&&Hc(),!1}catch{}finally{}if(u=vd(r,o,_,p),u!==null)return An(u,r,p),Vv(u,o,p),!0}return!1}function ep(r,o,u,p){if(p={lane:2,revertLane:Np(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},uu(r)){if(o)throw Error(i(479))}else o=vd(r,u,p,2),o!==null&&An(o,r,2)}function uu(r){var o=r.alternate;return r===$t||o!==null&&o===$t}function Gv(r,o){bo=iu=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function Vv(r,o,u){if((u&4194048)!==0){var p=o.lanes;p&=r.pendingLanes,u|=p,o.lanes=u,Ds(r,u)}}var rl={readContext:Xe,use:ou,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};rl.useEffectEvent=Se;var Yv={readContext:Xe,use:ou,useCallback:function(r,o){return hn().memoizedState=[r,o===void 0?null:o],r},useContext:Xe,useEffect:Mv,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,lu(4194308,4,Nv.bind(null,o,r),u)},useLayoutEffect:function(r,o){return lu(4194308,4,r,o)},useInsertionEffect:function(r,o){lu(4,2,r,o)},useMemo:function(r,o){var u=hn();o=o===void 0?null:o;var p=r();if(Ea){qe(!0);try{r()}finally{qe(!1)}}return u.memoizedState=[p,o],p},useReducer:function(r,o,u){var p=hn();if(u!==void 0){var _=u(o);if(Ea){qe(!0);try{u(o)}finally{qe(!1)}}}else _=o;return p.memoizedState=p.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},p.queue=r,r=r.dispatch=DR.bind(null,$t,r),[p.memoizedState,r]},useRef:function(r){var o=hn();return r={current:r},o.memoizedState=r},useState:function(r){r=Xd(r);var o=r.queue,u=Hv.bind(null,$t,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Qd,useDeferredValue:function(r,o){var u=hn();return Zd(u,r,o)},useTransition:function(){var r=Xd(!1);return r=Pv.bind(null,$t,r.queue,!0,!1),hn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var p=$t,_=hn();if(Jt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),de===null)throw Error(i(349));(Wt&127)!==0||dv(p,o,u)}_.memoizedState=u;var C={value:u,getSnapshot:o};return _.queue=C,Mv(gv.bind(null,p,C,r),[r]),p.flags|=2048,wo(9,{destroy:void 0},pv.bind(null,p,C,u,o),null),u},useId:function(){var r=hn(),o=de.identifierPrefix;if(Jt){var u=ki,p=Ai;u=(p&~(1<<32-ke(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=ru++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=ER++,o="_"+o+"r_"+u.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:tp,useFormState:bv,useActionState:bv,useOptimistic:function(r){var o=hn();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ep.bind(null,$t,!0,u),u.dispatch=o,[r,o]},useMemoCache:Vd,useCacheRefresh:function(){return hn().memoizedState=LR.bind(null,$t)},useEffectEvent:function(r){var o=hn(),u={impl:r};return o.memoizedState=u,function(){if((ne&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},np={readContext:Xe,use:ou,useCallback:Bv,useContext:Xe,useEffect:Kd,useImperativeHandle:Iv,useInsertionEffect:Lv,useLayoutEffect:Dv,useMemo:Fv,useReducer:su,useRef:kv,useState:function(){return su(er)},useDebugValue:Qd,useDeferredValue:function(r,o){var u=we();return Ov(u,ce.memoizedState,r,o)},useTransition:function(){var r=su(er)[0],o=we().memoizedState;return[typeof r=="boolean"?r:nl(r),o]},useSyncExternalStore:fv,useId:zv,useHostTransitionStatus:tp,useFormState:Ev,useActionState:Ev,useOptimistic:function(r,o){var u=we();return vv(u,ce,r,o)},useMemoCache:Vd,useCacheRefresh:qv};np.useEffectEvent=Rv;var Wv={readContext:Xe,use:ou,useCallback:Bv,useContext:Xe,useEffect:Kd,useImperativeHandle:Iv,useInsertionEffect:Lv,useLayoutEffect:Dv,useMemo:Fv,useReducer:Wd,useRef:kv,useState:function(){return Wd(er)},useDebugValue:Qd,useDeferredValue:function(r,o){var u=we();return ce===null?Zd(u,r,o):Ov(u,ce.memoizedState,r,o)},useTransition:function(){var r=Wd(er)[0],o=we().memoizedState;return[typeof r=="boolean"?r:nl(r),o]},useSyncExternalStore:fv,useId:zv,useHostTransitionStatus:tp,useFormState:Av,useActionState:Av,useOptimistic:function(r,o){var u=we();return ce!==null?vv(u,ce,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:qv};Wv.useEffectEvent=Rv;function ip(r,o,u,p){o=r.memoizedState,u=u(p,o),u=u==null?o:m({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var rp={enqueueSetState:function(r,o,u){r=r._reactInternals;var p=$n(),_=Nr(p);_.payload=o,u!=null&&(_.callback=u),o=Ir(r,_,p),o!==null&&(An(o,r,p),Zs(o,r,p))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var p=$n(),_=Nr(p);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Ir(r,_,p),o!==null&&(An(o,r,p),Zs(o,r,p))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=$n(),p=Nr(u);p.tag=2,o!=null&&(p.callback=o),o=Ir(r,p,u),o!==null&&(An(o,r,u),Zs(o,r,u))}};function Xv(r,o,u,p,_,C,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,C,w):o.prototype&&o.prototype.isPureReactComponent?!Gs(u,p)||!Gs(_,C):!0}function Jv(r,o,u,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==r&&rp.enqueueReplaceState(o,o.state,null)}function wa(r,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(r=r.defaultProps){u===o&&(u=m({},u));for(var _ in r)u[_]===void 0&&(u[_]=r[_])}return u}function Kv(r){qc(r)}function Qv(r){console.error(r)}function Zv(r){qc(r)}function hu(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function jv(r,o,u){try{var p=r.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ap(r,o,u){return u=Nr(u),u.tag=3,u.payload={element:null},u.callback=function(){hu(r,o)},u}function t_(r){return r=Nr(r),r.tag=3,r}function e_(r,o,u,p){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var C=p.value;r.payload=function(){return _(C)},r.callback=function(){jv(o,u,p)}}var w=u.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){jv(o,u,p),typeof _!="function"&&($r===null?$r=new Set([this]):$r.add(this));var M=p.stack;this.componentDidCatch(p.value,{componentStack:M!==null?M:""})})}function NR(r,o,u,p,_){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&vo(o,u,_,!0),u=Fn.current,u!==null){switch(u.tag){case 31:case 13:return ti===null?Tu():u.alternate===null&&Te===0&&(Te=3),u.flags&=-257,u.flags|=65536,u.lanes=_,p===Zc?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),Rp(r,p,_)),!1;case 22:return u.flags|=65536,p===Zc?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),Rp(r,p,_)),!1}throw Error(i(435,u.tag))}return Rp(r,p,_),Tu(),!1}if(Jt)return o=Fn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,p!==bd&&(r=Error(i(422),{cause:p}),Ws(Kn(r,u)))):(p!==bd&&(o=Error(i(423),{cause:p}),Ws(Kn(o,u))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,p=Kn(p,u),_=ap(r.stateNode,p,_),Bd(r,_),Te!==4&&(Te=2)),!1;var C=Error(i(520),{cause:p});if(C=Kn(C,u),fl===null?fl=[C]:fl.push(C),Te!==4&&(Te=2),o===null)return!0;p=Kn(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=_&-_,u.lanes|=r,r=ap(u.stateNode,p,r),Bd(u,r),!1;case 1:if(o=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&($r===null||!$r.has(C))))return u.flags|=65536,_&=-_,u.lanes|=_,_=t_(_),e_(_,r,u,p),Bd(u,_),!1}u=u.return}while(u!==null);return!1}var op=Error(i(461)),De=!1;function Je(r,o,u,p){o.child=r===null?av(o,null,u,p):ba(o,r.child,u,p)}function n_(r,o,u,p,_){u=u.render;var C=o.ref;if("ref"in p){var w={};for(var M in p)M!=="ref"&&(w[M]=p[M])}else w=p;return xa(o),p=zd(r,o,u,w,C,_),M=qd(),r!==null&&!De?(Hd(r,o,_),nr(r,o,_)):(Jt&&M&&Sd(o),o.flags|=1,Je(r,o,p,_),o.child)}function i_(r,o,u,p,_){if(r===null){var C=u.type;return typeof C=="function"&&!_d(C)&&C.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=C,r_(r,o,C,p,_)):(r=Yc(u.type,null,p,o,o.mode,_),r.ref=o.ref,r.return=o,o.child=r)}if(C=r.child,!pp(r,_)){var w=C.memoizedProps;if(u=u.compare,u=u!==null?u:Gs,u(w,p)&&r.ref===o.ref)return nr(r,o,_)}return o.flags|=1,r=Ki(C,p),r.ref=o.ref,r.return=o,o.child=r}function r_(r,o,u,p,_){if(r!==null){var C=r.memoizedProps;if(Gs(C,p)&&r.ref===o.ref)if(De=!1,o.pendingProps=p=C,pp(r,_))(r.flags&131072)!==0&&(De=!0);else return o.lanes=r.lanes,nr(r,o,_)}return sp(r,o,u,p,_)}function a_(r,o,u,p){var _=p.children,C=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(C=C!==null?C.baseLanes|u:u,r!==null){for(p=o.child=r.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~C}else p=0,o.child=null;return o_(r,o,C,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Kc(o,C!==null?C.cachePool:null),C!==null?lv(o,C):Od(),cv(o);else return p=o.lanes=536870912,o_(r,o,C!==null?C.baseLanes|u:u,u,p)}else C!==null?(Kc(o,C.cachePool),lv(o,C),Fr(),o.memoizedState=null):(r!==null&&Kc(o,null),Od(),Fr());return Je(r,o,_,u),o.child}function al(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function o_(r,o,u,p,_){var C=Ld();return C=C===null?null:{parent:Re._currentValue,pool:C},o.memoizedState={baseLanes:u,cachePool:C},r!==null&&Kc(o,null),Od(),cv(o),r!==null&&vo(r,o,p,!0),o.childLanes=_,null}function fu(r,o){return o=pu({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function s_(r,o,u){return ba(o,r.child,null,u),r=fu(o,o.pendingProps),r.flags|=2,On(o),o.memoizedState=null,r}function IR(r,o,u){var p=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(Jt){if(p.mode==="hidden")return r=fu(o,p),o.lanes=536870912,al(null,r);if(Ud(o),(r=ge)?(r=_x(r,jn),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:kr!==null?{id:Ai,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},u=G0(r),u.return=o,o.child=u,We=o,ge=null)):r=null,r===null)throw Rr(o);return o.lanes=536870912,null}return fu(o,p)}var C=r.memoizedState;if(C!==null){var w=C.dehydrated;if(Ud(o),_)if(o.flags&256)o.flags&=-257,o=s_(r,o,u);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(De||vo(r,o,u,!1),_=(u&r.childLanes)!==0,De||_){if(p=de,p!==null&&(w=kc(p,u),w!==0&&w!==C.retryLane))throw C.retryLane=w,ma(r,w),An(p,r,w),op;Tu(),o=s_(r,o,u)}else r=C.treeContext,ge=ei(w.nextSibling),We=o,Jt=!0,Mr=null,jn=!1,r!==null&&W0(o,r),o=fu(o,p),o.flags|=4096;return o}return r=Ki(r.child,{mode:p.mode,children:p.children}),r.ref=o.ref,o.child=r,r.return=o,r}function du(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function sp(r,o,u,p,_){return xa(o),u=zd(r,o,u,p,void 0,_),p=qd(),r!==null&&!De?(Hd(r,o,_),nr(r,o,_)):(Jt&&p&&Sd(o),o.flags|=1,Je(r,o,u,_),o.child)}function l_(r,o,u,p,_,C){return xa(o),o.updateQueue=null,u=hv(o,p,u,_),uv(r),p=qd(),r!==null&&!De?(Hd(r,o,C),nr(r,o,C)):(Jt&&p&&Sd(o),o.flags|=1,Je(r,o,u,C),o.child)}function c_(r,o,u,p,_){if(xa(o),o.stateNode===null){var C=po,w=u.contextType;typeof w=="object"&&w!==null&&(C=Xe(w)),C=new u(p,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=rp,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=p,C.state=o.memoizedState,C.refs={},Nd(o),w=u.contextType,C.context=typeof w=="object"&&w!==null?Xe(w):po,C.state=o.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(ip(o,u,w,p),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(w=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),w!==C.state&&rp.enqueueReplaceState(C,C.state,null),tl(o,p,C,_),js(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(r===null){C=o.stateNode;var M=o.memoizedProps,O=wa(u,M);C.props=O;var X=C.context,nt=u.contextType;w=po,typeof nt=="object"&&nt!==null&&(w=Xe(nt));var at=u.getDerivedStateFromProps;nt=typeof at=="function"||typeof C.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,nt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M||X!==w)&&Jv(o,C,p,w),Dr=!1;var J=o.memoizedState;C.state=J,tl(o,p,C,_),js(),X=o.memoizedState,M||J!==X||Dr?(typeof at=="function"&&(ip(o,u,at,p),X=o.memoizedState),(O=Dr||Xv(o,u,O,p,J,X,w))?(nt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=X),C.props=p,C.state=X,C.context=w,p=O):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,Id(r,o),w=o.memoizedProps,nt=wa(u,w),C.props=nt,at=o.pendingProps,J=C.context,X=u.contextType,O=po,typeof X=="object"&&X!==null&&(O=Xe(X)),M=u.getDerivedStateFromProps,(X=typeof M=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(w!==at||J!==O)&&Jv(o,C,p,O),Dr=!1,J=o.memoizedState,C.state=J,tl(o,p,C,_),js();var j=o.memoizedState;w!==at||J!==j||Dr||r!==null&&r.dependencies!==null&&Xc(r.dependencies)?(typeof M=="function"&&(ip(o,u,M,p),j=o.memoizedState),(nt=Dr||Xv(o,u,nt,p,J,j,O)||r!==null&&r.dependencies!==null&&Xc(r.dependencies))?(X||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,j,O),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,j,O)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=j),C.props=p,C.state=j,C.context=O,p=nt):(typeof C.componentDidUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(o.flags|=1024),p=!1)}return C=p,du(r,o),p=(o.flags&128)!==0,C||p?(C=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,r!==null&&p?(o.child=ba(o,r.child,null,_),o.child=ba(o,null,u,_)):Je(r,o,u,_),o.memoizedState=C.state,r=o.child):r=nr(r,o,_),r}function u_(r,o,u,p){return va(),o.flags|=256,Je(r,o,u,p),o.child}var lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(r){return{baseLanes:r,cachePool:j0()}}function up(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Un),r}function h_(r,o,u){var p=o.pendingProps,_=!1,C=(o.flags&128)!==0,w;if((w=C)||(w=r!==null&&r.memoizedState===null?!1:(Ee.current&2)!==0),w&&(_=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,r===null){if(Jt){if(_?Br(o):Fr(),(r=ge)?(r=_x(r,jn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:kr!==null?{id:Ai,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},u=G0(r),u.return=o,o.child=u,We=o,ge=null)):r=null,r===null)throw Rr(o);return Yp(r)?o.lanes=32:o.lanes=536870912,null}var M=p.children;return p=p.fallback,_?(Fr(),_=o.mode,M=pu({mode:"hidden",children:M},_),p=ya(p,_,u,null),M.return=o,p.return=o,M.sibling=p,o.child=M,p=o.child,p.memoizedState=cp(u),p.childLanes=up(r,w,u),o.memoizedState=lp,al(null,p)):(Br(o),hp(o,M))}var O=r.memoizedState;if(O!==null&&(M=O.dehydrated,M!==null)){if(C)o.flags&256?(Br(o),o.flags&=-257,o=fp(r,o,u)):o.memoizedState!==null?(Fr(),o.child=r.child,o.flags|=128,o=null):(Fr(),M=p.fallback,_=o.mode,p=pu({mode:"visible",children:p.children},_),M=ya(M,_,u,null),M.flags|=2,p.return=o,M.return=o,p.sibling=M,o.child=p,ba(o,r.child,null,u),p=o.child,p.memoizedState=cp(u),p.childLanes=up(r,w,u),o.memoizedState=lp,o=al(null,p));else if(Br(o),Yp(M)){if(w=M.nextSibling&&M.nextSibling.dataset,w)var X=w.dgst;w=X,p=Error(i(419)),p.stack="",p.digest=w,Ws({value:p,source:null,stack:null}),o=fp(r,o,u)}else if(De||vo(r,o,u,!1),w=(u&r.childLanes)!==0,De||w){if(w=de,w!==null&&(p=kc(w,u),p!==0&&p!==O.retryLane))throw O.retryLane=p,ma(r,p),An(w,r,p),op;Vp(M)||Tu(),o=fp(r,o,u)}else Vp(M)?(o.flags|=192,o.child=r.child,o=null):(r=O.treeContext,ge=ei(M.nextSibling),We=o,Jt=!0,Mr=null,jn=!1,r!==null&&W0(o,r),o=hp(o,p.children),o.flags|=4096);return o}return _?(Fr(),M=p.fallback,_=o.mode,O=r.child,X=O.sibling,p=Ki(O,{mode:"hidden",children:p.children}),p.subtreeFlags=O.subtreeFlags&65011712,X!==null?M=Ki(X,M):(M=ya(M,_,u,null),M.flags|=2),M.return=o,p.return=o,p.sibling=M,o.child=p,al(null,p),p=o.child,M=r.child.memoizedState,M===null?M=cp(u):(_=M.cachePool,_!==null?(O=Re._currentValue,_=_.parent!==O?{parent:O,pool:O}:_):_=j0(),M={baseLanes:M.baseLanes|u,cachePool:_}),p.memoizedState=M,p.childLanes=up(r,w,u),o.memoizedState=lp,al(r.child,p)):(Br(o),u=r.child,r=u.sibling,u=Ki(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,r!==null&&(w=o.deletions,w===null?(o.deletions=[r],o.flags|=16):w.push(r)),o.child=u,o.memoizedState=null,u)}function hp(r,o){return o=pu({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function pu(r,o){return r=Bn(22,r,null,o),r.lanes=0,r}function fp(r,o,u){return ba(o,r.child,null,u),r=hp(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function f_(r,o,u){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),Ad(r.return,o,u)}function dp(r,o,u,p,_,C){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_,treeForkCount:C}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=_,w.treeForkCount=C)}function d_(r,o,u){var p=o.pendingProps,_=p.revealOrder,C=p.tail;p=p.children;var w=Ee.current,M=(w&2)!==0;if(M?(w=w&1|2,o.flags|=128):w&=1,rt(Ee,w),Je(r,o,p,u),p=Jt?Ys:0,!M&&r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&f_(r,u,o);else if(r.tag===19)f_(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(_){case"forwards":for(u=o.child,_=null;u!==null;)r=u.alternate,r!==null&&nu(r)===null&&(_=u),u=u.sibling;u=_,u===null?(_=o.child,o.child=null):(_=u.sibling,u.sibling=null),dp(o,!1,_,u,C,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=o.child,o.child=null;_!==null;){if(r=_.alternate,r!==null&&nu(r)===null){o.child=_;break}r=_.sibling,_.sibling=u,u=_,_=r}dp(o,!0,u,null,C,p);break;case"together":dp(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function nr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Ur|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(vo(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=Ki(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=Ki(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function pp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Xc(r)))}function BR(r,o,u){switch(o.tag){case 3:Ut(o,o.stateNode.containerInfo),Lr(o,Re,r.memoizedState.cache),va();break;case 27:case 5:Qt(o);break;case 4:Ut(o,o.stateNode.containerInfo);break;case 10:Lr(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ud(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Br(o),o.flags|=128,null):(u&o.child.childLanes)!==0?h_(r,o,u):(Br(o),r=nr(r,o,u),r!==null?r.sibling:null);Br(o);break;case 19:var _=(r.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(vo(r,o,u,!1),p=(u&o.childLanes)!==0),_){if(p)return d_(r,o,u);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),rt(Ee,Ee.current),p)break;return null;case 22:return o.lanes=0,a_(r,o,u,o.pendingProps);case 24:Lr(o,Re,r.memoizedState.cache)}return nr(r,o,u)}function p_(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)De=!0;else{if(!pp(r,u)&&(o.flags&128)===0)return De=!1,BR(r,o,u);De=(r.flags&131072)!==0}else De=!1,Jt&&(o.flags&1048576)!==0&&Y0(o,Ys,o.index);switch(o.lanes=0,o.tag){case 16:t:{var p=o.pendingProps;if(r=Sa(o.elementType),o.type=r,typeof r=="function")_d(r)?(p=wa(r,p),o.tag=1,o=c_(null,o,r,p,u)):(o.tag=0,o=sp(null,o,r,p,u));else{if(r!=null){var _=r.$$typeof;if(_===I){o.tag=11,o=n_(null,o,r,p,u);break t}else if(_===N){o.tag=14,o=i_(null,o,r,p,u);break t}}throw o=Y(r)||r,Error(i(306,o,""))}}return o;case 0:return sp(r,o,o.type,o.pendingProps,u);case 1:return p=o.type,_=wa(p,o.pendingProps),c_(r,o,p,_,u);case 3:t:{if(Ut(o,o.stateNode.containerInfo),r===null)throw Error(i(387));p=o.pendingProps;var C=o.memoizedState;_=C.element,Id(r,o),tl(o,p,null,u);var w=o.memoizedState;if(p=w.cache,Lr(o,Re,p),p!==C.cache&&kd(o,[Re],u,!0),js(),p=w.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=u_(r,o,p,u);break t}else if(p!==_){_=Kn(Error(i(424)),o),Ws(_),o=u_(r,o,p,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ge=ei(r.firstChild),We=o,Jt=!0,Mr=null,jn=!0,u=av(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(va(),p===_){o=nr(r,o,u);break t}Je(r,o,p,u)}o=o.child}return o;case 26:return du(r,o),r===null?(u=Ex(o.type,null,o.pendingProps,null))?o.memoizedState=u:Jt||(u=o.type,r=o.pendingProps,p=Ru(dt.current).createElement(u),p[Me]=o,p[ve]=r,Ke(p,u,r),qt(p),o.stateNode=p):o.memoizedState=Ex(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Qt(o),r===null&&Jt&&(p=o.stateNode=Sx(o.type,o.pendingProps,dt.current),We=o,jn=!0,_=ge,Gr(o.type)?(Wp=_,ge=ei(p.firstChild)):ge=_),Je(r,o,o.pendingProps.children,u),du(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Jt&&((_=p=ge)&&(p=hL(p,o.type,o.pendingProps,jn),p!==null?(o.stateNode=p,We=o,ge=ei(p.firstChild),jn=!1,_=!0):_=!1),_||Rr(o)),Qt(o),_=o.type,C=o.pendingProps,w=r!==null?r.memoizedProps:null,p=C.children,qp(_,C)?p=null:w!==null&&qp(_,w)&&(o.flags|=32),o.memoizedState!==null&&(_=zd(r,o,wR,null,null,u),xl._currentValue=_),du(r,o),Je(r,o,p,u),o.child;case 6:return r===null&&Jt&&((r=u=ge)&&(u=fL(u,o.pendingProps,jn),u!==null?(o.stateNode=u,We=o,ge=null,r=!0):r=!1),r||Rr(o)),null;case 13:return h_(r,o,u);case 4:return Ut(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=ba(o,null,p,u):Je(r,o,p,u),o.child;case 11:return n_(r,o,o.type,o.pendingProps,u);case 7:return Je(r,o,o.pendingProps,u),o.child;case 8:return Je(r,o,o.pendingProps.children,u),o.child;case 12:return Je(r,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,Lr(o,o.type,p.value),Je(r,o,p.children,u),o.child;case 9:return _=o.type._context,p=o.pendingProps.children,xa(o),_=Xe(_),p=p(_),o.flags|=1,Je(r,o,p,u),o.child;case 14:return i_(r,o,o.type,o.pendingProps,u);case 15:return r_(r,o,o.type,o.pendingProps,u);case 19:return d_(r,o,u);case 31:return IR(r,o,u);case 22:return a_(r,o,u,o.pendingProps);case 24:return xa(o),p=Xe(Re),r===null?(_=Ld(),_===null&&(_=de,C=Md(),_.pooledCache=C,C.refCount++,C!==null&&(_.pooledCacheLanes|=u),_=C),o.memoizedState={parent:p,cache:_},Nd(o),Lr(o,Re,_)):((r.lanes&u)!==0&&(Id(r,o),tl(o,null,null,u),js()),_=r.memoizedState,C=o.memoizedState,_.parent!==p?(_={parent:p,cache:p},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),Lr(o,Re,p)):(p=C.cache,Lr(o,Re,p),p!==_.cache&&kd(o,[Re],u,!0))),Je(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function ir(r){r.flags|=4}function gp(r,o,u,p,_){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(_&335544128)===_)if(r.stateNode.complete)r.flags|=8192;else if(z_())r.flags|=8192;else throw Ta=Zc,Dd}else r.flags&=-16777217}function g_(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Rx(o))if(z_())r.flags|=8192;else throw Ta=Zc,Dd}function gu(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Vi():536870912,r.lanes|=o,Ro|=o)}function ol(r,o){if(!Jt)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function me(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,p=0;if(o)for(var _=r.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=p,r.childLanes=u,o}function FR(r,o,u){var p=o.pendingProps;switch(Td(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(o),null;case 1:return me(o),null;case 3:return u=o.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ji(Re),Ft(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(yo(o)?ir(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ed())),me(o),null;case 26:var _=o.type,C=o.memoizedState;return r===null?(ir(o),C!==null?(me(o),g_(o,C)):(me(o),gp(o,_,null,p,u))):C?C!==r.memoizedState?(ir(o),me(o),g_(o,C)):(me(o),o.flags&=-16777217):(r=r.memoizedProps,r!==p&&ir(o),me(o),gp(o,_,r,p,u)),null;case 27:if(pe(o),u=dt.current,_=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&ir(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return me(o),null}r=ut.current,yo(o)?X0(o):(r=Sx(_,p,u),o.stateNode=r,ir(o))}return me(o),null;case 5:if(pe(o),_=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&ir(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return me(o),null}if(C=ut.current,yo(o))X0(o);else{var w=Ru(dt.current);switch(C){case 1:C=w.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:C=w.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":C=w.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":C=w.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":C=w.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof p.is=="string"?w.createElement("select",{is:p.is}):w.createElement("select"),p.multiple?C.multiple=!0:p.size&&(C.size=p.size);break;default:C=typeof p.is=="string"?w.createElement(_,{is:p.is}):w.createElement(_)}}C[Me]=o,C[ve]=p;t:for(w=o.child;w!==null;){if(w.tag===5||w.tag===6)C.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===o)break t;for(;w.sibling===null;){if(w.return===null||w.return===o)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}o.stateNode=C;t:switch(Ke(C,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break t;case"img":p=!0;break t;default:p=!1}p&&ir(o)}}return me(o),gp(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,u),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==p&&ir(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(i(166));if(r=dt.current,yo(o)){if(r=o.stateNode,u=o.memoizedProps,p=null,_=We,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}r[Me]=o,r=!!(r.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||hx(r.nodeValue,u)),r||Rr(o,!0)}else r=Ru(r).createTextNode(p),r[Me]=o,o.stateNode=r}return me(o),null;case 31:if(u=o.memoizedState,r===null||r.memoizedState!==null){if(p=yo(o),u!==null){if(r===null){if(!p)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Me]=o}else va(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;me(o),r=!1}else u=Ed(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return o.flags&256?(On(o),o):(On(o),null);if((o.flags&128)!==0)throw Error(i(558))}return me(o),null;case 13:if(p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=yo(o),p!==null&&p.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Me]=o}else va(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;me(o),_=!1}else _=Ed(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(On(o),o):(On(o),null)}return On(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,r=r!==null&&r.memoizedState!==null,u&&(p=o.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==_&&(p.flags|=2048)),u!==r&&u&&(o.child.flags|=8192),gu(o,o.updateQueue),me(o),null);case 4:return Ft(),r===null&&Op(o.stateNode.containerInfo),me(o),null;case 10:return ji(o.type),me(o),null;case 19:if(Q(Ee),p=o.memoizedState,p===null)return me(o),null;if(_=(o.flags&128)!==0,C=p.rendering,C===null)if(_)ol(p,!1);else{if(Te!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(C=nu(r),C!==null){for(o.flags|=128,ol(p,!1),r=C.updateQueue,o.updateQueue=r,gu(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)H0(u,r),u=u.sibling;return rt(Ee,Ee.current&1|2),Jt&&Qi(o,p.treeForkCount),o.child}r=r.sibling}p.tail!==null&&Ve()>xu&&(o.flags|=128,_=!0,ol(p,!1),o.lanes=4194304)}else{if(!_)if(r=nu(C),r!==null){if(o.flags|=128,_=!0,r=r.updateQueue,o.updateQueue=r,gu(o,r),ol(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!Jt)return me(o),null}else 2*Ve()-p.renderingStartTime>xu&&u!==536870912&&(o.flags|=128,_=!0,ol(p,!1),o.lanes=4194304);p.isBackwards?(C.sibling=o.child,o.child=C):(r=p.last,r!==null?r.sibling=C:o.child=C,p.last=C)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ve(),r.sibling=null,u=Ee.current,rt(Ee,_?u&1|2:u&1),Jt&&Qi(o,p.treeForkCount),r):(me(o),null);case 22:case 23:return On(o),Pd(),p=o.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(me(o),o.subtreeFlags&6&&(o.flags|=8192)):me(o),u=o.updateQueue,u!==null&&gu(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),r!==null&&Q(Ca),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ji(Re),me(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function OR(r,o){switch(Td(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return ji(Re),Ft(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return pe(o),null;case 31:if(o.memoizedState!==null){if(On(o),o.alternate===null)throw Error(i(340));va()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(On(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));va()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Q(Ee),null;case 4:return Ft(),null;case 10:return ji(o.type),null;case 22:case 23:return On(o),Pd(),r!==null&&Q(Ca),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return ji(Re),null;case 25:return null;default:return null}}function m_(r,o){switch(Td(o),o.tag){case 3:ji(Re),Ft();break;case 26:case 27:case 5:pe(o);break;case 4:Ft();break;case 31:o.memoizedState!==null&&On(o);break;case 13:On(o);break;case 19:Q(Ee);break;case 10:ji(o.type);break;case 22:case 23:On(o),Pd(),r!==null&&Q(Ca);break;case 24:ji(Re)}}function sl(r,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&r)===r){p=void 0;var C=u.create,w=u.inst;p=C(),w.destroy=p}u=u.next}while(u!==_)}}catch(M){le(o,o.return,M)}}function Or(r,o,u){try{var p=o.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var C=_.next;p=C;do{if((p.tag&r)===r){var w=p.inst,M=w.destroy;if(M!==void 0){w.destroy=void 0,_=o;var O=u,X=M;try{X()}catch(nt){le(_,O,nt)}}}p=p.next}while(p!==C)}}catch(nt){le(o,o.return,nt)}}function y_(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{sv(o,u)}catch(p){le(r,r.return,p)}}}function v_(r,o,u){u.props=wa(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(p){le(r,o,p)}}function ll(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof u=="function"?r.refCleanup=u(p):u.current=p}}catch(_){le(r,o,_)}}function Mi(r,o){var u=r.ref,p=r.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(_){le(r,o,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){le(r,o,_)}else u.current=null}function __(r){var o=r.type,u=r.memoizedProps,p=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break t;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(_){le(r,r.return,_)}}function mp(r,o,u){try{var p=r.stateNode;aL(p,r.type,u,o),p[ve]=o}catch(_){le(r,r.return,_)}}function x_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Gr(r.type)||r.tag===4}function yp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||x_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Gr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vp(r,o,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Xi));else if(p!==4&&(p===27&&Gr(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(vp(r,o,u),r=r.sibling;r!==null;)vp(r,o,u),r=r.sibling}function mu(r,o,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(p!==4&&(p===27&&Gr(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(mu(r,o,u),r=r.sibling;r!==null;)mu(r,o,u),r=r.sibling}function C_(r){var o=r.stateNode,u=r.memoizedProps;try{for(var p=r.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);Ke(o,p,u),o[Me]=r,o[ve]=u}catch(C){le(r,r.return,C)}}var rr=!1,Ne=!1,_p=!1,S_=typeof WeakSet=="function"?WeakSet:Set,He=null;function PR(r,o){if(r=r.containerInfo,$p=Ou,r=I0(r),fd(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var _=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break t}var w=0,M=-1,O=-1,X=0,nt=0,at=r,J=null;e:for(;;){for(var j;at!==u||_!==0&&at.nodeType!==3||(M=w+_),at!==C||p!==0&&at.nodeType!==3||(O=w+p),at.nodeType===3&&(w+=at.nodeValue.length),(j=at.firstChild)!==null;)J=at,at=j;for(;;){if(at===r)break e;if(J===u&&++X===_&&(M=w),J===C&&++nt===p&&(O=w),(j=at.nextSibling)!==null)break;at=J,J=at.parentNode}at=j}u=M===-1||O===-1?null:{start:M,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(zp={focusedElem:r,selectionRange:u},Ou=!1,He=o;He!==null;)if(o=He,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,He=r;else for(;He!==null;){switch(o=He,C=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)_=r[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&C!==null){r=void 0,u=o,_=C.memoizedProps,C=C.memoizedState,p=u.stateNode;try{var xt=wa(u.type,_);r=p.getSnapshotBeforeUpdate(xt,C),p.__reactInternalSnapshotBeforeUpdate=r}catch(Dt){le(u,u.return,Dt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)Gp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Gp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,He=r;break}He=o.return}}function T_(r,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:or(r,u),p&4&&sl(5,u);break;case 1:if(or(r,u),p&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(w){le(u,u.return,w)}else{var _=wa(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(_,o,r.__reactInternalSnapshotBeforeUpdate)}catch(w){le(u,u.return,w)}}p&64&&y_(u),p&512&&ll(u,u.return);break;case 3:if(or(r,u),p&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{sv(r,o)}catch(w){le(u,u.return,w)}}break;case 27:o===null&&p&4&&C_(u);case 26:case 5:or(r,u),o===null&&p&4&&__(u),p&512&&ll(u,u.return);break;case 12:or(r,u);break;case 31:or(r,u),p&4&&w_(r,u);break;case 13:or(r,u),p&4&&A_(r,u),p&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=WR.bind(null,u),dL(r,u))));break;case 22:if(p=u.memoizedState!==null||rr,!p){o=o!==null&&o.memoizedState!==null||Ne,_=rr;var C=Ne;rr=p,(Ne=o)&&!C?sr(r,u,(u.subtreeFlags&8772)!==0):or(r,u),rr=_,Ne=C}break;case 30:break;default:or(r,u)}}function b_(r){var o=r.alternate;o!==null&&(r.alternate=null,b_(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&P(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _e=null,Tn=!1;function ar(r,o,u){for(u=u.child;u!==null;)E_(r,o,u),u=u.sibling}function E_(r,o,u){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ei,u)}catch{}switch(u.tag){case 26:Ne||Mi(u,o),ar(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ne||Mi(u,o);var p=_e,_=Tn;Gr(u.type)&&(_e=u.stateNode,Tn=!1),ar(r,o,u),yl(u.stateNode),_e=p,Tn=_;break;case 5:Ne||Mi(u,o);case 6:if(p=_e,_=Tn,_e=null,ar(r,o,u),_e=p,Tn=_,_e!==null)if(Tn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(u.stateNode)}catch(C){le(u,o,C)}else try{_e.removeChild(u.stateNode)}catch(C){le(u,o,C)}break;case 18:_e!==null&&(Tn?(r=_e,yx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Po(r)):yx(_e,u.stateNode));break;case 4:p=_e,_=Tn,_e=u.stateNode.containerInfo,Tn=!0,ar(r,o,u),_e=p,Tn=_;break;case 0:case 11:case 14:case 15:Or(2,u,o),Ne||Or(4,u,o),ar(r,o,u);break;case 1:Ne||(Mi(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&v_(u,o,p)),ar(r,o,u);break;case 21:ar(r,o,u);break;case 22:Ne=(p=Ne)||u.memoizedState!==null,ar(r,o,u),Ne=p;break;default:ar(r,o,u)}}function w_(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Po(r)}catch(u){le(o,o.return,u)}}}function A_(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Po(r)}catch(u){le(o,o.return,u)}}function UR(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new S_),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new S_),o;default:throw Error(i(435,r.tag))}}function yu(r,o){var u=UR(r);o.forEach(function(p){if(!u.has(p)){u.add(p);var _=XR.bind(null,r,p);p.then(_,_)}})}function bn(r,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p],C=r,w=o,M=w;t:for(;M!==null;){switch(M.tag){case 27:if(Gr(M.type)){_e=M.stateNode,Tn=!1;break t}break;case 5:_e=M.stateNode,Tn=!1;break t;case 3:case 4:_e=M.stateNode.containerInfo,Tn=!0;break t}M=M.return}if(_e===null)throw Error(i(160));E_(C,w,_),_e=null,Tn=!1,C=_.alternate,C!==null&&(C.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)k_(o,r),o=o.sibling}var fi=null;function k_(r,o){var u=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:bn(o,r),En(r),p&4&&(Or(3,r,r.return),sl(3,r),Or(5,r,r.return));break;case 1:bn(o,r),En(r),p&512&&(Ne||u===null||Mi(u,u.return)),p&64&&rr&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var _=fi;if(bn(o,r),En(r),p&512&&(Ne||u===null||Mi(u,u.return)),p&4){var C=u!==null?u.memoizedState:null;if(p=r.memoizedState,u===null)if(p===null)if(r.stateNode===null){t:{p=r.type,u=r.memoizedProps,_=_.ownerDocument||_;e:switch(p){case"title":C=_.getElementsByTagName("title")[0],(!C||C[wt]||C[Me]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=_.createElement(p),_.head.insertBefore(C,_.querySelector("head > title"))),Ke(C,p,u),C[Me]=r,qt(C),p=C;break t;case"link":var w=kx("link","href",_).get(p+(u.href||""));if(w){for(var M=0;M<w.length;M++)if(C=w[M],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){w.splice(M,1);break e}}C=_.createElement(p),Ke(C,p,u),_.head.appendChild(C);break;case"meta":if(w=kx("meta","content",_).get(p+(u.content||""))){for(M=0;M<w.length;M++)if(C=w[M],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){w.splice(M,1);break e}}C=_.createElement(p),Ke(C,p,u),_.head.appendChild(C);break;default:throw Error(i(468,p))}C[Me]=r,qt(C),p=C}r.stateNode=p}else Mx(_,r.type,r.stateNode);else r.stateNode=Ax(_,p,r.memoizedProps);else C!==p?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,p===null?Mx(_,r.type,r.stateNode):Ax(_,p,r.memoizedProps)):p===null&&r.stateNode!==null&&mp(r,r.memoizedProps,u.memoizedProps)}break;case 27:bn(o,r),En(r),p&512&&(Ne||u===null||Mi(u,u.return)),u!==null&&p&4&&mp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(bn(o,r),En(r),p&512&&(Ne||u===null||Mi(u,u.return)),r.flags&32){_=r.stateNode;try{oo(_,"")}catch(xt){le(r,r.return,xt)}}p&4&&r.stateNode!=null&&(_=r.memoizedProps,mp(r,_,u!==null?u.memoizedProps:_)),p&1024&&(_p=!0);break;case 6:if(bn(o,r),En(r),p&4){if(r.stateNode===null)throw Error(i(162));p=r.memoizedProps,u=r.stateNode;try{u.nodeValue=p}catch(xt){le(r,r.return,xt)}}break;case 3:if(Nu=null,_=fi,fi=Lu(o.containerInfo),bn(o,r),fi=_,En(r),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Po(o.containerInfo)}catch(xt){le(r,r.return,xt)}_p&&(_p=!1,M_(r));break;case 4:p=fi,fi=Lu(r.stateNode.containerInfo),bn(o,r),En(r),fi=p;break;case 12:bn(o,r),En(r);break;case 31:bn(o,r),En(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,yu(r,p)));break;case 13:bn(o,r),En(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(_u=Ve()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,yu(r,p)));break;case 22:_=r.memoizedState!==null;var O=u!==null&&u.memoizedState!==null,X=rr,nt=Ne;if(rr=X||_,Ne=nt||O,bn(o,r),Ne=nt,rr=X,En(r),p&8192)t:for(o=r.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(u===null||O||rr||Ne||Aa(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){O=u=o;try{if(C=O.stateNode,_)w=C.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{M=O.stateNode;var at=O.memoizedProps.style,J=at!=null&&at.hasOwnProperty("display")?at.display:null;M.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(xt){le(O,O.return,xt)}}}else if(o.tag===6){if(u===null){O=o;try{O.stateNode.nodeValue=_?"":O.memoizedProps}catch(xt){le(O,O.return,xt)}}}else if(o.tag===18){if(u===null){O=o;try{var j=O.stateNode;_?vx(j,!0):vx(O.stateNode,!1)}catch(xt){le(O,O.return,xt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=r.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,yu(r,u))));break;case 19:bn(o,r),En(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,yu(r,p)));break;case 30:break;case 21:break;default:bn(o,r),En(r)}}function En(r){var o=r.flags;if(o&2){try{for(var u,p=r.return;p!==null;){if(x_(p)){u=p;break}p=p.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var _=u.stateNode,C=yp(r);mu(r,C,_);break;case 5:var w=u.stateNode;u.flags&32&&(oo(w,""),u.flags&=-33);var M=yp(r);mu(r,M,w);break;case 3:case 4:var O=u.stateNode.containerInfo,X=yp(r);vp(r,X,O);break;default:throw Error(i(161))}}catch(nt){le(r,r.return,nt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function M_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;M_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function or(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)T_(r,o.alternate,o),o=o.sibling}function Aa(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Or(4,o,o.return),Aa(o);break;case 1:Mi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&v_(o,o.return,u),Aa(o);break;case 27:yl(o.stateNode);case 26:case 5:Mi(o,o.return),Aa(o);break;case 22:o.memoizedState===null&&Aa(o);break;case 30:Aa(o);break;default:Aa(o)}r=r.sibling}}function sr(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,_=r,C=o,w=C.flags;switch(C.tag){case 0:case 11:case 15:sr(_,C,u),sl(4,C);break;case 1:if(sr(_,C,u),p=C,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(X){le(p,p.return,X)}if(p=C,_=p.updateQueue,_!==null){var M=p.stateNode;try{var O=_.shared.hiddenCallbacks;if(O!==null)for(_.shared.hiddenCallbacks=null,_=0;_<O.length;_++)ov(O[_],M)}catch(X){le(p,p.return,X)}}u&&w&64&&y_(C),ll(C,C.return);break;case 27:C_(C);case 26:case 5:sr(_,C,u),u&&p===null&&w&4&&__(C),ll(C,C.return);break;case 12:sr(_,C,u);break;case 31:sr(_,C,u),u&&w&4&&w_(_,C);break;case 13:sr(_,C,u),u&&w&4&&A_(_,C);break;case 22:C.memoizedState===null&&sr(_,C,u),ll(C,C.return);break;case 30:break;default:sr(_,C,u)}o=o.sibling}}function xp(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Xs(u))}function Cp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Xs(r))}function di(r,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)R_(r,o,u,p),o=o.sibling}function R_(r,o,u,p){var _=o.flags;switch(o.tag){case 0:case 11:case 15:di(r,o,u,p),_&2048&&sl(9,o);break;case 1:di(r,o,u,p);break;case 3:di(r,o,u,p),_&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Xs(r)));break;case 12:if(_&2048){di(r,o,u,p),r=o.stateNode;try{var C=o.memoizedProps,w=C.id,M=C.onPostCommit;typeof M=="function"&&M(w,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){le(o,o.return,O)}}else di(r,o,u,p);break;case 31:di(r,o,u,p);break;case 13:di(r,o,u,p);break;case 23:break;case 22:C=o.stateNode,w=o.alternate,o.memoizedState!==null?C._visibility&2?di(r,o,u,p):cl(r,o):C._visibility&2?di(r,o,u,p):(C._visibility|=2,Ao(r,o,u,p,(o.subtreeFlags&10256)!==0||!1)),_&2048&&xp(w,o);break;case 24:di(r,o,u,p),_&2048&&Cp(o.alternate,o);break;default:di(r,o,u,p)}}function Ao(r,o,u,p,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var C=r,w=o,M=u,O=p,X=w.flags;switch(w.tag){case 0:case 11:case 15:Ao(C,w,M,O,_),sl(8,w);break;case 23:break;case 22:var nt=w.stateNode;w.memoizedState!==null?nt._visibility&2?Ao(C,w,M,O,_):cl(C,w):(nt._visibility|=2,Ao(C,w,M,O,_)),_&&X&2048&&xp(w.alternate,w);break;case 24:Ao(C,w,M,O,_),_&&X&2048&&Cp(w.alternate,w);break;default:Ao(C,w,M,O,_)}o=o.sibling}}function cl(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,p=o,_=p.flags;switch(p.tag){case 22:cl(u,p),_&2048&&xp(p.alternate,p);break;case 24:cl(u,p),_&2048&&Cp(p.alternate,p);break;default:cl(u,p)}o=o.sibling}}var ul=8192;function ko(r,o,u){if(r.subtreeFlags&ul)for(r=r.child;r!==null;)L_(r,o,u),r=r.sibling}function L_(r,o,u){switch(r.tag){case 26:ko(r,o,u),r.flags&ul&&r.memoizedState!==null&&EL(u,fi,r.memoizedState,r.memoizedProps);break;case 5:ko(r,o,u);break;case 3:case 4:var p=fi;fi=Lu(r.stateNode.containerInfo),ko(r,o,u),fi=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=ul,ul=16777216,ko(r,o,u),ul=p):ko(r,o,u));break;default:ko(r,o,u)}}function D_(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function hl(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];He=p,I_(p,r)}D_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N_(r),r=r.sibling}function N_(r){switch(r.tag){case 0:case 11:case 15:hl(r),r.flags&2048&&Or(9,r,r.return);break;case 3:hl(r);break;case 12:hl(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,vu(r)):hl(r);break;default:hl(r)}}function vu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];He=p,I_(p,r)}D_(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Or(8,o,o.return),vu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,vu(o));break;default:vu(o)}r=r.sibling}}function I_(r,o){for(;He!==null;){var u=He;switch(u.tag){case 0:case 11:case 15:Or(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Xs(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,He=p;else t:for(u=r;He!==null;){p=He;var _=p.sibling,C=p.return;if(b_(p),p===u){He=null;break t}if(_!==null){_.return=C,He=_;break t}He=C}}}var $R={getCacheForType:function(r){var o=Xe(Re),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u},cacheSignal:function(){return Xe(Re).controller.signal}},zR=typeof WeakMap=="function"?WeakMap:Map,ne=0,de=null,Gt=null,Wt=0,se=0,Pn=null,Pr=!1,Mo=!1,Sp=!1,lr=0,Te=0,Ur=0,ka=0,Tp=0,Un=0,Ro=0,fl=null,wn=null,bp=!1,_u=0,B_=0,xu=1/0,Cu=null,$r=null,Fe=0,zr=null,Lo=null,cr=0,Ep=0,wp=null,F_=null,dl=0,Ap=null;function $n(){return(ne&2)!==0&&Wt!==0?Wt&-Wt:D.T!==null?Np():Ns()}function O_(){if(Un===0)if((Wt&536870912)===0||Jt){var r=Gi;Gi<<=1,(Gi&3932160)===0&&(Gi=262144),Un=r}else Un=536870912;return r=Fn.current,r!==null&&(r.flags|=32),Un}function An(r,o,u){(r===de&&(se===2||se===9)||r.cancelPendingCommit!==null)&&(Do(r,0),qr(r,Wt,Un,!1)),wr(r,u),((ne&2)===0||r!==de)&&(r===de&&((ne&2)===0&&(ka|=u),Te===4&&qr(r,Wt,Un,!1)),Ri(r))}function P_(r,o,u){if((ne&6)!==0)throw Error(i(327));var p=!u&&(o&127)===0&&(o&r.expiredLanes)===0||fa(r,o),_=p?GR(r,o):Mp(r,o,!0),C=p;do{if(_===0){Mo&&!p&&qr(r,o,0,!1);break}else{if(u=r.current.alternate,C&&!qR(u)){_=Mp(r,o,!1),C=!1;continue}if(_===2){if(C=o,r.errorRecoveryDisabledLanes&C)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;t:{var M=r;_=fl;var O=M.current.memoizedState.isDehydrated;if(O&&(Do(M,w).flags|=256),w=Mp(M,w,!1),w!==2){if(Sp&&!O){M.errorRecoveryDisabledLanes|=C,ka|=C,_=4;break t}C=wn,wn=_,C!==null&&(wn===null?wn=C:wn.push.apply(wn,C))}_=w}if(C=!1,_!==2)continue}}if(_===1){Do(r,0),qr(r,o,0,!0);break}t:{switch(p=r,C=_,C){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:qr(p,o,Un,!Pr);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(_=_u+300-Ve(),10<_)){if(qr(p,o,Un,!Pr),io(p,0,!0)!==0)break t;cr=o,p.timeoutHandle=gx(U_.bind(null,p,u,wn,Cu,bp,o,Un,ka,Ro,Pr,C,"Throttled",-0,0),_);break t}U_(p,u,wn,Cu,bp,o,Un,ka,Ro,Pr,C,null,-0,0)}}break}while(!0);Ri(r)}function U_(r,o,u,p,_,C,w,M,O,X,nt,at,J,j){if(r.timeoutHandle=-1,at=o.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},L_(o,C,at);var xt=(C&62914560)===C?_u-Ve():(C&4194048)===C?B_-Ve():0;if(xt=wL(at,xt),xt!==null){cr=C,r.cancelPendingCommit=xt(W_.bind(null,r,o,C,u,p,_,w,M,O,nt,at,null,J,j)),qr(r,C,w,!X);return}}W_(r,o,C,u,p,_,w,M,O)}function qR(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var _=u[p],C=_.getSnapshot;_=_.value;try{if(!In(C(),_))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qr(r,o,u,p){o&=~Tp,o&=~ka,r.suspendedLanes|=o,r.pingedLanes&=~o,p&&(r.warmLanes|=o),p=r.expirationTimes;for(var _=o;0<_;){var C=31-ke(_),w=1<<C;p[C]=-1,_&=~w}u!==0&&Ls(r,u,o)}function Su(){return(ne&6)===0?(pl(0),!1):!0}function kp(){if(Gt!==null){if(se===0)var r=Gt.return;else r=Gt,Zi=_a=null,Gd(r),So=null,Ks=0,r=Gt;for(;r!==null;)m_(r.alternate,r),r=r.return;Gt=null}}function Do(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,lL(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),cr=0,kp(),de=r,Gt=u=Ki(r.current,null),Wt=o,se=0,Pn=null,Pr=!1,Mo=fa(r,o),Sp=!1,Ro=Un=Tp=ka=Ur=Te=0,wn=fl=null,bp=!1,(o&8)!==0&&(o|=o&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=o;0<p;){var _=31-ke(p),C=1<<_;o|=r[_],p&=~C}return lr=o,Hc(),u}function $_(r,o){$t=null,D.H=rl,o===Co||o===Qc?(o=nv(),se=3):o===Dd?(o=nv(),se=4):se=o===op?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pn=o,Gt===null&&(Te=1,hu(r,Kn(o,r.current)))}function z_(){var r=Fn.current;return r===null?!0:(Wt&4194048)===Wt?ti===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?r===ti:!1}function q_(){var r=D.H;return D.H=rl,r===null?rl:r}function H_(){var r=D.A;return D.A=$R,r}function Tu(){Te=4,Pr||(Wt&4194048)!==Wt&&Fn.current!==null||(Mo=!0),(Ur&134217727)===0&&(ka&134217727)===0||de===null||qr(de,Wt,Un,!1)}function Mp(r,o,u){var p=ne;ne|=2;var _=q_(),C=H_();(de!==r||Wt!==o)&&(Cu=null,Do(r,o)),o=!1;var w=Te;t:do try{if(se!==0&&Gt!==null){var M=Gt,O=Pn;switch(se){case 8:kp(),w=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(o=!0);var X=se;if(se=0,Pn=null,No(r,M,O,X),u&&Mo){w=0;break t}break;default:X=se,se=0,Pn=null,No(r,M,O,X)}}HR(),w=Te;break}catch(nt){$_(r,nt)}while(!0);return o&&r.shellSuspendCounter++,Zi=_a=null,ne=p,D.H=_,D.A=C,Gt===null&&(de=null,Wt=0,Hc()),w}function HR(){for(;Gt!==null;)G_(Gt)}function GR(r,o){var u=ne;ne|=2;var p=q_(),_=H_();de!==r||Wt!==o?(Cu=null,xu=Ve()+500,Do(r,o)):Mo=fa(r,o);t:do try{if(se!==0&&Gt!==null){o=Gt;var C=Pn;e:switch(se){case 1:se=0,Pn=null,No(r,o,C,1);break;case 2:case 9:if(tv(C)){se=0,Pn=null,V_(o);break}o=function(){se!==2&&se!==9||de!==r||(se=7),Ri(r)},C.then(o,o);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:tv(C)?(se=0,Pn=null,V_(o)):(se=0,Pn=null,No(r,o,C,7));break;case 5:var w=null;switch(Gt.tag){case 26:w=Gt.memoizedState;case 5:case 27:var M=Gt;if(w?Rx(w):M.stateNode.complete){se=0,Pn=null;var O=M.sibling;if(O!==null)Gt=O;else{var X=M.return;X!==null?(Gt=X,bu(X)):Gt=null}break e}}se=0,Pn=null,No(r,o,C,5);break;case 6:se=0,Pn=null,No(r,o,C,6);break;case 8:kp(),Te=6;break t;default:throw Error(i(462))}}VR();break}catch(nt){$_(r,nt)}while(!0);return Zi=_a=null,D.H=p,D.A=_,ne=u,Gt!==null?0:(de=null,Wt=0,Hc(),Te)}function VR(){for(;Gt!==null&&!Ec();)G_(Gt)}function G_(r){var o=p_(r.alternate,r,lr);r.memoizedProps=r.pendingProps,o===null?bu(r):Gt=o}function V_(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=l_(u,o,o.pendingProps,o.type,void 0,Wt);break;case 11:o=l_(u,o,o.pendingProps,o.type.render,o.ref,Wt);break;case 5:Gd(o);default:m_(u,o),o=Gt=H0(o,lr),o=p_(u,o,lr)}r.memoizedProps=r.pendingProps,o===null?bu(r):Gt=o}function No(r,o,u,p){Zi=_a=null,Gd(o),So=null,Ks=0;var _=o.return;try{if(NR(r,_,o,u,Wt)){Te=1,hu(r,Kn(u,r.current)),Gt=null;return}}catch(C){if(_!==null)throw Gt=_,C;Te=1,hu(r,Kn(u,r.current)),Gt=null;return}o.flags&32768?(Jt||p===1?r=!0:Mo||(Wt&536870912)!==0?r=!1:(Pr=r=!0,(p===2||p===9||p===3||p===6)&&(p=Fn.current,p!==null&&p.tag===13&&(p.flags|=16384))),Y_(o,r)):bu(o)}function bu(r){var o=r;do{if((o.flags&32768)!==0){Y_(o,Pr);return}r=o.return;var u=FR(o.alternate,o,lr);if(u!==null){Gt=u;return}if(o=o.sibling,o!==null){Gt=o;return}Gt=o=r}while(o!==null);Te===0&&(Te=5)}function Y_(r,o){do{var u=OR(r.alternate,r);if(u!==null){u.flags&=32767,Gt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Gt=r;return}Gt=r=u}while(r!==null);Te=6,Gt=null}function W_(r,o,u,p,_,C,w,M,O){r.cancelPendingCommit=null;do Eu();while(Fe!==0);if((ne&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(C=o.lanes|o.childLanes,C|=yd,Rs(r,u,C,w,M,O),r===de&&(Gt=de=null,Wt=0),Lo=o,zr=r,cr=u,Ep=C,wp=_,F_=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,JR(Er,function(){return Z_(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=D.T,D.T=null,_=U.p,U.p=2,w=ne,ne|=4;try{PR(r,o,u)}finally{ne=w,U.p=_,D.T=p}}Fe=1,X_(),J_(),K_()}}function X_(){if(Fe===1){Fe=0;var r=zr,o=Lo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var p=U.p;U.p=2;var _=ne;ne|=4;try{k_(o,r);var C=zp,w=I0(r.containerInfo),M=C.focusedElem,O=C.selectionRange;if(w!==M&&M&&M.ownerDocument&&N0(M.ownerDocument.documentElement,M)){if(O!==null&&fd(M)){var X=O.start,nt=O.end;if(nt===void 0&&(nt=X),"selectionStart"in M)M.selectionStart=X,M.selectionEnd=Math.min(nt,M.value.length);else{var at=M.ownerDocument||document,J=at&&at.defaultView||window;if(J.getSelection){var j=J.getSelection(),xt=M.textContent.length,Dt=Math.min(O.start,xt),he=O.end===void 0?Dt:Math.min(O.end,xt);!j.extend&&Dt>he&&(w=he,he=Dt,Dt=w);var q=D0(M,Dt),$=D0(M,he);if(q&&$&&(j.rangeCount!==1||j.anchorNode!==q.node||j.anchorOffset!==q.offset||j.focusNode!==$.node||j.focusOffset!==$.offset)){var W=at.createRange();W.setStart(q.node,q.offset),j.removeAllRanges(),Dt>he?(j.addRange(W),j.extend($.node,$.offset)):(W.setEnd($.node,$.offset),j.addRange(W))}}}}for(at=[],j=M;j=j.parentNode;)j.nodeType===1&&at.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<at.length;M++){var it=at[M];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Ou=!!$p,zp=$p=null}finally{ne=_,U.p=p,D.T=u}}r.current=o,Fe=2}}function J_(){if(Fe===2){Fe=0;var r=zr,o=Lo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var p=U.p;U.p=2;var _=ne;ne|=4;try{T_(r,o.alternate,o)}finally{ne=_,U.p=p,D.T=u}}Fe=3}}function K_(){if(Fe===4||Fe===3){Fe=0,Xf();var r=zr,o=Lo,u=cr,p=F_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fe=5:(Fe=0,Lo=zr=null,Q_(r,r.pendingLanes));var _=r.pendingLanes;if(_===0&&($r=null),ui(u),o=o.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ei,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=D.T,_=U.p,U.p=2,D.T=null;try{for(var C=r.onRecoverableError,w=0;w<p.length;w++){var M=p[w];C(M.value,{componentStack:M.stack})}}finally{D.T=o,U.p=_}}(cr&3)!==0&&Eu(),Ri(r),_=r.pendingLanes,(u&261930)!==0&&(_&42)!==0?r===Ap?dl++:(dl=0,Ap=r):dl=0,pl(0)}}function Q_(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Xs(o)))}function Eu(){return X_(),J_(),K_(),Z_()}function Z_(){if(Fe!==5)return!1;var r=zr,o=Ep;Ep=0;var u=ui(cr),p=D.T,_=U.p;try{U.p=32>u?32:u,D.T=null,u=wp,wp=null;var C=zr,w=cr;if(Fe=0,Lo=zr=null,cr=0,(ne&6)!==0)throw Error(i(331));var M=ne;if(ne|=4,N_(C.current),R_(C,C.current,w,u),ne=M,pl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ei,C)}catch{}return!0}finally{U.p=_,D.T=p,Q_(r,o)}}function j_(r,o,u){o=Kn(u,o),o=ap(r.stateNode,o,2),r=Ir(r,o,2),r!==null&&(wr(r,2),Ri(r))}function le(r,o,u){if(r.tag===3)j_(r,r,u);else for(;o!==null;){if(o.tag===3){j_(o,r,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&($r===null||!$r.has(p))){r=Kn(u,r),u=t_(2),p=Ir(o,u,2),p!==null&&(e_(u,p,o,r),wr(p,2),Ri(p));break}}o=o.return}}function Rp(r,o,u){var p=r.pingCache;if(p===null){p=r.pingCache=new zR;var _=new Set;p.set(o,_)}else _=p.get(o),_===void 0&&(_=new Set,p.set(o,_));_.has(u)||(Sp=!0,_.add(u),r=YR.bind(null,r,o,u),o.then(r,r))}function YR(r,o,u){var p=r.pingCache;p!==null&&p.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,de===r&&(Wt&u)===u&&(Te===4||Te===3&&(Wt&62914560)===Wt&&300>Ve()-_u?(ne&2)===0&&Do(r,0):Tp|=u,Ro===Wt&&(Ro=0)),Ri(r)}function tx(r,o){o===0&&(o=Vi()),r=ma(r,o),r!==null&&(wr(r,o),Ri(r))}function WR(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),tx(r,u)}function XR(r,o){var u=0;switch(r.tag){case 31:case 13:var p=r.stateNode,_=r.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(o),tx(r,u)}function JR(r,o){return br(r,o)}var wu=null,Io=null,Lp=!1,Au=!1,Dp=!1,Hr=0;function Ri(r){r!==Io&&r.next===null&&(Io===null?wu=Io=r:Io=Io.next=r),Au=!0,Lp||(Lp=!0,QR())}function pl(r,o){if(!Dp&&Au){Dp=!0;do for(var u=!1,p=wu;p!==null;){if(r!==0){var _=p.pendingLanes;if(_===0)var C=0;else{var w=p.suspendedLanes,M=p.pingedLanes;C=(1<<31-ke(42|r)+1)-1,C&=_&~(w&~M),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,rx(p,C))}else C=Wt,C=io(p,p===de?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(C&3)===0||fa(p,C)||(u=!0,rx(p,C));p=p.next}while(u);Dp=!1}}function KR(){ex()}function ex(){Au=Lp=!1;var r=0;Hr!==0&&sL()&&(r=Hr);for(var o=Ve(),u=null,p=wu;p!==null;){var _=p.next,C=nx(p,o);C===0?(p.next=null,u===null?wu=_:u.next=_,_===null&&(Io=u)):(u=p,(r!==0||(C&3)!==0)&&(Au=!0)),p=_}Fe!==0&&Fe!==5||pl(r),Hr!==0&&(Hr=0)}function nx(r,o){for(var u=r.suspendedLanes,p=r.pingedLanes,_=r.expirationTimes,C=r.pendingLanes&-62914561;0<C;){var w=31-ke(C),M=1<<w,O=_[w];O===-1?((M&u)===0||(M&p)!==0)&&(_[w]=be(M,o)):O<=o&&(r.expiredLanes|=M),C&=~M}if(o=de,u=Wt,u=io(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,u===0||r===o&&(se===2||se===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&eo(p),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||fa(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(p!==null&&eo(p),ui(u)){case 2:case 8:u=Dn;break;case 32:u=Er;break;case 268435456:u=Es;break;default:u=Er}return p=ix.bind(null,r),u=br(u,p),r.callbackPriority=o,r.callbackNode=u,o}return p!==null&&p!==null&&eo(p),r.callbackPriority=2,r.callbackNode=null,2}function ix(r,o){if(Fe!==0&&Fe!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Eu()&&r.callbackNode!==u)return null;var p=Wt;return p=io(r,r===de?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(P_(r,p,o),nx(r,Ve()),r.callbackNode!=null&&r.callbackNode===u?ix.bind(null,r):null)}function rx(r,o){if(Eu())return null;P_(r,o,!0)}function QR(){cL(function(){(ne&6)!==0?br(qi,KR):ex()})}function Np(){if(Hr===0){var r=_o;r===0&&(r=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),Hr=r}return Hr}function ax(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Bc(""+r)}function ox(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function ZR(r,o,u,p,_){if(o==="submit"&&u&&u.stateNode===_){var C=ax((_[ve]||null).action),w=p.submitter;w&&(o=(o=w[ve]||null)?ax(o.formAction):w.getAttribute("formAction"),o!==null&&(C=o,w=null));var M=new Uc("action","action",null,p,_);r.push({event:M,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Hr!==0){var O=w?ox(_,w):new FormData(_);jd(u,{pending:!0,data:O,method:_.method,action:C},null,O)}}else typeof C=="function"&&(M.preventDefault(),O=w?ox(_,w):new FormData(_),jd(u,{pending:!0,data:O,method:_.method,action:C},C,O))},currentTarget:_}]})}}for(var Ip=0;Ip<md.length;Ip++){var Bp=md[Ip],jR=Bp.toLowerCase(),tL=Bp[0].toUpperCase()+Bp.slice(1);hi(jR,"on"+tL)}hi(O0,"onAnimationEnd"),hi(P0,"onAnimationIteration"),hi(U0,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(mR,"onTransitionRun"),hi(yR,"onTransitionStart"),hi(vR,"onTransitionCancel"),hi($0,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function sx(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var p=r[u],_=p.event;p=p.listeners;t:{var C=void 0;if(o)for(var w=p.length-1;0<=w;w--){var M=p[w],O=M.instance,X=M.currentTarget;if(M=M.listener,O!==C&&_.isPropagationStopped())break t;C=M,_.currentTarget=X;try{C(_)}catch(nt){qc(nt)}_.currentTarget=null,C=O}else for(w=0;w<p.length;w++){if(M=p[w],O=M.instance,X=M.currentTarget,M=M.listener,O!==C&&_.isPropagationStopped())break t;C=M,_.currentTarget=X;try{C(_)}catch(nt){qc(nt)}_.currentTarget=null,C=O}}}}function Vt(r,o){var u=o[ro];u===void 0&&(u=o[ro]=new Set);var p=r+"__bubble";u.has(p)||(lx(o,r,2,!1),u.add(p))}function Fp(r,o,u){var p=0;o&&(p|=4),lx(u,r,p,o)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Op(r){if(!r[ku]){r[ku]=!0,Ye.forEach(function(u){u!=="selectionchange"&&(eL.has(u)||Fp(u,!1,r),Fp(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ku]||(o[ku]=!0,Fp("selectionchange",!1,o))}}function lx(r,o,u,p){switch(Ox(o)){case 2:var _=ML;break;case 8:_=RL;break;default:_=Zp}u=_.bind(null,o,u,r),_=void 0,!id||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),p?_!==void 0?r.addEventListener(o,u,{capture:!0,passive:_}):r.addEventListener(o,u,!0):_!==void 0?r.addEventListener(o,u,{passive:_}):r.addEventListener(o,u,!1)}function Pp(r,o,u,p,_){var C=p;if((o&1)===0&&(o&2)===0&&p!==null)t:for(;;){if(p===null)return;var w=p.tag;if(w===3||w===4){var M=p.stateNode.containerInfo;if(M===_)break;if(w===4)for(w=p.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===_)return;w=w.return}for(;M!==null;){if(w=ct(M),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){p=C=w;continue t}M=M.parentNode}}p=p.return}d0(function(){var X=C,nt=ed(u),at=[];t:{var J=z0.get(r);if(J!==void 0){var j=Uc,xt=r;switch(r){case"keypress":if(Oc(u)===0)break t;case"keydown":case"keyup":j=XM;break;case"focusin":xt="focus",j=sd;break;case"focusout":xt="blur",j=sd;break;case"beforeblur":case"afterblur":j=sd;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=m0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=FM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=QM;break;case O0:case P0:case U0:j=UM;break;case $0:j=jM;break;case"scroll":case"scrollend":j=IM;break;case"wheel":j=eR;break;case"copy":case"cut":case"paste":j=zM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=v0;break;case"toggle":case"beforetoggle":j=iR}var Dt=(o&4)!==0,he=!Dt&&(r==="scroll"||r==="scrollend"),q=Dt?J!==null?J+"Capture":null:J;Dt=[];for(var $=X,W;$!==null;){var it=$;if(W=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||W===null||q===null||(it=Os($,q),it!=null&&Dt.push(ml($,it,W))),he)break;$=$.return}0<Dt.length&&(J=new j(J,xt,null,u,nt),at.push({event:J,listeners:Dt}))}}if((o&7)===0){t:{if(J=r==="mouseover"||r==="pointerover",j=r==="mouseout"||r==="pointerout",J&&u!==td&&(xt=u.relatedTarget||u.fromElement)&&(ct(xt)||xt[Yi]))break t;if((j||J)&&(J=nt.window===nt?nt:(J=nt.ownerDocument)?J.defaultView||J.parentWindow:window,j?(xt=u.relatedTarget||u.toElement,j=X,xt=xt?ct(xt):null,xt!==null&&(he=s(xt),Dt=xt.tag,xt!==he||Dt!==5&&Dt!==27&&Dt!==6)&&(xt=null)):(j=null,xt=X),j!==xt)){if(Dt=m0,it="onMouseLeave",q="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Dt=v0,it="onPointerLeave",q="onPointerEnter",$="pointer"),he=j==null?J:ie(j),W=xt==null?J:ie(xt),J=new Dt(it,$+"leave",j,u,nt),J.target=he,J.relatedTarget=W,it=null,ct(nt)===X&&(Dt=new Dt(q,$+"enter",xt,u,nt),Dt.target=W,Dt.relatedTarget=he,it=Dt),he=it,j&&xt)e:{for(Dt=nL,q=j,$=xt,W=0,it=q;it;it=Dt(it))W++;it=0;for(var Mt=$;Mt;Mt=Dt(Mt))it++;for(;0<W-it;)q=Dt(q),W--;for(;0<it-W;)$=Dt($),it--;for(;W--;){if(q===$||$!==null&&q===$.alternate){Dt=q;break e}q=Dt(q),$=Dt($)}Dt=null}else Dt=null;j!==null&&cx(at,J,j,Dt,!1),xt!==null&&he!==null&&cx(at,he,xt,Dt,!0)}}t:{if(J=X?ie(X):window,j=J.nodeName&&J.nodeName.toLowerCase(),j==="select"||j==="input"&&J.type==="file")var Zt=w0;else if(b0(J))if(A0)Zt=dR;else{Zt=hR;var At=uR}else j=J.nodeName,!j||j.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&jf(X.elementType)&&(Zt=w0):Zt=fR;if(Zt&&(Zt=Zt(r,X))){E0(at,Zt,u,nt);break t}At&&At(r,J,X),r==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&Zf(J,"number",J.value)}switch(At=X?ie(X):window,r){case"focusin":(b0(At)||At.contentEditable==="true")&&(uo=At,dd=X,Vs=null);break;case"focusout":Vs=dd=uo=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,B0(at,u,nt);break;case"selectionchange":if(gR)break;case"keydown":case"keyup":B0(at,u,nt)}var zt;if(cd)t:{switch(r){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else co?S0(r,u)&&(Xt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Xt="onCompositionStart");Xt&&(_0&&u.locale!=="ko"&&(co||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&co&&(zt=p0()):(Ar=nt,rd="value"in Ar?Ar.value:Ar.textContent,co=!0)),At=Mu(X,Xt),0<At.length&&(Xt=new y0(Xt,r,null,u,nt),at.push({event:Xt,listeners:At}),zt?Xt.data=zt:(zt=T0(u),zt!==null&&(Xt.data=zt)))),(zt=aR?oR(r,u):sR(r,u))&&(Xt=Mu(X,"onBeforeInput"),0<Xt.length&&(At=new y0("onBeforeInput","beforeinput",null,u,nt),at.push({event:At,listeners:Xt}),At.data=zt)),ZR(at,r,X,u,nt)}sx(at,o)})}function ml(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Mu(r,o){for(var u=o+"Capture",p=[];r!==null;){var _=r,C=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||C===null||(_=Os(r,u),_!=null&&p.unshift(ml(r,_,C)),_=Os(r,o),_!=null&&p.push(ml(r,_,C))),r.tag===3)return p;r=r.return}return[]}function nL(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function cx(r,o,u,p,_){for(var C=o._reactName,w=[];u!==null&&u!==p;){var M=u,O=M.alternate,X=M.stateNode;if(M=M.tag,O!==null&&O===p)break;M!==5&&M!==26&&M!==27||X===null||(O=X,_?(X=Os(u,C),X!=null&&w.unshift(ml(u,X,O))):_||(X=Os(u,C),X!=null&&w.push(ml(u,X,O)))),u=u.return}w.length!==0&&r.push({event:o,listeners:w})}var iL=/\r\n?/g,rL=/\u0000|\uFFFD/g;function ux(r){return(typeof r=="string"?r:""+r).replace(iL,`
`).replace(rL,"")}function hx(r,o){return o=ux(o),ux(r)===o}function ue(r,o,u,p,_,C){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||oo(r,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&oo(r,""+p);break;case"className":Nc(r,"class",p);break;case"tabIndex":Nc(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Nc(r,u,p);break;case"style":h0(r,p,C);break;case"data":if(o!=="object"){Nc(r,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(u);break}p=Bc(""+p),r.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(o!=="input"&&ue(r,o,"name",_.name,_,null),ue(r,o,"formEncType",_.formEncType,_,null),ue(r,o,"formMethod",_.formMethod,_,null),ue(r,o,"formTarget",_.formTarget,_,null)):(ue(r,o,"encType",_.encType,_,null),ue(r,o,"method",_.method,_,null),ue(r,o,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(u);break}p=Bc(""+p),r.setAttribute(u,p);break;case"onClick":p!=null&&(r.onclick=Xi);break;case"onScroll":p!=null&&Vt("scroll",r);break;case"onScrollEnd":p!=null&&Vt("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}u=Bc(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,""+p):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":p===!0?r.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,p):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(u,p):r.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(u):r.setAttribute(u,p);break;case"popover":Vt("beforetoggle",r),Vt("toggle",r),Dc(r,"popover",p);break;case"xlinkActuate":Wi(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Wi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Wi(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Wi(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Wi(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Wi(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Wi(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Wi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Wi(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Dc(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=DM.get(u)||u,Dc(r,u,p))}}function Up(r,o,u,p,_,C){switch(u){case"style":h0(r,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof p=="string"?oo(r,p):(typeof p=="number"||typeof p=="bigint")&&oo(r,""+p);break;case"onScroll":p!=null&&Vt("scroll",r);break;case"onScrollEnd":p!=null&&Vt("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yn.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),o=u.slice(2,_?u.length-7:void 0),C=r[ve]||null,C=C!=null?C[u]:null,typeof C=="function"&&r.removeEventListener(o,C,_),typeof p=="function")){typeof C!="function"&&C!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,p,_);break t}u in r?r[u]=p:p===!0?r.setAttribute(u,""):Dc(r,u,p)}}}function Ke(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",r),Vt("load",r);var p=!1,_=!1,C;for(C in u)if(u.hasOwnProperty(C)){var w=u[C];if(w!=null)switch(C){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ue(r,o,C,w,u,null)}}_&&ue(r,o,"srcSet",u.srcSet,u,null),p&&ue(r,o,"src",u.src,u,null);return;case"input":Vt("invalid",r);var M=C=w=_=null,O=null,X=null;for(p in u)if(u.hasOwnProperty(p)){var nt=u[p];if(nt!=null)switch(p){case"name":_=nt;break;case"type":w=nt;break;case"checked":O=nt;break;case"defaultChecked":X=nt;break;case"value":C=nt;break;case"defaultValue":M=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,o));break;default:ue(r,o,p,nt,u,null)}}s0(r,C,M,O,X,w,_,!1);return;case"select":Vt("invalid",r),p=w=C=null;for(_ in u)if(u.hasOwnProperty(_)&&(M=u[_],M!=null))switch(_){case"value":C=M;break;case"defaultValue":w=M;break;case"multiple":p=M;default:ue(r,o,_,M,u,null)}o=C,u=w,r.multiple=!!p,o!=null?ao(r,!!p,o,!1):u!=null&&ao(r,!!p,u,!0);return;case"textarea":Vt("invalid",r),C=_=p=null;for(w in u)if(u.hasOwnProperty(w)&&(M=u[w],M!=null))switch(w){case"value":p=M;break;case"defaultValue":_=M;break;case"children":C=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:ue(r,o,w,M,u,null)}c0(r,p,_,C);return;case"option":for(O in u)if(u.hasOwnProperty(O)&&(p=u[O],p!=null))switch(O){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ue(r,o,O,p,u,null)}return;case"dialog":Vt("beforetoggle",r),Vt("toggle",r),Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":Vt("load",r);break;case"video":case"audio":for(p=0;p<gl.length;p++)Vt(gl[p],r);break;case"image":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"embed":case"source":case"link":Vt("error",r),Vt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(p=u[X],p!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ue(r,o,X,p,u,null)}return;default:if(jf(o)){for(nt in u)u.hasOwnProperty(nt)&&(p=u[nt],p!==void 0&&Up(r,o,nt,p,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(p=u[M],p!=null&&ue(r,o,M,p,u,null))}function aL(r,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,C=null,w=null,M=null,O=null,X=null,nt=null;for(j in u){var at=u[j];if(u.hasOwnProperty(j)&&at!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":O=at;default:p.hasOwnProperty(j)||ue(r,o,j,null,p,at)}}for(var J in p){var j=p[J];if(at=u[J],p.hasOwnProperty(J)&&(j!=null||at!=null))switch(J){case"type":C=j;break;case"name":_=j;break;case"checked":X=j;break;case"defaultChecked":nt=j;break;case"value":w=j;break;case"defaultValue":M=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,o));break;default:j!==at&&ue(r,o,J,j,p,at)}}Qf(r,w,M,O,X,nt,C,_);return;case"select":j=w=M=J=null;for(C in u)if(O=u[C],u.hasOwnProperty(C)&&O!=null)switch(C){case"value":break;case"multiple":j=O;default:p.hasOwnProperty(C)||ue(r,o,C,null,p,O)}for(_ in p)if(C=p[_],O=u[_],p.hasOwnProperty(_)&&(C!=null||O!=null))switch(_){case"value":J=C;break;case"defaultValue":M=C;break;case"multiple":w=C;default:C!==O&&ue(r,o,_,C,p,O)}o=M,u=w,p=j,J!=null?ao(r,!!u,J,!1):!!p!=!!u&&(o!=null?ao(r,!!u,o,!0):ao(r,!!u,u?[]:"",!1));return;case"textarea":j=J=null;for(M in u)if(_=u[M],u.hasOwnProperty(M)&&_!=null&&!p.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:ue(r,o,M,null,p,_)}for(w in p)if(_=p[w],C=u[w],p.hasOwnProperty(w)&&(_!=null||C!=null))switch(w){case"value":J=_;break;case"defaultValue":j=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==C&&ue(r,o,w,_,p,C)}l0(r,J,j);return;case"option":for(var xt in u)if(J=u[xt],u.hasOwnProperty(xt)&&J!=null&&!p.hasOwnProperty(xt))switch(xt){case"selected":r.selected=!1;break;default:ue(r,o,xt,null,p,J)}for(O in p)if(J=p[O],j=u[O],p.hasOwnProperty(O)&&J!==j&&(J!=null||j!=null))switch(O){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ue(r,o,O,J,p,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in u)J=u[Dt],u.hasOwnProperty(Dt)&&J!=null&&!p.hasOwnProperty(Dt)&&ue(r,o,Dt,null,p,J);for(X in p)if(J=p[X],j=u[X],p.hasOwnProperty(X)&&J!==j&&(J!=null||j!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,o));break;default:ue(r,o,X,J,p,j)}return;default:if(jf(o)){for(var he in u)J=u[he],u.hasOwnProperty(he)&&J!==void 0&&!p.hasOwnProperty(he)&&Up(r,o,he,void 0,p,J);for(nt in p)J=p[nt],j=u[nt],!p.hasOwnProperty(nt)||J===j||J===void 0&&j===void 0||Up(r,o,nt,J,p,j);return}}for(var q in u)J=u[q],u.hasOwnProperty(q)&&J!=null&&!p.hasOwnProperty(q)&&ue(r,o,q,null,p,J);for(at in p)J=p[at],j=u[at],!p.hasOwnProperty(at)||J===j||J==null&&j==null||ue(r,o,at,J,p,j)}function fx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oL(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var _=u[p],C=_.transferSize,w=_.initiatorType,M=_.duration;if(C&&M&&fx(w)){for(w=0,M=_.responseEnd,p+=1;p<u.length;p++){var O=u[p],X=O.startTime;if(X>M)break;var nt=O.transferSize,at=O.initiatorType;nt&&fx(at)&&(O=O.responseEnd,w+=nt*(O<M?1:(M-X)/(O-X)))}if(--p,o+=8*(C+w)/(_.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var $p=null,zp=null;function Ru(r){return r.nodeType===9?r:r.ownerDocument}function dx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function px(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function qp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hp=null;function sL(){var r=window.event;return r&&r.type==="popstate"?r===Hp?!1:(Hp=r,!0):(Hp=null,!1)}var gx=typeof setTimeout=="function"?setTimeout:void 0,lL=typeof clearTimeout=="function"?clearTimeout:void 0,mx=typeof Promise=="function"?Promise:void 0,cL=typeof queueMicrotask=="function"?queueMicrotask:typeof mx<"u"?function(r){return mx.resolve(null).then(r).catch(uL)}:gx;function uL(r){setTimeout(function(){throw r})}function Gr(r){return r==="head"}function yx(r,o){var u=o,p=0;do{var _=u.nextSibling;if(r.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(p===0){r.removeChild(_),Po(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")yl(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,yl(u);for(var C=u.firstChild;C;){var w=C.nextSibling,M=C.nodeName;C[wt]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=w}}else u==="body"&&yl(r.ownerDocument.body);u=_}while(u);Po(o)}function vx(r,o){var u=r;r=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=p}while(u)}function Gp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Gp(u),P(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function hL(r,o,u,p){for(;r.nodeType===1;){var _=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[wt])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(C=r.getAttribute("rel"),C==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(C!==_.rel||r.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(C=r.getAttribute("src"),(C!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&C&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var C=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===C)return r}else return r;if(r=ei(r.nextSibling),r===null)break}return null}function fL(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ei(r.nextSibling),r===null))return null;return r}function _x(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ei(r.nextSibling),r===null))return null;return r}function Vp(r){return r.data==="$?"||r.data==="$~"}function Yp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function dL(r,o){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function ei(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Wp=null;function xx(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(o===0)return ei(r.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}r=r.nextSibling}return null}function Cx(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return r;o--}else u!=="/$"&&u!=="/&"||o++}r=r.previousSibling}return null}function Sx(r,o,u){switch(o=Ru(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function yl(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);P(r)}var ni=new Map,Tx=new Set;function Lu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ur=U.d;U.d={f:pL,r:gL,D:mL,C:yL,L:vL,m:_L,X:CL,S:xL,M:SL};function pL(){var r=ur.f(),o=Su();return r||o}function gL(r){var o=vt(r);o!==null&&o.tag===5&&o.type==="form"?$v(o):ur.r(r)}var Bo=typeof document>"u"?null:document;function bx(r,o,u){var p=Bo;if(p&&typeof o=="string"&&o){var _=Xn(o);_='link[rel="'+r+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),Tx.has(_)||(Tx.add(_),r={rel:r,crossOrigin:u,href:o},p.querySelector(_)===null&&(o=p.createElement("link"),Ke(o,"link",r),qt(o),p.head.appendChild(o)))}}function mL(r){ur.D(r),bx("dns-prefetch",r,null)}function yL(r,o){ur.C(r,o),bx("preconnect",r,o)}function vL(r,o,u){ur.L(r,o,u);var p=Bo;if(p&&r&&o){var _='link[rel="preload"][as="'+Xn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+Xn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+Xn(u.imageSizes)+'"]')):_+='[href="'+Xn(r)+'"]';var C=_;switch(o){case"style":C=Fo(r);break;case"script":C=Oo(r)}ni.has(C)||(r=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),ni.set(C,r),p.querySelector(_)!==null||o==="style"&&p.querySelector(vl(C))||o==="script"&&p.querySelector(_l(C))||(o=p.createElement("link"),Ke(o,"link",r),qt(o),p.head.appendChild(o)))}}function _L(r,o){ur.m(r,o);var u=Bo;if(u&&r){var p=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+Xn(p)+'"][href="'+Xn(r)+'"]',C=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Oo(r)}if(!ni.has(C)&&(r=m({rel:"modulepreload",href:r},o),ni.set(C,r),u.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(_l(C)))return}p=u.createElement("link"),Ke(p,"link",r),qt(p),u.head.appendChild(p)}}}function xL(r,o,u){ur.S(r,o,u);var p=Bo;if(p&&r){var _=Ce(p).hoistableStyles,C=Fo(r);o=o||"default";var w=_.get(C);if(!w){var M={loading:0,preload:null};if(w=p.querySelector(vl(C)))M.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":o},u),(u=ni.get(C))&&Xp(r,u);var O=w=p.createElement("link");qt(O),Ke(O,"link",r),O._p=new Promise(function(X,nt){O.onload=X,O.onerror=nt}),O.addEventListener("load",function(){M.loading|=1}),O.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Du(w,o,p)}w={type:"stylesheet",instance:w,count:1,state:M},_.set(C,w)}}}function CL(r,o){ur.X(r,o);var u=Bo;if(u&&r){var p=Ce(u).hoistableScripts,_=Oo(r),C=p.get(_);C||(C=u.querySelector(_l(_)),C||(r=m({src:r,async:!0},o),(o=ni.get(_))&&Jp(r,o),C=u.createElement("script"),qt(C),Ke(C,"link",r),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(_,C))}}function SL(r,o){ur.M(r,o);var u=Bo;if(u&&r){var p=Ce(u).hoistableScripts,_=Oo(r),C=p.get(_);C||(C=u.querySelector(_l(_)),C||(r=m({src:r,async:!0,type:"module"},o),(o=ni.get(_))&&Jp(r,o),C=u.createElement("script"),qt(C),Ke(C,"link",r),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(_,C))}}function Ex(r,o,u,p){var _=(_=dt.current)?Lu(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Fo(u.href),u=Ce(_).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Fo(u.href);var C=Ce(_).hoistableStyles,w=C.get(r);if(w||(_=_.ownerDocument||_,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(r,w),(C=_.querySelector(vl(r)))&&!C._p&&(w.instance=C,w.state.loading=5),ni.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ni.set(r,u),C||TL(_,r,u,w.state))),o&&p===null)throw Error(i(528,""));return w}if(o&&p!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Oo(u),u=Ce(_).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Fo(r){return'href="'+Xn(r)+'"'}function vl(r){return'link[rel="stylesheet"]['+r+"]"}function wx(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function TL(r,o,u,p){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=r.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Ke(o,"link",u),qt(o),r.head.appendChild(o))}function Oo(r){return'[src="'+Xn(r)+'"]'}function _l(r){return"script[async]"+r}function Ax(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=r.querySelector('style[data-href~="'+Xn(u.href)+'"]');if(p)return o.instance=p,qt(p),p;var _=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),qt(p),Ke(p,"style",_),Du(p,u.precedence,r),o.instance=p;case"stylesheet":_=Fo(u.href);var C=r.querySelector(vl(_));if(C)return o.state.loading|=4,o.instance=C,qt(C),C;p=wx(u),(_=ni.get(_))&&Xp(p,_),C=(r.ownerDocument||r).createElement("link"),qt(C);var w=C;return w._p=new Promise(function(M,O){w.onload=M,w.onerror=O}),Ke(C,"link",p),o.state.loading|=4,Du(C,u.precedence,r),o.instance=C;case"script":return C=Oo(u.src),(_=r.querySelector(_l(C)))?(o.instance=_,qt(_),_):(p=u,(_=ni.get(C))&&(p=m({},u),Jp(p,_)),r=r.ownerDocument||r,_=r.createElement("script"),qt(_),Ke(_,"link",p),r.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Du(p,u.precedence,r));return o.instance}function Du(r,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,C=_,w=0;w<p.length;w++){var M=p[w];if(M.dataset.precedence===o)C=M;else if(C!==_)break}C?C.parentNode.insertBefore(r,C.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Xp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Jp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Nu=null;function kx(r,o,u){if(Nu===null){var p=new Map,_=Nu=new Map;_.set(u,p)}else _=Nu,p=_.get(u),p||(p=new Map,_.set(u,p));if(p.has(r))return p;for(p.set(r,null),u=u.getElementsByTagName(r),_=0;_<u.length;_++){var C=u[_];if(!(C[wt]||C[Me]||r==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var w=C.getAttribute(o)||"";w=r+w;var M=p.get(w);M?M.push(C):p.set(w,[C])}}return p}function Mx(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function bL(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Rx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function EL(r,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=Fo(p.href),C=o.querySelector(vl(_));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Iu.bind(r),o.then(r,r)),u.state.loading|=4,u.instance=C,qt(C);return}C=o.ownerDocument||o,p=wx(p),(_=ni.get(_))&&Xp(p,_),C=C.createElement("link"),qt(C);var w=C;w._p=new Promise(function(M,O){w.onload=M,w.onerror=O}),Ke(C,"link",p),u.instance=C}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Iu.bind(r),o.addEventListener("load",u),o.addEventListener("error",u))}}var Kp=0;function wL(r,o){return r.stylesheets&&r.count===0&&Fu(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var p=setTimeout(function(){if(r.stylesheets&&Fu(r,r.stylesheets),r.unsuspend){var C=r.unsuspend;r.unsuspend=null,C()}},6e4+o);0<r.imgBytes&&Kp===0&&(Kp=62500*oL());var _=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Fu(r,r.stylesheets),r.unsuspend)){var C=r.unsuspend;r.unsuspend=null,C()}},(r.imgBytes>Kp?50:800)+o);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function Iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Bu=null;function Fu(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Bu=new Map,o.forEach(AL,r),Bu=null,Iu.call(r))}function AL(r,o){if(!(o.state.loading&4)){var u=Bu.get(r);if(u)var p=u.get(null);else{u=new Map,Bu.set(r,u);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<_.length;C++){var w=_[C];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(u.set(w.dataset.precedence,w),p=w)}p&&u.set(null,p)}_=o.instance,w=_.getAttribute("data-precedence"),C=u.get(w)||p,C===p&&u.set(null,_),u.set(w,_),this.count++,p=Iu.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),C?C.parentNode.insertBefore(_,C.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),o.state.loading|=4}}var xl={$$typeof:R,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function kL(r,o,u,p,_,C,w,M,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.hiddenUpdates=Ms(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=C,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Lx(r,o,u,p,_,C,w,M,O,X,nt,at){return r=new kL(r,o,u,w,O,X,nt,at,M),o=1,C===!0&&(o|=24),C=Bn(3,null,null,o),r.current=C,C.stateNode=r,o=Md(),o.refCount++,r.pooledCache=o,o.refCount++,C.memoizedState={element:p,isDehydrated:u,cache:o},Nd(C),r}function Dx(r){return r?(r=po,r):po}function Nx(r,o,u,p,_,C){_=Dx(_),p.context===null?p.context=_:p.pendingContext=_,p=Nr(o),p.payload={element:u},C=C===void 0?null:C,C!==null&&(p.callback=C),u=Ir(r,p,o),u!==null&&(An(u,r,o),Zs(u,r,o))}function Ix(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Qp(r,o){Ix(r,o),(r=r.alternate)&&Ix(r,o)}function Bx(r){if(r.tag===13||r.tag===31){var o=ma(r,67108864);o!==null&&An(o,r,67108864),Qp(r,67108864)}}function Fx(r){if(r.tag===13||r.tag===31){var o=$n();o=xn(o);var u=ma(r,o);u!==null&&An(u,r,o),Qp(r,o)}}var Ou=!0;function ML(r,o,u,p){var _=D.T;D.T=null;var C=U.p;try{U.p=2,Zp(r,o,u,p)}finally{U.p=C,D.T=_}}function RL(r,o,u,p){var _=D.T;D.T=null;var C=U.p;try{U.p=8,Zp(r,o,u,p)}finally{U.p=C,D.T=_}}function Zp(r,o,u,p){if(Ou){var _=jp(p);if(_===null)Pp(r,o,p,Pu,u),Px(r,p);else if(DL(_,r,o,u,p))p.stopPropagation();else if(Px(r,p),o&4&&-1<LL.indexOf(r)){for(;_!==null;){var C=vt(_);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var w=Nn(C.pendingLanes);if(w!==0){var M=C;for(M.pendingLanes|=2,M.entangledLanes|=2;w;){var O=1<<31-ke(w);M.entanglements[1]|=O,w&=~O}Ri(C),(ne&6)===0&&(xu=Ve()+500,pl(0))}}break;case 31:case 13:M=ma(C,2),M!==null&&An(M,C,2),Su(),Qp(C,2)}if(C=jp(p),C===null&&Pp(r,o,p,Pu,u),C===_)break;_=C}_!==null&&p.stopPropagation()}else Pp(r,o,p,null,u)}}function jp(r){return r=ed(r),tg(r)}var Pu=null;function tg(r){if(Pu=null,r=ct(r),r!==null){var o=s(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===31){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Pu=r,null}function Ox(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case qi:return 2;case Dn:return 8;case Er:case wc:return 32;case Es:return 268435456;default:return 32}default:return 32}}var eg=!1,Vr=null,Yr=null,Wr=null,Cl=new Map,Sl=new Map,Xr=[],LL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Px(r,o){switch(r){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Cl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(o.pointerId)}}function Tl(r,o,u,p,_,C){return r===null||r.nativeEvent!==C?(r={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:C,targetContainers:[_]},o!==null&&(o=vt(o),o!==null&&Bx(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),r)}function DL(r,o,u,p,_){switch(o){case"focusin":return Vr=Tl(Vr,r,o,u,p,_),!0;case"dragenter":return Yr=Tl(Yr,r,o,u,p,_),!0;case"mouseover":return Wr=Tl(Wr,r,o,u,p,_),!0;case"pointerover":var C=_.pointerId;return Cl.set(C,Tl(Cl.get(C)||null,r,o,u,p,_)),!0;case"gotpointercapture":return C=_.pointerId,Sl.set(C,Tl(Sl.get(C)||null,r,o,u,p,_)),!0}return!1}function Ux(r){var o=ct(r.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,Is(r.priority,function(){Fx(u)});return}}else if(o===31){if(o=c(u),o!==null){r.blockedOn=o,Is(r.priority,function(){Fx(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Uu(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=jp(r.nativeEvent);if(u===null){u=r.nativeEvent;var p=new u.constructor(u.type,u);td=p,u.target.dispatchEvent(p),td=null}else return o=vt(u),o!==null&&Bx(o),r.blockedOn=u,!1;o.shift()}return!0}function $x(r,o,u){Uu(r)&&u.delete(o)}function NL(){eg=!1,Vr!==null&&Uu(Vr)&&(Vr=null),Yr!==null&&Uu(Yr)&&(Yr=null),Wr!==null&&Uu(Wr)&&(Wr=null),Cl.forEach($x),Sl.forEach($x)}function $u(r,o){r.blockedOn===o&&(r.blockedOn=null,eg||(eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,NL)))}var zu=null;function zx(r){zu!==r&&(zu=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){zu===r&&(zu=null);for(var o=0;o<r.length;o+=3){var u=r[o],p=r[o+1],_=r[o+2];if(typeof p!="function"){if(tg(p||u)===null)continue;break}var C=vt(u);C!==null&&(r.splice(o,3),o-=3,jd(C,{pending:!0,data:_,method:u.method,action:p},p,_))}}))}function Po(r){function o(O){return $u(O,r)}Vr!==null&&$u(Vr,r),Yr!==null&&$u(Yr,r),Wr!==null&&$u(Wr,r),Cl.forEach(o),Sl.forEach(o);for(var u=0;u<Xr.length;u++){var p=Xr[u];p.blockedOn===r&&(p.blockedOn=null)}for(;0<Xr.length&&(u=Xr[0],u.blockedOn===null);)Ux(u),u.blockedOn===null&&Xr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var _=u[p],C=u[p+1],w=_[ve]||null;if(typeof C=="function")w||zx(u);else if(w){var M=null;if(C&&C.hasAttribute("formAction")){if(_=C,w=C[ve]||null)M=w.formAction;else if(tg(_)!==null)continue}else M=w.action;typeof M=="function"?u[p+1]=M:(u.splice(p,3),p-=3),zx(u)}}}function qx(){function r(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(w){return _=w})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function ng(r){this._internalRoot=r}qu.prototype.render=ng.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,p=$n();Nx(u,p,r,o,null,null)},qu.prototype.unmount=ng.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Nx(r.current,2,null,r,null,null),Su(),o[Yi]=null}};function qu(r){this._internalRoot=r}qu.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ns();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Xr.length&&o!==0&&o<Xr[u].priority;u++);Xr.splice(u,0,r),u===0&&Ux(r)}};var Hx=t.version;if(Hx!=="19.2.3")throw Error(i(527,Hx,"19.2.3"));U.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var IL={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Ei=Hu.inject(IL),ze=Hu}catch{}}return El.createRoot=function(r,o){if(!a(r))throw Error(i(299));var u=!1,p="",_=Kv,C=Qv,w=Zv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=Lx(r,1,!1,null,null,u,p,null,_,C,w,qx),r[Yi]=o.current,Op(r),new ng(o)},El.hydrateRoot=function(r,o,u){if(!a(r))throw Error(i(299));var p=!1,_="",C=Kv,w=Qv,M=Zv,O=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(O=u.formState)),o=Lx(r,1,!0,o,u??null,p,_,O,C,w,M,qx),o.context=Dx(null),u=o.current,p=$n(),p=xn(p),_=Nr(p),_.callback=null,Ir(u,_,p),u=p,o.current.lanes=u,wr(o,u),Ri(o),r[Yi]=o.current,Op(r),new qu(o)},El.version="19.2.3",El}var jx;function WL(){if(jx)return ag.exports;jx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ag.exports=YL(),ag.exports}var XL=WL();const JL=Vm(XL);var qn=(e=>(e.FLOWCHART="flowchart",e.SEQUENCE="sequenceDiagram",e.STATE="stateDiagram",e))(qn||{}),KL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let QL,ZL;function jL(){return{geminiUrl:QL,vertexUrl:ZL}}function tD(e,t,n,i){var a,s;if(!(e!=null&&e.baseUrl)){const l=jL();return t?(a=l.vertexUrl)!==null&&a!==void 0?a:n:(s=l.geminiUrl)!==null&&s!==void 0?s:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xr{}function mt(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const s=t[a];return s!=null?String(s):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function y(e,t,n){for(let s=0;s<t.length-1;s++){const l=t[s];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[c])){const f=e[c];if(Array.isArray(n))for(let h=0;h<f.length;h++){const d=f[h];y(d,t.slice(s+1),n[h])}else for(const h of f)y(h,t.slice(s+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in e||(e[c]=[{}]);const f=e[c];y(f[0],t.slice(s+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const i=t[t.length-1],a=e[i];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const a=t[i];if(a.endsWith("[]")){const s=a.slice(0,-2);if(s in e){const l=e[s];return Array.isArray(l)?l.map(c=>g(c,t.slice(i+1),n)):n}else return n}else e=e[a]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function eD(e,t){for(const[n,i]of Object.entries(t)){const a=n.split("."),s=i.split("."),l=new Set;let c=-1;for(let f=0;f<a.length;f++)if(a[f]==="*"){c=f;break}if(c!==-1&&s.length>c)for(let f=c;f<s.length;f++){const h=s[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&l.add(h)}Dg(e,a,s,0,l)}}function Dg(e,t,n,i,a){if(i>=t.length||typeof e!="object"||e===null)return;const s=t[i];if(s.endsWith("[]")){const l=s.slice(0,-2),c=e;if(l in c&&Array.isArray(c[l]))for(const f of c[l])Dg(f,t,n,i+1,a)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,c=Object.keys(l).filter(h=>!h.startsWith("_")&&!a.has(h)),f={};for(const h of c)f[h]=l[h];for(const[h,d]of Object.entries(f)){const m=[];for(const v of n.slice(i))v==="*"?m.push(h):m.push(v);y(l,m,d)}for(const h of c)delete l[h]}}else{const l=e;s in l&&Dg(l[s],t,n,i+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wm(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nD(e){const t={},n=g(e,["operationName"]);n!=null&&y(t,["operationName"],n);const i=g(e,["resourceName"]);return i!=null&&y(t,["_url","resourceName"],i),t}function iD(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],aD(l)),t}function rD(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],oD(l)),t}function aD(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>sD(l))),y(t,["generatedVideos"],s)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(t,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function oD(e){const t={},n=g(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>lD(l))),y(t,["generatedVideos"],s)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(t,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function sD(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],pD(n)),t}function lD(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],gD(n)),t}function cD(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function uD(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function hD(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],fD(l)),t}function fD(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["parent"]);i!=null&&y(t,["parent"],i);const a=g(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function mb(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],dD(l)),t}function dD(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["parent"]);i!=null&&y(t,["parent"],i);const a=g(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function pD(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const i=g(e,["encodedVideo"]);i!=null&&y(t,["videoBytes"],Wm(i));const a=g(e,["encoding"]);return a!=null&&y(t,["mimeType"],a),t}function gD(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(t,["videoBytes"],Wm(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var tC;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(tC||(tC={}));var eC;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(eC||(eC={}));var nC;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(nC||(nC={}));var Zr;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Zr||(Zr={}));var iC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(iC||(iC={}));var rC;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(rC||(rC={}));var aC;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(aC||(aC={}));var oC;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(oC||(oC={}));var sC;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(sC||(sC={}));var lC;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(lC||(lC={}));var cC;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(cC||(cC={}));var uC;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(uC||(uC={}));var hC;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(hC||(hC={}));var fC;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(fC||(fC={}));var dC;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(dC||(dC={}));var pC;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(pC||(pC={}));var gC;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(gC||(gC={}));var mC;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(mC||(mC={}));var yC;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yC||(yC={}));var Eh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Eh||(Eh={}));var vC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vC||(vC={}));var _C;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_C||(_C={}));var xC;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xC||(xC={}));var Ng;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ng||(Ng={}));var CC;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(CC||(CC={}));var SC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(SC||(SC={}));var TC;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(TC||(TC={}));var bC;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(bC||(bC={}));var EC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(EC||(EC={}));var wC;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(wC||(wC={}));var AC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(AC||(AC={}));var kC;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(kC||(kC={}));var MC;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(MC||(MC={}));var RC;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(RC||(RC={}));var LC;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(LC||(LC={}));var DC;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(DC||(DC={}));var NC;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(NC||(NC={}));var IC;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(IC||(IC={}));var BC;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(BC||(BC={}));var FC;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(FC||(FC={}));var OC;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(OC||(OC={}));var PC;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(PC||(PC={}));var UC;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(UC||(UC={}));var $C;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})($C||($C={}));var zC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(zC||(zC={}));var qC;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(qC||(qC={}));var HC;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(HC||(HC={}));var GC;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(GC||(GC={}));var VC;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(VC||(VC={}));var YC;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(YC||(YC={}));var WC;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(WC||(WC={}));var XC;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(XC||(XC={}));var JC;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(JC||(JC={}));var KC;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(KC||(KC={}));var QC;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(QC||(QC={}));var Go;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Go||(Go={}));class Ig{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class wl{get text(){var t,n,i,a,s,l,c,f;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",d=!1;const m=[];for(const v of(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[x,S]of Object.entries(v))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(x);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;d=!0,h+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?h:void 0}get data(){var t,n,i,a,s,l,c,f;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const d=[];for(const m of(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[v,x]of Object.entries(m))v!=="inlineData"&&(x!==null||x!==void 0)&&d.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(h+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,n,i,a,s,l,c,f;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,n,i,a,s,l,c,f,h;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(h=d==null?void 0:d[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,n,i,a,s,l,c,f,h;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(h=d==null?void 0:d[0])===null||h===void 0?void 0:h.output}}class ZC{}class jC{}class mD{}class yD{}class vD{}class _D{}class tS{}class eS{}class nS{}class xD{}class wh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new wh;let a;const s=t;return n?a=rD(s):a=iD(s),Object.assign(i,a),i}}class iS{}class rS{}class aS{}class oS{}class CD{}class SD{}class TD{}class Xm{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Xm,s=hD(t);return Object.assign(i,s),i}}class bD{}class ED{}class wD{}class sS{}class AD{get text(){var t,n,i;let a="",s=!1;const l=[];for(const c of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,h]of Object.entries(c))f!=="text"&&f!=="thought"&&h!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,a+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?a:void 0}get data(){var t,n,i;let a="";const s=[];for(const l of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&s.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(a+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class kD{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Jm{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Jm,s=mb(t);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function te(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function yb(e,t){const n=te(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function vb(e){return Array.isArray(e)?e.map(t=>Ah(t)):[Ah(e)]}function Ah(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function _b(e){const t=Ah(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function xb(e){const t=Ah(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function lS(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Cb(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>lS(t)):[lS(e)]}function Bg(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function cS(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function uS(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function rn(e){if(e==null)throw new Error("ContentUnion is required");return Bg(e)?e:{role:"user",parts:Cb(e)}}function Km(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=rn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=rn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>rn(n)):[rn(t)]}function ri(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(cS(e)||uS(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rn(e)]}const t=[],n=[],i=Bg(e[0]);for(const a of e){const s=Bg(a);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(a);else{if(cS(a)||uS(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return i||t.push({role:"user",parts:Cb(n)}),t}function MD(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(Zr).includes(n[0].toUpperCase())?n[0].toUpperCase():Zr.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(Zr).includes(i.toUpperCase())?i.toUpperCase():Zr.TYPE_UNSPECIFIED})}}function Wo(e){const t={},n=["items"],i=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&MD(e.type,t);for(const[l,c]of Object.entries(e))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(Zr).includes(c.toUpperCase())?c.toUpperCase():Zr.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Wo(c);else if(i.includes(l)){const f=[];for(const h of c){if(h.type=="null"){t.nullable=!0;continue}f.push(Wo(h))}t[l]=f}else if(a.includes(l)){const f={};for(const[h,d]of Object.entries(c))f[h]=Wo(d);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=c}return t}function Qm(e){return Wo(e)}function Zm(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function jm(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function gs(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Wo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Wo(t.response));return e}function ms(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function RD(e,t,n,i=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function Cr(e,t){if(typeof t!="string")throw new Error("name must be a string");return RD(e,t,"cachedContents")}function Sb(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function aa(e){return Wm(e)}function LD(e){return e!=null&&typeof e=="object"&&"name"in e}function DD(e){return e!=null&&typeof e=="object"&&"video"in e}function ND(e){return e!=null&&typeof e=="object"&&"uri"in e}function Tb(e){var t;let n;if(LD(e)&&(n=e.name),!(ND(e)&&(n=e.uri,n===void 0))&&!(DD(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function bb(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Eb(e){for(const t of["models","tunedModels","publisherModels"])if(ID(e,t))return e[t];return[]}function ID(e,t){return e!==null&&typeof e=="object"&&t in e}function BD(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function FD(e,t={}){const n=[],i=new Set;for(const a of e){const s=a.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const l=BD(a,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function wb(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function OD(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Ab(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let s=!1;for(const l of a){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ys(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function kb(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PD(e){const t={},n=g(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const i=g(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>vN(l))),y(t,["inlinedResponses"],s)}const a=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["inlinedEmbedContentResponses"],s)}return t}function UD(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const i=g(e,["gcsDestination","outputUriPrefix"]);i!=null&&y(t,["gcsUri"],i);const a=g(e,["bigqueryDestination","outputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function $D(e){const t={},n=g(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const i=g(e,["gcsUri"]);i!=null&&y(t,["gcsDestination","outputUriPrefix"],i);const a=g(e,["bigqueryUri"]);if(a!=null&&y(t,["bigqueryDestination","outputUri"],a),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function lh(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata","displayName"]);i!=null&&y(t,["displayName"],i);const a=g(e,["metadata","state"]);a!=null&&y(t,["state"],kb(a));const s=g(e,["metadata","createTime"]);s!=null&&y(t,["createTime"],s);const l=g(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const c=g(e,["metadata","updateTime"]);c!=null&&y(t,["updateTime"],c);const f=g(e,["metadata","model"]);f!=null&&y(t,["model"],f);const h=g(e,["metadata","output"]);return h!=null&&y(t,["dest"],PD(Ab(h))),t}function Fg(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["displayName"]);i!=null&&y(t,["displayName"],i);const a=g(e,["state"]);a!=null&&y(t,["state"],kb(a));const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["createTime"]);l!=null&&y(t,["createTime"],l);const c=g(e,["startTime"]);c!=null&&y(t,["startTime"],c);const f=g(e,["endTime"]);f!=null&&y(t,["endTime"],f);const h=g(e,["updateTime"]);h!=null&&y(t,["updateTime"],h);const d=g(e,["model"]);d!=null&&y(t,["model"],d);const m=g(e,["inputConfig"]);m!=null&&y(t,["src"],zD(m));const v=g(e,["outputConfig"]);v!=null&&y(t,["dest"],UD(Ab(v)));const x=g(e,["completionStats"]);return x!=null&&y(t,["completionStats"],x),t}function zD(e){const t={},n=g(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const i=g(e,["gcsSource","uris"]);i!=null&&y(t,["gcsUri"],i);const a=g(e,["bigquerySource","inputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function qD(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=g(t,["fileName"]);i!=null&&y(n,["fileName"],i);const a=g(t,["inlinedRequests"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>yN(e,l))),y(n,["requests","requests"],s)}return n}function HD(e){const t={},n=g(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const i=g(e,["gcsUri"]);i!=null&&y(t,["gcsSource","uris"],i);const a=g(e,["bigqueryUri"]);if(a!=null&&y(t,["bigquerySource","inputUri"],a),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function GD(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function VD(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],ys(e,i)),n}function YD(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],ys(e,i)),n}function WD(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const i=g(e,["citationMetadata"]);i!=null&&y(t,["citationMetadata"],XD(i));const a=g(e,["tokenCount"]);a!=null&&y(t,["tokenCount"],a);const s=g(e,["finishReason"]);s!=null&&y(t,["finishReason"],s);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const c=g(e,["groundingMetadata"]);c!=null&&y(t,["groundingMetadata"],c);const f=g(e,["index"]);f!=null&&y(t,["index"],f);const h=g(e,["logprobsResult"]);h!=null&&y(t,["logprobsResult"],h);const d=g(e,["safetyRatings"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function XD(e){const t={},n=g(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["citations"],i)}return t}function Mb(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>EN(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function JD(e,t){const n={},i=g(e,["displayName"]);if(t!==void 0&&i!=null&&y(t,["batch","displayName"],i),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function KD(e,t){const n={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["dest"]);return t!==void 0&&a!=null&&y(t,["outputConfig"],$D(OD(a))),n}function hS(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["src"]);a!=null&&y(n,["batch","inputConfig"],qD(e,wb(e,a)));const s=g(t,["config"]);return s!=null&&JD(s,n),n}function QD(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["model"],te(e,i));const a=g(t,["src"]);a!=null&&y(n,["inputConfig"],HD(wb(e,a)));const s=g(t,["config"]);return s!=null&&KD(s,n),n}function ZD(e,t){const n={},i=g(e,["displayName"]);return t!==void 0&&i!=null&&y(t,["batch","displayName"],i),n}function jD(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["src"]);a!=null&&y(n,["batch","inputConfig"],oN(e,a));const s=g(t,["config"]);return s!=null&&ZD(s,n),n}function tN(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],ys(e,i)),n}function eN(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],ys(e,i)),n}function nN(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);return s!=null&&y(t,["error"],s),t}function iN(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);return s!=null&&y(t,["error"],s),t}function rN(e,t){const n={},i=g(t,["contents"]);if(i!=null){let s=Km(e,i);Array.isArray(s)&&(s=s.map(l=>l)),y(n,["requests[]","request","content"],s)}const a=g(t,["config"]);return a!=null&&(y(n,["_self"],aN(a,n)),eD(n,{"requests[].*":"requests[].request.*"})),n}function aN(e,t){const n={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["requests[]","taskType"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const s=g(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&y(t,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function oN(e,t){const n={},i=g(t,["fileName"]);i!=null&&y(n,["file_name"],i);const a=g(t,["inlinedRequests"]);return a!=null&&y(n,["requests"],rN(e,a)),n}function sN(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function lN(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cN(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const i=g(e,["allowedFunctionNames"]);if(i!=null&&y(t,["allowedFunctionNames"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function uN(e,t,n){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],Mb(rn(a)));const s=g(t,["temperature"]);s!=null&&y(i,["temperature"],s);const l=g(t,["topP"]);l!=null&&y(i,["topP"],l);const c=g(t,["topK"]);c!=null&&y(i,["topK"],c);const f=g(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const d=g(t,["stopSequences"]);d!=null&&y(i,["stopSequences"],d);const m=g(t,["responseLogprobs"]);m!=null&&y(i,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(i,["logprobs"],v);const x=g(t,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&y(i,["frequencyPenalty"],S);const T=g(t,["seed"]);T!=null&&y(i,["seed"],T);const E=g(t,["responseMimeType"]);E!=null&&y(i,["responseMimeType"],E);const A=g(t,["responseSchema"]);A!=null&&y(i,["responseSchema"],Qm(A));const k=g(t,["responseJsonSchema"]);if(k!=null&&y(i,["responseJsonSchema"],k),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let et=R;Array.isArray(et)&&(et=et.map(Y=>wN(Y))),y(n,["safetySettings"],et)}const I=g(t,["tools"]);if(n!==void 0&&I!=null){let et=ms(I);Array.isArray(et)&&(et=et.map(Y=>kN(gs(Y)))),y(n,["tools"],et)}const B=g(t,["toolConfig"]);if(n!==void 0&&B!=null&&y(n,["toolConfig"],AN(B)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=g(t,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],Cr(e,L));const N=g(t,["responseModalities"]);N!=null&&y(i,["responseModalities"],N);const Z=g(t,["mediaResolution"]);Z!=null&&y(i,["mediaResolution"],Z);const K=g(t,["speechConfig"]);if(K!=null&&y(i,["speechConfig"],Zm(K)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const tt=g(t,["thinkingConfig"]);tt!=null&&y(i,["thinkingConfig"],tt);const V=g(t,["imageConfig"]);V!=null&&y(i,["imageConfig"],mN(V));const lt=g(t,["enableEnhancedCivicAnswers"]);return lt!=null&&y(i,["enableEnhancedCivicAnswers"],lt),i}function hN(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>WD(h))),y(t,["candidates"],f)}const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const s=g(e,["promptFeedback"]);s!=null&&y(t,["promptFeedback"],s);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const c=g(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function fN(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],ys(e,i)),n}function dN(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],ys(e,i)),n}function pN(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function gN(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function mN(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const i=g(e,["imageSize"]);if(i!=null&&y(t,["imageSize"],i),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function yN(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["request","model"],te(e,i));const a=g(t,["contents"]);if(a!=null){let c=ri(a);Array.isArray(c)&&(c=c.map(f=>Mb(f))),y(n,["request","contents"],c)}const s=g(t,["metadata"]);s!=null&&y(n,["metadata"],s);const l=g(t,["config"]);return l!=null&&y(n,["request","generationConfig"],uN(e,l,g(n,["request"],{}))),n}function vN(e){const t={},n=g(e,["response"]);n!=null&&y(t,["response"],hN(n));const i=g(e,["error"]);return i!=null&&y(t,["error"],i),t}function _N(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);if(t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function xN(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const s=g(e,["filter"]);return t!==void 0&&s!=null&&y(t,["_query","filter"],s),n}function CN(e){const t={},n=g(e,["config"]);return n!=null&&_N(n,t),t}function SN(e){const t={},n=g(e,["config"]);return n!=null&&xN(n,t),t}function TN(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["operations"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>lh(l))),y(t,["batchJobs"],s)}return t}function bN(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["batchPredictionJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Fg(l))),y(t,["batchJobs"],s)}return t}function EN(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],sN(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],lN(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],GD(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function wN(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(e,["threshold"]);return i!=null&&y(t,["threshold"],i),t}function AN(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],cN(n));const i=g(e,["retrievalConfig"]);return i!=null&&y(t,["retrievalConfig"],i),t}function kN(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],pN(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],gN(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yr;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(yr||(yr={}));class Ja{constructor(t,n,i,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,a)}init(t,n,i){var a,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(a=l.config)===null||a===void 0?void 0:a.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MN extends xr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ja(yr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=hS(this.apiClient,t),i=n._url,a=mt("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,f=c.requests,h=[];for(const d of f){const m=Object.assign({},d);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const x=m.request;x.systemInstruction=v,m.request=x}h.push(m)}return c.requests=h,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},a=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${a}`),i.dest===void 0){const s=this.getGcsUri(t),l=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${a}`;else if(l)i.dest=`${l}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=QD(this.apiClient,t);return c=mt("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Fg(d))}else{const h=hS(this.apiClient,t);return c=mt("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>lh(d))}}async createEmbeddingsInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jD(this.apiClient,t);return s=mt("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>lh(f))}}async get(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=dN(this.apiClient,t);return c=mt("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Fg(d))}else{const h=fN(this.apiClient,t);return c=mt("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>lh(d))}}async cancel(t){var n,i,a,s;let l="",c={};if(this.apiClient.isVertexAI()){const f=YD(this.apiClient,t);l=mt("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=VD(this.apiClient,t);l=mt("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=SN(t);return c=mt("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=bN(d),v=new sS;return Object.assign(v,m),v})}else{const h=CN(t);return c=mt("batches",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=TN(d),v=new sS;return Object.assign(v,m),v})}}async delete(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=eN(this.apiClient,t);return c=mt("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>iN(d))}else{const h=tN(this.apiClient,t);return c=mt("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>nN(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RN(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function fS(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>jN(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function LN(e,t){const n={},i=g(e,["ttl"]);t!==void 0&&i!=null&&y(t,["ttl"],i);const a=g(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const s=g(e,["displayName"]);t!==void 0&&s!=null&&y(t,["displayName"],s);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let d=ri(l);Array.isArray(d)&&(d=d.map(m=>fS(m))),y(t,["contents"],d)}const c=g(e,["systemInstruction"]);t!==void 0&&c!=null&&y(t,["systemInstruction"],fS(rn(c)));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(m=>eI(m))),y(t,["tools"],d)}const h=g(e,["toolConfig"]);if(t!==void 0&&h!=null&&y(t,["toolConfig"],tI(h)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function DN(e,t){const n={},i=g(e,["ttl"]);t!==void 0&&i!=null&&y(t,["ttl"],i);const a=g(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const s=g(e,["displayName"]);t!==void 0&&s!=null&&y(t,["displayName"],s);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=ri(l);Array.isArray(m)&&(m=m.map(v=>v)),y(t,["contents"],m)}const c=g(e,["systemInstruction"]);t!==void 0&&c!=null&&y(t,["systemInstruction"],rn(c));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>nI(v))),y(t,["tools"],m)}const h=g(e,["toolConfig"]);t!==void 0&&h!=null&&y(t,["toolConfig"],h);const d=g(e,["kmsKeyName"]);return t!==void 0&&d!=null&&y(t,["encryption_spec","kmsKeyName"],d),n}function NN(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["model"],yb(e,i));const a=g(t,["config"]);return a!=null&&LN(a,n),n}function IN(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["model"],yb(e,i));const a=g(t,["config"]);return a!=null&&DN(a,n),n}function BN(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],Cr(e,i)),n}function FN(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],Cr(e,i)),n}function ON(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function PN(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function UN(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function $N(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zN(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const i=g(e,["allowedFunctionNames"]);if(i!=null&&y(t,["allowedFunctionNames"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function qN(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const s=g(e,["parametersJsonSchema"]);s!=null&&y(t,["parametersJsonSchema"],s);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function HN(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],Cr(e,i)),n}function GN(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],Cr(e,i)),n}function VN(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function YN(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function WN(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function XN(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function JN(e){const t={},n=g(e,["config"]);return n!=null&&WN(n,t),t}function KN(e){const t={},n=g(e,["config"]);return n!=null&&XN(n,t),t}function QN(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["cachedContents"],s)}return t}function ZN(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["cachedContents"],s)}return t}function jN(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],UN(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],$N(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],RN(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function tI(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],zN(n));const i=g(e,["retrievalConfig"]);return i!=null&&y(t,["retrievalConfig"],i),t}function eI(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],VN(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],YN(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function nI(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>qN(v))),y(t,["functionDeclarations"],m)}const i=g(e,["retrieval"]);i!=null&&y(t,["retrieval"],i);const a=g(e,["googleSearchRetrieval"]);a!=null&&y(t,["googleSearchRetrieval"],a);const s=g(e,["computerUse"]);if(s!=null&&y(t,["computerUse"],s),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const c=g(e,["enterpriseWebSearch"]);c!=null&&y(t,["enterpriseWebSearch"],c);const f=g(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const h=g(e,["googleSearch"]);h!=null&&y(t,["googleSearch"],h);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function iI(e,t){const n={},i=g(e,["ttl"]);t!==void 0&&i!=null&&y(t,["ttl"],i);const a=g(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function rI(e,t){const n={},i=g(e,["ttl"]);t!==void 0&&i!=null&&y(t,["ttl"],i);const a=g(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function aI(e,t){const n={},i=g(t,["name"]);i!=null&&y(n,["_url","name"],Cr(e,i));const a=g(t,["config"]);return a!=null&&iI(a,n),n}function oI(e,t){const n={},i=g(t,["name"]);i!=null&&y(n,["_url","name"],Cr(e,i));const a=g(t,["config"]);return a!=null&&rI(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sI extends xr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ja(yr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=IN(this.apiClient,t);return c=mt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const h=NN(this.apiClient,t);return c=mt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async get(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=GN(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const h=HN(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=FN(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=PN(d),v=new aS;return Object.assign(v,m),v})}else{const h=BN(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=ON(d),v=new aS;return Object.assign(v,m),v})}}async update(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=oI(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const h=aI(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async listInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=KN(t);return c=mt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=ZN(d),v=new oS;return Object.assign(v,m),v})}else{const h=JN(t);return c=mt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=QN(d),v=new oS;return Object.assign(v,m),v})}}}function kh(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n}function dS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ot(e){return this instanceof Ot?(this.v=e,this):new Ot(e)}function _i(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(x){return function(S){return Promise.resolve(S).then(x,m)}}function c(x,S){i[x]&&(a[x]=function(T){return new Promise(function(E,A){s.push([x,T,E,A])>1||f(x,T)})},S&&(a[x]=S(a[x])))}function f(x,S){try{h(i[x](S))}catch(T){v(s[0][3],T)}}function h(x){x.value instanceof Ot?Promise.resolve(x.value.v).then(d,m):v(s[0][2],x)}function d(x){f("next",x)}function m(x){f("throw",x)}function v(x,S){x(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}function xi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof dS=="function"?dS(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(l){return new Promise(function(c,f){l=e[s](l),a(c,f,l.done,l.value)})}}function a(s,l,c,f){Promise.resolve(f).then(function(h){s({value:h,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lI(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Rb(n)}function Rb(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function cI(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function pS(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const a=[];let s=!0;for(;i<n&&e[i].role==="model";)a.push(e[i]),s&&!Rb(e[i])&&(s=!1),i++;s?t.push(...a):t.pop()}return t}class uI{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new hI(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class hI{constructor(t,n,i,a={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=a,this.history=s,this.sendPromise=Promise.resolve(),cI(s)}async sendMessage(t){var n;await this.sendPromise;const i=rn(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,c;const f=await a,h=(l=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,d=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];d!=null&&(v=(c=d.slice(m))!==null&&c!==void 0?c:[]);const x=h?[h]:[];this.recordHistory(i,x,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const i=rn(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const s=await a;return this.processStreamResponse(s,i)}getHistory(t=!1){const n=t?pS(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return _i(this,arguments,function*(){var a,s,l,c,f,h;const d=[];try{for(var m=!0,v=xi(t),x;x=yield Ot(v.next()),a=x.done,!a;m=!0){c=x.value,m=!1;const S=c;if(lI(S)){const T=(h=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content;T!==void 0&&d.push(T)}yield yield Ot(S)}}catch(S){s={error:S}}finally{try{!m&&!a&&(l=v.return)&&(yield Ot(l.call(v)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let a=[];n.length>0&&n.every(s=>s.role!==void 0)?a=n:a.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...pS(i)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pf extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,pf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fI(e){const t={},n=g(e,["file"]);return n!=null&&y(t,["file"],n),t}function dI(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function pI(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],Tb(n)),t}function gI(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function mI(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],Tb(n)),t}function yI(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function vI(e){const t={},n=g(e,["config"]);return n!=null&&yI(n,t),t}function _I(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["files"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xI extends xr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ja(yr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vI(t);return s=mt("files",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=_I(f),d=new bD;return Object.assign(d,h),d})}}async createInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fI(t);return s=mt("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=dI(f),d=new ED;return Object.assign(d,h),d})}}async get(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mI(t);return s=mt("files/{file}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=pI(t);return s=mt("files/{file}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=gI(f),d=new wD;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ch(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function CI(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>OI(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function SI(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function TI(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bI(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const s=g(e,["parametersJsonSchema"]);s!=null&&y(t,["parametersJsonSchema"],s);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function EI(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const i=g(e,["responseJsonSchema"]);i!=null&&y(t,["responseJsonSchema"],i);const a=g(e,["audioTimestamp"]);a!=null&&y(t,["audioTimestamp"],a);const s=g(e,["candidateCount"]);s!=null&&y(t,["candidateCount"],s);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const c=g(e,["frequencyPenalty"]);c!=null&&y(t,["frequencyPenalty"],c);const f=g(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const h=g(e,["maxOutputTokens"]);h!=null&&y(t,["maxOutputTokens"],h);const d=g(e,["mediaResolution"]);d!=null&&y(t,["mediaResolution"],d);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const x=g(e,["responseMimeType"]);x!=null&&y(t,["responseMimeType"],x);const S=g(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const T=g(e,["responseSchema"]);T!=null&&y(t,["responseSchema"],T);const E=g(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const A=g(e,["seed"]);A!=null&&y(t,["seed"],A);const k=g(e,["speechConfig"]);k!=null&&y(t,["speechConfig"],k);const R=g(e,["stopSequences"]);R!=null&&y(t,["stopSequences"],R);const I=g(e,["temperature"]);I!=null&&y(t,["temperature"],I);const B=g(e,["thinkingConfig"]);B!=null&&y(t,["thinkingConfig"],B);const L=g(e,["topK"]);L!=null&&y(t,["topK"],L);const N=g(e,["topP"]);if(N!=null&&y(t,["topP"],N),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function wI(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function AI(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function kI(e,t){const n={},i=g(e,["generationConfig"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig"],i);const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const s=g(e,["temperature"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","temperature"],s);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","mediaResolution"],h);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","seed"],d);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],jm(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],CI(rn(S)));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let L=ms(T);Array.isArray(L)&&(L=L.map(N=>UI(gs(N)))),y(t,["setup","tools"],L)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],PI(E));const A=g(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","inputAudioTranscription"],A);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&y(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const B=g(e,["proactivity"]);if(t!==void 0&&B!=null&&y(t,["setup","proactivity"],B),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function MI(e,t){const n={},i=g(e,["generationConfig"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig"],EI(i));const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const s=g(e,["temperature"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","temperature"],s);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","mediaResolution"],h);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","seed"],d);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],jm(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],rn(S));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let N=ms(T);Array.isArray(N)&&(N=N.map(Z=>$I(gs(Z)))),y(t,["setup","tools"],N)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],E);const A=g(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","inputAudioTranscription"],A);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&y(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const B=g(e,["proactivity"]);t!==void 0&&B!=null&&y(t,["setup","proactivity"],B);const L=g(e,["explicitVadSignal"]);return t!==void 0&&L!=null&&y(t,["setup","explicitVadSignal"],L),n}function RI(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["setup","model"],te(e,i));const a=g(t,["config"]);return a!=null&&y(n,["config"],kI(a,n)),n}function LI(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["setup","model"],te(e,i));const a=g(t,["config"]);return a!=null&&y(n,["config"],MI(a,n)),n}function DI(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function NI(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["weightedPrompts"],i)}return t}function II(e){const t={},n=g(e,["media"]);if(n!=null){let h=vb(n);Array.isArray(h)&&(h=h.map(d=>ch(d))),y(t,["mediaChunks"],h)}const i=g(e,["audio"]);i!=null&&y(t,["audio"],ch(xb(i)));const a=g(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const s=g(e,["video"]);s!=null&&y(t,["video"],ch(_b(s)));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const c=g(e,["activityStart"]);c!=null&&y(t,["activityStart"],c);const f=g(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function BI(e){const t={},n=g(e,["media"]);if(n!=null){let h=vb(n);Array.isArray(h)&&(h=h.map(d=>d)),y(t,["mediaChunks"],h)}const i=g(e,["audio"]);i!=null&&y(t,["audio"],xb(i));const a=g(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const s=g(e,["video"]);s!=null&&y(t,["video"],_b(s));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const c=g(e,["activityStart"]);c!=null&&y(t,["activityStart"],c);const f=g(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function FI(e){const t={},n=g(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const i=g(e,["serverContent"]);i!=null&&y(t,["serverContent"],i);const a=g(e,["toolCall"]);a!=null&&y(t,["toolCall"],a);const s=g(e,["toolCallCancellation"]);s!=null&&y(t,["toolCallCancellation"],s);const l=g(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],zI(l));const c=g(e,["goAway"]);c!=null&&y(t,["goAway"],c);const f=g(e,["sessionResumptionUpdate"]);f!=null&&y(t,["sessionResumptionUpdate"],f);const h=g(e,["voiceActivityDetectionSignal"]);return h!=null&&y(t,["voiceActivityDetectionSignal"],h),t}function OI(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],SI(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],TI(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],ch(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function PI(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function UI(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],wI(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],AI(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function $I(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>bI(v))),y(t,["functionDeclarations"],m)}const i=g(e,["retrieval"]);i!=null&&y(t,["retrieval"],i);const a=g(e,["googleSearchRetrieval"]);a!=null&&y(t,["googleSearchRetrieval"],a);const s=g(e,["computerUse"]);if(s!=null&&y(t,["computerUse"],s),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const c=g(e,["enterpriseWebSearch"]);c!=null&&y(t,["enterpriseWebSearch"],c);const f=g(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const h=g(e,["googleSearch"]);h!=null&&y(t,["googleSearch"],h);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function zI(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const i=g(e,["cachedContentTokenCount"]);i!=null&&y(t,["cachedContentTokenCount"],i);const a=g(e,["candidatesTokenCount"]);a!=null&&y(t,["responseTokenCount"],a);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&y(t,["toolUsePromptTokenCount"],s);const l=g(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const c=g(e,["totalTokenCount"]);c!=null&&y(t,["totalTokenCount"],c);const f=g(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["promptTokensDetails"],x)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["cacheTokensDetails"],x)}const d=g(e,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["responseTokensDetails"],x)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["toolUsePromptTokensDetails"],x)}const v=g(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qI(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function HI(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const i=g(e,["citationMetadata"]);i!=null&&y(t,["citationMetadata"],GI(i));const a=g(e,["tokenCount"]);a!=null&&y(t,["tokenCount"],a);const s=g(e,["finishReason"]);s!=null&&y(t,["finishReason"],s);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const c=g(e,["groundingMetadata"]);c!=null&&y(t,["groundingMetadata"],c);const f=g(e,["index"]);f!=null&&y(t,["index"],f);const h=g(e,["logprobsResult"]);h!=null&&y(t,["logprobsResult"],h);const d=g(e,["safetyRatings"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function GI(e){const t={},n=g(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["citations"],i)}return t}function VI(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["contents"]);if(a!=null){let s=ri(a);Array.isArray(s)&&(s=s.map(l=>l)),y(n,["contents"],s)}return n}function YI(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(t,["tokensInfo"],a)}return t}function WI(e){const t={},n=g(e,["values"]);n!=null&&y(t,["values"],n);const i=g(e,["statistics"]);return i!=null&&y(t,["statistics"],XI(i)),t}function XI(e){const t={},n=g(e,["truncated"]);n!=null&&y(t,["truncated"],n);const i=g(e,["token_count"]);return i!=null&&y(t,["tokenCount"],i),t}function gf(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>i3(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function JI(e){const t={},n=g(e,["controlType"]);n!=null&&y(t,["controlType"],n);const i=g(e,["enableControlImageComputation"]);return i!=null&&y(t,["computeControl"],i),t}function KI(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function QI(e,t){const n={},i=g(e,["systemInstruction"]);t!==void 0&&i!=null&&y(t,["systemInstruction"],rn(i));const a=g(e,["tools"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Ib(c))),y(t,["tools"],l)}const s=g(e,["generationConfig"]);return t!==void 0&&s!=null&&y(t,["generationConfig"],qB(s)),n}function ZI(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["contents"]);if(a!=null){let l=ri(a);Array.isArray(l)&&(l=l.map(c=>gf(c))),y(n,["contents"],l)}const s=g(t,["config"]);return s!=null&&KI(s),n}function jI(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["contents"]);if(a!=null){let l=ri(a);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const s=g(t,["config"]);return s!=null&&QI(s,n),n}function tB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["totalTokens"]);i!=null&&y(t,["totalTokens"],i);const a=g(e,["cachedContentTokenCount"]);return a!=null&&y(t,["cachedContentTokenCount"],a),t}function eB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["totalTokens"]);return i!=null&&y(t,["totalTokens"],i),t}function nB(e,t){const n={},i=g(t,["model"]);return i!=null&&y(n,["_url","name"],te(e,i)),n}function iB(e,t){const n={},i=g(t,["model"]);return i!=null&&y(n,["_url","name"],te(e,i)),n}function rB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function aB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function oB(e,t){const n={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const s=g(e,["numberOfImages"]);t!==void 0&&s!=null&&y(t,["parameters","sampleCount"],s);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const c=g(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const f=g(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const v=g(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const x=g(e,["language"]);t!==void 0&&x!=null&&y(t,["parameters","language"],x);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const E=g(e,["addWatermark"]);t!==void 0&&E!=null&&y(t,["parameters","addWatermark"],E);const A=g(e,["labels"]);t!==void 0&&A!=null&&y(t,["labels"],A);const k=g(e,["editMode"]);t!==void 0&&k!=null&&y(t,["parameters","editMode"],k);const R=g(e,["baseSteps"]);return t!==void 0&&R!=null&&y(t,["parameters","editConfig","baseSteps"],R),n}function sB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>c3(f))),y(n,["instances[0]","referenceImages"],c)}const l=g(t,["config"]);return l!=null&&oB(l,n),n}function lB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>mf(s))),y(t,["generatedImages"],a)}return t}function cB(e,t){const n={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["requests[]","taskType"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const s=g(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&y(t,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function uB(e,t){const n={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["instances[]","task_type"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["instances[]","title"],a);const s=g(e,["outputDimensionality"]);t!==void 0&&s!=null&&y(t,["parameters","outputDimensionality"],s);const l=g(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const c=g(e,["autoTruncate"]);return t!==void 0&&c!=null&&y(t,["parameters","autoTruncate"],c),n}function hB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["contents"]);if(a!=null){let c=Km(e,a);Array.isArray(c)&&(c=c.map(f=>f)),y(n,["requests[]","content"],c)}const s=g(t,["config"]);s!=null&&cB(s,n);const l=g(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],te(e,l)),n}function fB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["contents"]);if(a!=null){let l=Km(e,a);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["instances[]","content"],l)}const s=g(t,["config"]);return s!=null&&uB(s,n),n}function dB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["embeddings"],s)}const a=g(e,["metadata"]);return a!=null&&y(t,["metadata"],a),t}function pB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>WI(l))),y(t,["embeddings"],s)}const a=g(e,["metadata"]);return a!=null&&y(t,["metadata"],a),t}function gB(e){const t={},n=g(e,["endpoint"]);n!=null&&y(t,["name"],n);const i=g(e,["deployedModelId"]);return i!=null&&y(t,["deployedModelId"],i),t}function mB(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function yB(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vB(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const i=g(e,["allowedFunctionNames"]);if(i!=null&&y(t,["allowedFunctionNames"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _B(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const s=g(e,["parametersJsonSchema"]);s!=null&&y(t,["parametersJsonSchema"],s);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function xB(e,t,n){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],gf(rn(a)));const s=g(t,["temperature"]);s!=null&&y(i,["temperature"],s);const l=g(t,["topP"]);l!=null&&y(i,["topP"],l);const c=g(t,["topK"]);c!=null&&y(i,["topK"],c);const f=g(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const d=g(t,["stopSequences"]);d!=null&&y(i,["stopSequences"],d);const m=g(t,["responseLogprobs"]);m!=null&&y(i,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(i,["logprobs"],v);const x=g(t,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&y(i,["frequencyPenalty"],S);const T=g(t,["seed"]);T!=null&&y(i,["seed"],T);const E=g(t,["responseMimeType"]);E!=null&&y(i,["responseMimeType"],E);const A=g(t,["responseSchema"]);A!=null&&y(i,["responseSchema"],Qm(A));const k=g(t,["responseJsonSchema"]);if(k!=null&&y(i,["responseJsonSchema"],k),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let et=R;Array.isArray(et)&&(et=et.map(Y=>u3(Y))),y(n,["safetySettings"],et)}const I=g(t,["tools"]);if(n!==void 0&&I!=null){let et=ms(I);Array.isArray(et)&&(et=et.map(Y=>y3(gs(Y)))),y(n,["tools"],et)}const B=g(t,["toolConfig"]);if(n!==void 0&&B!=null&&y(n,["toolConfig"],m3(B)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=g(t,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],Cr(e,L));const N=g(t,["responseModalities"]);N!=null&&y(i,["responseModalities"],N);const Z=g(t,["mediaResolution"]);Z!=null&&y(i,["mediaResolution"],Z);const K=g(t,["speechConfig"]);if(K!=null&&y(i,["speechConfig"],Zm(K)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const tt=g(t,["thinkingConfig"]);tt!=null&&y(i,["thinkingConfig"],tt);const V=g(t,["imageConfig"]);V!=null&&y(i,["imageConfig"],WB(V));const lt=g(t,["enableEnhancedCivicAnswers"]);return lt!=null&&y(i,["enableEnhancedCivicAnswers"],lt),i}function CB(e,t,n){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],rn(a));const s=g(t,["temperature"]);s!=null&&y(i,["temperature"],s);const l=g(t,["topP"]);l!=null&&y(i,["topP"],l);const c=g(t,["topK"]);c!=null&&y(i,["topK"],c);const f=g(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const d=g(t,["stopSequences"]);d!=null&&y(i,["stopSequences"],d);const m=g(t,["responseLogprobs"]);m!=null&&y(i,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(i,["logprobs"],v);const x=g(t,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&y(i,["frequencyPenalty"],S);const T=g(t,["seed"]);T!=null&&y(i,["seed"],T);const E=g(t,["responseMimeType"]);E!=null&&y(i,["responseMimeType"],E);const A=g(t,["responseSchema"]);A!=null&&y(i,["responseSchema"],Qm(A));const k=g(t,["responseJsonSchema"]);k!=null&&y(i,["responseJsonSchema"],k);const R=g(t,["routingConfig"]);R!=null&&y(i,["routingConfig"],R);const I=g(t,["modelSelectionConfig"]);I!=null&&y(i,["modelConfig"],I);const B=g(t,["safetySettings"]);if(n!==void 0&&B!=null){let D=B;Array.isArray(D)&&(D=D.map(U=>U)),y(n,["safetySettings"],D)}const L=g(t,["tools"]);if(n!==void 0&&L!=null){let D=ms(L);Array.isArray(D)&&(D=D.map(U=>Ib(gs(U)))),y(n,["tools"],D)}const N=g(t,["toolConfig"]);n!==void 0&&N!=null&&y(n,["toolConfig"],N);const Z=g(t,["labels"]);n!==void 0&&Z!=null&&y(n,["labels"],Z);const K=g(t,["cachedContent"]);n!==void 0&&K!=null&&y(n,["cachedContent"],Cr(e,K));const tt=g(t,["responseModalities"]);tt!=null&&y(i,["responseModalities"],tt);const V=g(t,["mediaResolution"]);V!=null&&y(i,["mediaResolution"],V);const lt=g(t,["speechConfig"]);lt!=null&&y(i,["speechConfig"],Zm(lt));const et=g(t,["audioTimestamp"]);et!=null&&y(i,["audioTimestamp"],et);const Y=g(t,["thinkingConfig"]);Y!=null&&y(i,["thinkingConfig"],Y);const G=g(t,["imageConfig"]);if(G!=null&&y(i,["imageConfig"],XB(G)),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function gS(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["contents"]);if(a!=null){let l=ri(a);Array.isArray(l)&&(l=l.map(c=>gf(c))),y(n,["contents"],l)}const s=g(t,["config"]);return s!=null&&y(n,["generationConfig"],xB(e,s,n)),n}function mS(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["contents"]);if(a!=null){let l=ri(a);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const s=g(t,["config"]);return s!=null&&y(n,["generationConfig"],CB(e,s,n)),n}function yS(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>HI(h))),y(t,["candidates"],f)}const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const s=g(e,["promptFeedback"]);s!=null&&y(t,["promptFeedback"],s);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const c=g(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function vS(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>d)),y(t,["candidates"],h)}const a=g(e,["createTime"]);a!=null&&y(t,["createTime"],a);const s=g(e,["modelVersion"]);s!=null&&y(t,["modelVersion"],s);const l=g(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const c=g(e,["responseId"]);c!=null&&y(t,["responseId"],c);const f=g(e,["usageMetadata"]);return f!=null&&y(t,["usageMetadata"],f),t}function SB(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const s=g(e,["guidanceScale"]);if(t!==void 0&&s!=null&&y(t,["parameters","guidanceScale"],s),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const c=g(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const f=g(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&y(t,["parameters","includeSafetyAttributes"],f);const h=g(e,["includeRaiReason"]);t!==void 0&&h!=null&&y(t,["parameters","includeRaiReason"],h);const d=g(e,["language"]);t!==void 0&&d!=null&&y(t,["parameters","language"],d);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const v=g(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=g(e,["imageSize"]);if(t!==void 0&&x!=null&&y(t,["parameters","sampleImageSize"],x),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function TB(e,t){const n={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const s=g(e,["numberOfImages"]);t!==void 0&&s!=null&&y(t,["parameters","sampleCount"],s);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const c=g(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const f=g(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const v=g(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const x=g(e,["language"]);t!==void 0&&x!=null&&y(t,["parameters","language"],x);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const E=g(e,["addWatermark"]);t!==void 0&&E!=null&&y(t,["parameters","addWatermark"],E);const A=g(e,["labels"]);t!==void 0&&A!=null&&y(t,["labels"],A);const k=g(e,["imageSize"]);t!==void 0&&k!=null&&y(t,["parameters","sampleImageSize"],k);const R=g(e,["enhancePrompt"]);return t!==void 0&&R!=null&&y(t,["parameters","enhancePrompt"],R),n}function bB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["config"]);return s!=null&&SB(s,n),n}function EB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["config"]);return s!=null&&TB(s,n),n}function wB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>PB(l))),y(t,["generatedImages"],s)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(t,["positivePromptSafetyAttributes"],Db(a)),t}function AB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>mf(l))),y(t,["generatedImages"],s)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(t,["positivePromptSafetyAttributes"],Nb(a)),t}function kB(e,t){const n={},i=g(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=g(e,["durationSeconds"]);if(t!==void 0&&a!=null&&y(t,["parameters","durationSeconds"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(e,["aspectRatio"]);t!==void 0&&s!=null&&y(t,["parameters","aspectRatio"],s);const l=g(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const c=g(e,["personGeneration"]);if(t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(e,["negativePrompt"]);t!==void 0&&f!=null&&y(t,["parameters","negativePrompt"],f);const h=g(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&y(t,["parameters","enhancePrompt"],h),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=g(e,["lastFrame"]);t!==void 0&&d!=null&&y(t,["instances[0]","lastFrame"],yf(d));const m=g(e,["referenceImages"]);if(t!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(x=>R3(x))),y(t,["instances[0]","referenceImages"],v)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function MB(e,t){const n={},i=g(e,["numberOfVideos"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const s=g(e,["fps"]);t!==void 0&&s!=null&&y(t,["parameters","fps"],s);const l=g(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const c=g(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const f=g(e,["aspectRatio"]);t!==void 0&&f!=null&&y(t,["parameters","aspectRatio"],f);const h=g(e,["resolution"]);t!==void 0&&h!=null&&y(t,["parameters","resolution"],h);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const m=g(e,["pubsubTopic"]);t!==void 0&&m!=null&&y(t,["parameters","pubsubTopic"],m);const v=g(e,["negativePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","negativePrompt"],v);const x=g(e,["enhancePrompt"]);t!==void 0&&x!=null&&y(t,["parameters","enhancePrompt"],x);const S=g(e,["generateAudio"]);t!==void 0&&S!=null&&y(t,["parameters","generateAudio"],S);const T=g(e,["lastFrame"]);t!==void 0&&T!=null&&y(t,["instances[0]","lastFrame"],Ti(T));const E=g(e,["referenceImages"]);if(t!==void 0&&E!=null){let R=E;Array.isArray(R)&&(R=R.map(I=>L3(I))),y(t,["instances[0]","referenceImages"],R)}const A=g(e,["mask"]);t!==void 0&&A!=null&&y(t,["instances[0]","mask"],M3(A));const k=g(e,["compressionQuality"]);return t!==void 0&&k!=null&&y(t,["parameters","compressionQuality"],k),n}function RB(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],IB(l)),t}function LB(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],BB(l)),t}function DB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["image"]);s!=null&&y(n,["instances[0]","image"],yf(s));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],Bb(l));const c=g(t,["source"]);c!=null&&FB(c,n);const f=g(t,["config"]);return f!=null&&kB(f,n),n}function NB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["image"]);s!=null&&y(n,["instances[0]","image"],Ti(s));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],Fb(l));const c=g(t,["source"]);c!=null&&OB(c,n);const f=g(t,["config"]);return f!=null&&MB(f,n),n}function IB(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>$B(l))),y(t,["generatedVideos"],s)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(t,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function BB(e){const t={},n=g(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>zB(l))),y(t,["generatedVideos"],s)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(t,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function FB(e,t){const n={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],yf(a));const s=g(e,["video"]);return t!==void 0&&s!=null&&y(t,["instances[0]","video"],Bb(s)),n}function OB(e,t){const n={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Ti(a));const s=g(e,["video"]);return t!==void 0&&s!=null&&y(t,["instances[0]","video"],Fb(s)),n}function PB(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],JB(n));const i=g(e,["raiFilteredReason"]);i!=null&&y(t,["raiFilteredReason"],i);const a=g(e,["_self"]);return a!=null&&y(t,["safetyAttributes"],Db(a)),t}function mf(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],Lb(n));const i=g(e,["raiFilteredReason"]);i!=null&&y(t,["raiFilteredReason"],i);const a=g(e,["_self"]);a!=null&&y(t,["safetyAttributes"],Nb(a));const s=g(e,["prompt"]);return s!=null&&y(t,["enhancedPrompt"],s),t}function UB(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["mask"],Lb(n));const i=g(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(t,["labels"],a)}return t}function $B(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],A3(n)),t}function zB(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],k3(n)),t}function qB(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const i=g(e,["responseJsonSchema"]);i!=null&&y(t,["responseJsonSchema"],i);const a=g(e,["audioTimestamp"]);a!=null&&y(t,["audioTimestamp"],a);const s=g(e,["candidateCount"]);s!=null&&y(t,["candidateCount"],s);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const c=g(e,["frequencyPenalty"]);c!=null&&y(t,["frequencyPenalty"],c);const f=g(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const h=g(e,["maxOutputTokens"]);h!=null&&y(t,["maxOutputTokens"],h);const d=g(e,["mediaResolution"]);d!=null&&y(t,["mediaResolution"],d);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const x=g(e,["responseMimeType"]);x!=null&&y(t,["responseMimeType"],x);const S=g(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const T=g(e,["responseSchema"]);T!=null&&y(t,["responseSchema"],T);const E=g(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const A=g(e,["seed"]);A!=null&&y(t,["seed"],A);const k=g(e,["speechConfig"]);k!=null&&y(t,["speechConfig"],k);const R=g(e,["stopSequences"]);R!=null&&y(t,["stopSequences"],R);const I=g(e,["temperature"]);I!=null&&y(t,["temperature"],I);const B=g(e,["thinkingConfig"]);B!=null&&y(t,["thinkingConfig"],B);const L=g(e,["topK"]);L!=null&&y(t,["topK"],L);const N=g(e,["topP"]);if(N!=null&&y(t,["topP"],N),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function HB(e,t){const n={},i=g(t,["model"]);return i!=null&&y(n,["_url","name"],te(e,i)),n}function GB(e,t){const n={},i=g(t,["model"]);return i!=null&&y(n,["_url","name"],te(e,i)),n}function VB(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function YB(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function WB(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const i=g(e,["imageSize"]);if(i!=null&&y(t,["imageSize"],i),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function XB(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const i=g(e,["imageSize"]);i!=null&&y(t,["imageSize"],i);const a=g(e,["outputMimeType"]);a!=null&&y(t,["imageOutputOptions","mimeType"],a);const s=g(e,["outputCompressionQuality"]);return s!=null&&y(t,["imageOutputOptions","compressionQuality"],s),t}function JB(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],aa(n));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function Lb(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(t,["imageBytes"],aa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function yf(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],aa(n));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function Ti(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const i=g(e,["imageBytes"]);i!=null&&y(t,["bytesBase64Encoded"],aa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function KB(e,t,n){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const s=g(t,["pageToken"]);n!==void 0&&s!=null&&y(n,["_query","pageToken"],s);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=g(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],bb(e,c)),i}function QB(e,t,n){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const s=g(t,["pageToken"]);n!==void 0&&s!=null&&y(n,["_query","pageToken"],s);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=g(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],bb(e,c)),i}function ZB(e,t){const n={},i=g(t,["config"]);return i!=null&&KB(e,i,n),n}function jB(e,t){const n={},i=g(t,["config"]);return i!=null&&QB(e,i,n),n}function t3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let s=Eb(a);Array.isArray(s)&&(s=s.map(l=>Og(l))),y(t,["models"],s)}return t}function e3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let s=Eb(a);Array.isArray(s)&&(s=s.map(l=>Pg(l))),y(t,["models"],s)}return t}function n3(e){const t={},n=g(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const i=g(e,["segmentationClasses"]);i!=null&&y(t,["maskClasses"],i);const a=g(e,["maskDilation"]);return a!=null&&y(t,["dilation"],a),t}function Og(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["displayName"]);i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);a!=null&&y(t,["description"],a);const s=g(e,["version"]);s!=null&&y(t,["version"],s);const l=g(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],v3(l));const c=g(e,["inputTokenLimit"]);c!=null&&y(t,["inputTokenLimit"],c);const f=g(e,["outputTokenLimit"]);f!=null&&y(t,["outputTokenLimit"],f);const h=g(e,["supportedGenerationMethods"]);h!=null&&y(t,["supportedActions"],h);const d=g(e,["temperature"]);d!=null&&y(t,["temperature"],d);const m=g(e,["maxTemperature"]);m!=null&&y(t,["maxTemperature"],m);const v=g(e,["topP"]);v!=null&&y(t,["topP"],v);const x=g(e,["topK"]);x!=null&&y(t,["topK"],x);const S=g(e,["thinking"]);return S!=null&&y(t,["thinking"],S),t}function Pg(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["displayName"]);i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);a!=null&&y(t,["description"],a);const s=g(e,["versionId"]);s!=null&&y(t,["version"],s);const l=g(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>gB(v))),y(t,["endpoints"],m)}const c=g(e,["labels"]);c!=null&&y(t,["labels"],c);const f=g(e,["_self"]);f!=null&&y(t,["tunedModelInfo"],_3(f));const h=g(e,["defaultCheckpointId"]);h!=null&&y(t,["defaultCheckpointId"],h);const d=g(e,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>v)),y(t,["checkpoints"],m)}return t}function i3(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],mB(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],yB(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],qI(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function r3(e){const t={},n=g(e,["productImage"]);return n!=null&&y(t,["image"],Ti(n)),t}function a3(e,t){const n={},i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["baseSteps"]);t!==void 0&&a!=null&&y(t,["parameters","baseSteps"],a);const s=g(e,["outputGcsUri"]);t!==void 0&&s!=null&&y(t,["parameters","storageUri"],s);const l=g(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const c=g(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&y(t,["parameters","safetySetting"],c);const f=g(e,["personGeneration"]);t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f);const h=g(e,["addWatermark"]);t!==void 0&&h!=null&&y(t,["parameters","addWatermark"],h);const d=g(e,["outputMimeType"]);t!==void 0&&d!=null&&y(t,["parameters","outputOptions","mimeType"],d);const m=g(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","compressionQuality"],m);const v=g(e,["enhancePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","enhancePrompt"],v);const x=g(e,["labels"]);return t!==void 0&&x!=null&&y(t,["labels"],x),n}function o3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["source"]);a!=null&&l3(a,n);const s=g(t,["config"]);return s!=null&&a3(s,n),n}function s3(e){const t={},n=g(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>mf(a))),y(t,["generatedImages"],i)}return t}function l3(e,t){const n={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["personImage"]);t!==void 0&&a!=null&&y(t,["instances[0]","personImage","image"],Ti(a));const s=g(e,["productImages"]);if(t!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>r3(c))),y(t,["instances[0]","productImages"],l)}return n}function c3(e){const t={},n=g(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],Ti(n));const i=g(e,["referenceId"]);i!=null&&y(t,["referenceId"],i);const a=g(e,["referenceType"]);a!=null&&y(t,["referenceType"],a);const s=g(e,["maskImageConfig"]);s!=null&&y(t,["maskImageConfig"],n3(s));const l=g(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],JI(l));const c=g(e,["styleImageConfig"]);c!=null&&y(t,["styleImageConfig"],c);const f=g(e,["subjectImageConfig"]);return f!=null&&y(t,["subjectImageConfig"],f),t}function Db(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const i=g(e,["safetyAttributes","scores"]);i!=null&&y(t,["scores"],i);const a=g(e,["contentType"]);return a!=null&&y(t,["contentType"],a),t}function Nb(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const i=g(e,["safetyAttributes","scores"]);i!=null&&y(t,["scores"],i);const a=g(e,["contentType"]);return a!=null&&y(t,["contentType"],a),t}function u3(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(e,["threshold"]);return i!=null&&y(t,["threshold"],i),t}function h3(e){const t={},n=g(e,["image"]);return n!=null&&y(t,["image"],Ti(n)),t}function f3(e,t){const n={},i=g(e,["mode"]);t!==void 0&&i!=null&&y(t,["parameters","mode"],i);const a=g(e,["maxPredictions"]);t!==void 0&&a!=null&&y(t,["parameters","maxPredictions"],a);const s=g(e,["confidenceThreshold"]);t!==void 0&&s!=null&&y(t,["parameters","confidenceThreshold"],s);const l=g(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const c=g(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&y(t,["parameters","binaryColorThreshold"],c);const f=g(e,["labels"]);return t!==void 0&&f!=null&&y(t,["labels"],f),n}function d3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["source"]);a!=null&&g3(a,n);const s=g(t,["config"]);return s!=null&&f3(s,n),n}function p3(e){const t={},n=g(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>UB(a))),y(t,["generatedMasks"],i)}return t}function g3(e,t){const n={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Ti(a));const s=g(e,["scribbleImage"]);return t!==void 0&&s!=null&&y(t,["instances[0]","scribble"],h3(s)),n}function m3(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],vB(n));const i=g(e,["retrievalConfig"]);return i!=null&&y(t,["retrievalConfig"],i),t}function y3(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],VB(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],YB(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function Ib(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>_B(v))),y(t,["functionDeclarations"],m)}const i=g(e,["retrieval"]);i!=null&&y(t,["retrieval"],i);const a=g(e,["googleSearchRetrieval"]);a!=null&&y(t,["googleSearchRetrieval"],a);const s=g(e,["computerUse"]);if(s!=null&&y(t,["computerUse"],s),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const c=g(e,["enterpriseWebSearch"]);c!=null&&y(t,["enterpriseWebSearch"],c);const f=g(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const h=g(e,["googleSearch"]);h!=null&&y(t,["googleSearch"],h);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function v3(e){const t={},n=g(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const i=g(e,["createTime"]);i!=null&&y(t,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&y(t,["updateTime"],a),t}function _3(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const i=g(e,["createTime"]);i!=null&&y(t,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&y(t,["updateTime"],a),t}function x3(e,t){const n={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const s=g(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&y(t,["defaultCheckpointId"],s),n}function C3(e,t){const n={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const s=g(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&y(t,["defaultCheckpointId"],s),n}function S3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","name"],te(e,i));const a=g(t,["config"]);return a!=null&&x3(a,n),n}function T3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["config"]);return a!=null&&C3(a,n),n}function b3(e,t){const n={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&y(t,["parameters","safetySetting"],a);const s=g(e,["personGeneration"]);t!==void 0&&s!=null&&y(t,["parameters","personGeneration"],s);const l=g(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const c=g(e,["outputMimeType"]);t!==void 0&&c!=null&&y(t,["parameters","outputOptions","mimeType"],c);const f=g(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&y(t,["parameters","outputOptions","compressionQuality"],f);const h=g(e,["enhanceInputImage"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],h);const d=g(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const v=g(e,["numberOfImages"]);t!==void 0&&v!=null&&y(t,["parameters","sampleCount"],v);const x=g(e,["mode"]);return t!==void 0&&x!=null&&y(t,["parameters","mode"],x),n}function E3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],te(e,i));const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],Ti(a));const s=g(t,["upscaleFactor"]);s!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],s);const l=g(t,["config"]);return l!=null&&b3(l,n),n}function w3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>mf(s))),y(t,["generatedImages"],a)}return t}function A3(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const i=g(e,["encodedVideo"]);i!=null&&y(t,["videoBytes"],aa(i));const a=g(e,["encoding"]);return a!=null&&y(t,["mimeType"],a),t}function k3(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(t,["videoBytes"],aa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function M3(e){const t={},n=g(e,["image"]);n!=null&&y(t,["_self"],Ti(n));const i=g(e,["maskMode"]);return i!=null&&y(t,["maskMode"],i),t}function R3(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],yf(n));const i=g(e,["referenceType"]);return i!=null&&y(t,["referenceType"],i),t}function L3(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],Ti(n));const i=g(e,["referenceType"]);return i!=null&&y(t,["referenceType"],i),t}function Bb(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const i=g(e,["videoBytes"]);i!=null&&y(t,["encodedVideo"],aa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["encoding"],a),t}function Fb(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const i=g(e,["videoBytes"]);i!=null&&y(t,["bytesBase64Encoded"],aa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D3(e,t){const n={},i=g(e,["displayName"]);return t!==void 0&&i!=null&&y(t,["displayName"],i),n}function N3(e){const t={},n=g(e,["config"]);return n!=null&&D3(n,t),t}function I3(e,t){const n={},i=g(e,["force"]);return t!==void 0&&i!=null&&y(t,["_query","force"],i),n}function B3(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const i=g(e,["config"]);return i!=null&&I3(i,t),t}function F3(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function O3(e,t){const n={},i=g(e,["customMetadata"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["customMetadata"],s)}const a=g(e,["chunkingConfig"]);return t!==void 0&&a!=null&&y(t,["chunkingConfig"],a),n}function P3(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],$3(l)),t}function U3(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const i=g(e,["fileName"]);i!=null&&y(t,["fileName"],i);const a=g(e,["config"]);return a!=null&&O3(a,t),t}function $3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["parent"]);i!=null&&y(t,["parent"],i);const a=g(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function z3(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function q3(e){const t={},n=g(e,["config"]);return n!=null&&z3(n,t),t}function H3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["fileSearchStores"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["fileSearchStores"],s)}return t}function Ob(e,t){const n={},i=g(e,["mimeType"]);t!==void 0&&i!=null&&y(t,["mimeType"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const s=g(e,["customMetadata"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),y(t,["customMetadata"],c)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function G3(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const i=g(e,["config"]);return i!=null&&Ob(i,t),t}function V3(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y3="Content-Type",W3="X-Server-Timeout",X3="User-Agent",Ug="x-goog-api-client",J3="1.34.0",K3=`google-genai-sdk/${J3}`,Q3="v1beta1",Z3="v1beta";class j3{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Q3,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Z3,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const a=[this.getRequestUrlInternal(n)];return i&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[l,c]of Object.entries(t.queryParams))a.searchParams.append(l,String(c));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,a.toString(),t.abortSignal),this.unaryApiCall(a,s,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[a,s]of Object.entries(n))typeof s=="object"?i[a]=Object.assign(Object.assign({},i[a]),s):s!==void 0&&(i[a]=s);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,i);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,a.toString(),t.abortSignal),this.streamApiCall(a,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,a){if(n&&n.timeout||a){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>s.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}a&&a.addEventListener("abort",()=>{s.abort()}),t.signal=l}return n&&n.extraBody!==null&&t5(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async a=>(await _S(a),new Ig(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async a=>(await _S(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return _i(this,arguments,function*(){var i;const a=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),s=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let l="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:d}=yield Ot(a.read());if(h){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=s.decode(d,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const T=JSON.parse(JSON.stringify(S.error)),E=T.status,A=T.code,k=`got status: ${E}. ${JSON.stringify(S)}`;if(A>=400&&A<600)throw new pf({message:k,status:A})}}catch(S){if(S.name==="ApiError")throw S}l+=m;let v=-1,x=0;for(;;){v=-1,x=0;for(const E of f){const A=l.indexOf(E);A!==-1&&(v===-1||A<v)&&(v=A,x=E.length)}if(v===-1)break;const S=l.substring(0,v);l=l.substring(v+x);const T=S.trim();if(T.startsWith(c)){const E=T.substring(c.length).trim();try{const A=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ot(new Ig(A))}catch(A){throw new Error(`exception parsing stream chunk ${E}. ${A}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=K3+" "+this.clientOptions.userAgentExtra;return t[X3]=n,t[Ug]=n,t[Y3]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[a,s]of Object.entries(t.headers))i.append(a,s);t.timeout&&t.timeout>0&&i.append(W3,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const s=this.clientOptions.uploader,l=await s.stat(t);a.sizeBytes=String(l.size);const c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=c;const f={file:a},h=this.getFileName(t),d=mt("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(d,a.sizeBytes,a.mimeType,h,f,n==null?void 0:n.httpOptions);return s.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,i){var a;const s=this.clientOptions.uploader,l=await s.stat(n),c=String(l.size),f=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),m={};i!=null&&Ob(i,m);const v=await this.fetchUploadUrl(h,c,f,d,m,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,a,s,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:f});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(c=h==null?void 0:h.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function _S(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(i);throw n>=400&&n<600?new pf({message:a,status:n}):new Error(a)}}function t5(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,l){const c=Object.assign({},s);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const h=l[f],d=c[f];h&&typeof h=="object"&&!Array.isArray(h)&&d&&typeof d=="object"&&!Array.isArray(d)?c[f]=i(d,h):(d&&h&&typeof d!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof h}. Overwriting.`),c[f]=h)}return c}const a=i(n,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e5="mcp_used/unknown";let n5=!1;function Pb(e){for(const t of e)if(i5(t)||typeof t=="object"&&"inputSchema"in t)return!0;return n5}function Ub(e){var t;const n=(t=e[Ug])!==null&&t!==void 0?t:"";e[Ug]=(n+` ${e5}`).trimStart()}function i5(e){return e!==null&&typeof e=="object"&&e instanceof ty}function r5(e){return _i(this,arguments,function*(n,i=100){let a,s=0;for(;s<i;){const l=yield Ot(n.listTools({cursor:a}));for(const c of l.tools)yield yield Ot(c),s++;if(!l.nextCursor)break;a=l.nextCursor}})}class ty{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new ty(t,n)}async initialize(){var t,n,i,a;if(this.mcpTools.length>0)return;const s={},l=[];for(const d of this.mcpClients)try{for(var c=!0,f=(n=void 0,xi(r5(d))),h;h=await f.next(),t=h.done,!t;c=!0){a=h.value,c=!1;const m=a;l.push(m);const v=m.name;if(s[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);s[v]=d}}catch(m){n={error:m}}finally{try{!c&&!t&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),FD(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await a.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function a5(e,t,n){const i=new kD;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(i,a),t(i)}class o5{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=c5(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let h=()=>{};const d=new Promise(R=>{h=R}),m=t.callbacks,v=function(){h({})},x=this.apiClient,S={onopen:v,onmessage:R=>{a5(x,m.onmessage,R)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(R){}},T=this.webSocketFactory.create(f,l5(l),S);T.connect(),await d;const k={setup:{model:te(this.apiClient,t.model)}};return T.send(JSON.stringify(k)),new s5(T,this.apiClient)}}class s5{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=NI(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=DI(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Go.PLAY)}pause(){this.sendPlaybackControl(Go.PAUSE)}stop(){this.sendPlaybackControl(Go.STOP)}resetContext(){this.sendPlaybackControl(Go.RESET_CONTEXT)}close(){this.conn.close()}}function l5(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function c5(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function h5(e,t,n){const i=new AD;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const s=JSON.parse(a);if(e.isVertexAI()){const l=FI(s);Object.assign(i,l)}else Object.assign(i,s);t(i)}class f5{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new o5(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,a,s,l,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let d;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&Pb(t.config.tools)&&Ub(m);const v=m5(m);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,d);else{const K=this.apiClient.getApiKey();let tt="BidiGenerateContent",V="key";K!=null&&K.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),tt="BidiGenerateContentConstrained",V="access_token"),d=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${tt}?${V}=${K}`}let x=()=>{};const S=new Promise(K=>{x=K}),T=t.callbacks,E=function(){var K;(K=T==null?void 0:T.onopen)===null||K===void 0||K.call(T),x({})},A=this.apiClient,k={onopen:E,onmessage:K=>{h5(A,T.onmessage,K)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(K){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(K){}},R=this.webSocketFactory.create(d,g5(v),k);R.connect(),await S;let I=te(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const K=this.apiClient.getProject(),tt=this.apiClient.getLocation();I=`projects/${K}/locations/${tt}/`+I}let B={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Eh.AUDIO]}:t.config.responseModalities=[Eh.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],N=[];for(const K of L)if(this.isCallableTool(K)){const tt=K;N.push(await tt.tool())}else N.push(K);N.length>0&&(t.config.tools=N);const Z={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?B=LI(this.apiClient,Z):B=RI(this.apiClient,Z),delete B.config,R.send(JSON.stringify(B)),new p5(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const d5={turnComplete:!0};class p5{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=ri(n.turns),t.isVertexAI()||(i=i.map(a=>gf(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(u5)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},d5),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:BI(t)}:n={realtimeInput:II(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function g5(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function m5(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xS=10;function CS(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Xo(l)){a=!0;break}if(!a)return!0;const s=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Xo(e){return"callTool"in e&&typeof e.callTool=="function"}function y5(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>Xo(a)))!==null&&i!==void 0?i:!1}function SS(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,a)=>{if(Xo(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(a)}),n}function TS(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v5 extends xr{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,a,s,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!y5(n)||CS(n.config))return await this.generateContentInternal(f);const h=SS(n);if(h.length>0){const T=h.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let d,m;const v=ri(f.contents),x=(s=(a=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:xS;let S=0;for(;S<x&&(d=await this.generateContentInternal(f),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,E=[];for(const A of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Xo(A)){const R=await A.callTool(d.functionCalls);E.push(...R)}S++,m={role:"user",parts:E},f.contents=ri(f.contents),f.contents.push(T),f.contents.push(m),TS(f.config)&&(v.push(T),v.push(m))}return TS(f.config)&&(d.automaticFunctionCallingHistory=v),d},this.generateContentStream=async n=>{var i,a,s,l,c;if(this.maybeMoveToResponseJsonSchem(n),CS(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=SS(n);if(f.length>0){const m=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(s=(a=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(h&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var a;let s;const l=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((a=f==null?void 0:f.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:l.push(f);let c;return s?c={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ja(yr.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var i,a,s,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,a;const s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;const l=await Promise.all(s.map(async f=>Xo(f)?await f.tool():f)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(c.config.tools=l,t.config&&t.config.tools&&Pb(t.config.tools)){const f=(a=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Ub(h),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return c}async initAfcToolsMap(t){var n,i,a;const s=new Map;for(const l of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Xo(l)){const c=l,f=await c.tool();for(const h of(a=f.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,c)}}return s}async processAfcStream(t){var n,i,a;const s=(a=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:xS;let l=!1,c=0;const f=await this.initAfcToolsMap(t);return(function(h,d,m){return _i(this,arguments,function*(){for(var v,x,S,T,E,A;c<s;){l&&(c++,l=!1);const B=yield Ot(h.processParamsMaybeAddMcpUsage(m)),L=yield Ot(h.generateContentStreamInternal(B)),N=[],Z=[];try{for(var k=!0,R=(x=void 0,xi(L)),I;I=yield Ot(R.next()),v=I.done,!v;k=!0){T=I.value,k=!1;const K=T;if(yield yield Ot(K),K.candidates&&(!((E=K.candidates[0])===null||E===void 0)&&E.content)){Z.push(K.candidates[0].content);for(const tt of(A=K.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(c<s&&tt.functionCall){if(!tt.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(tt.functionCall.name)){const V=yield Ot(d.get(tt.functionCall.name).callTool([tt.functionCall]));N.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${tt.functionCall.name}`)}}}}catch(K){x={error:K}}finally{try{!k&&!v&&(S=R.return)&&(yield Ot(S.call(R)))}finally{if(x)throw x.error}}if(N.length>0){l=!0;const K=new wl;K.candidates=[{content:{role:"user",parts:N}}],yield yield Ot(K);const tt=[];tt.push(...Z),tt.push({role:"user",parts:N});const V=ri(m.contents).concat(tt);m.contents=V}else break}})})(this,f,t)}async generateContentInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=mS(this.apiClient,t);return c=mt("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=vS(d),v=new wl;return Object.assign(v,m),v})}else{const h=gS(this.apiClient,t);return c=mt("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=yS(d),v=new wl;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=mS(this.apiClient,t);return c=mt("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return _i(this,arguments,function*(){var v,x,S,T;try{for(var E=!0,A=xi(m),k;k=yield Ot(A.next()),v=k.done,!v;E=!0){T=k.value,E=!1;const R=T,I=vS(yield Ot(R.json()));I.sdkHttpResponse={headers:R.headers};const B=new wl;Object.assign(B,I),yield yield Ot(B)}}catch(R){x={error:R}}finally{try{!E&&!v&&(S=A.return)&&(yield Ot(S.call(A)))}finally{if(x)throw x.error}}})})}else{const h=gS(this.apiClient,t);return c=mt("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(m){return _i(this,arguments,function*(){var v,x,S,T;try{for(var E=!0,A=xi(m),k;k=yield Ot(A.next()),v=k.done,!v;E=!0){T=k.value,E=!1;const R=T,I=yS(yield Ot(R.json()));I.sdkHttpResponse={headers:R.headers};const B=new wl;Object.assign(B,I),yield yield Ot(B)}}catch(R){x={error:R}}finally{try{!E&&!v&&(S=A.return)&&(yield Ot(S.call(A)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=fB(this.apiClient,t);return c=mt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=pB(d),v=new ZC;return Object.assign(v,m),v})}else{const h=hB(this.apiClient,t);return c=mt("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=dB(d),v=new ZC;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=EB(this.apiClient,t);return c=mt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=AB(d),v=new jC;return Object.assign(v,m),v})}else{const h=bB(this.apiClient,t);return c=mt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=wB(d),v=new jC;return Object.assign(v,m),v})}}async editImageInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=sB(this.apiClient,t);return s=mt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=lB(f),d=new mD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=E3(this.apiClient,t);return s=mt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=w3(f),d=new yD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=o3(this.apiClient,t);return s=mt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=s3(f),d=new vD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=d3(this.apiClient,t);return s=mt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=p3(f),d=new _D;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=GB(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Pg(d))}else{const h=HB(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>Og(d))}}async listInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=jB(this.apiClient,t);return c=mt("{models_url}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=e3(d),v=new tS;return Object.assign(v,m),v})}else{const h=ZB(this.apiClient,t);return c=mt("{models_url}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=t3(d),v=new tS;return Object.assign(v,m),v})}}async update(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=T3(this.apiClient,t);return c=mt("{model}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Pg(d))}else{const h=S3(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>Og(d))}}async delete(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=iB(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=aB(d),v=new eS;return Object.assign(v,m),v})}else{const h=nB(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=rB(d),v=new eS;return Object.assign(v,m),v})}}async countTokens(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=jI(this.apiClient,t);return c=mt("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=eB(d),v=new nS;return Object.assign(v,m),v})}else{const h=ZI(this.apiClient,t);return c=mt("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=tB(d),v=new nS;return Object.assign(v,m),v})}}async computeTokens(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=VI(this.apiClient,t);return s=mt("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=YI(f),d=new xD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=NB(this.apiClient,t);return c=mt("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const m=LB(d),v=new wh;return Object.assign(v,m),v})}else{const h=DB(this.apiClient,t);return c=mt("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>{const m=RB(d),v=new wh;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _5 extends xr{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=uD(t);return c=mt("{operationName}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l}else{const h=cD(t);return c=mt("{operationName}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l}}async fetchPredictVideosOperationInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=nD(t);return s=mt("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x5(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function C5(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>R5(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function S5(e,t,n){const i={},a=g(t,["expireTime"]);n!==void 0&&a!=null&&y(n,["expireTime"],a);const s=g(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&y(n,["newSessionExpireTime"],s);const l=g(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const c=g(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&y(n,["bidiGenerateContentSetup"],M5(e,c));const f=g(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),i}function T5(e,t){const n={},i=g(t,["config"]);return i!=null&&y(n,["config"],S5(e,i,n)),n}function b5(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function E5(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function w5(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function A5(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function k5(e,t){const n={},i=g(e,["generationConfig"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig"],i);const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const s=g(e,["temperature"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","temperature"],s);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","mediaResolution"],h);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","seed"],d);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],jm(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],C5(rn(S)));const T=g(e,["tools"]);if(t!==void 0&&T!=null){let L=ms(T);Array.isArray(L)&&(L=L.map(N=>D5(gs(N)))),y(t,["setup","tools"],L)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],L5(E));const A=g(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","inputAudioTranscription"],A);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&y(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const B=g(e,["proactivity"]);if(t!==void 0&&B!=null&&y(t,["setup","proactivity"],B),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function M5(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["setup","model"],te(e,i));const a=g(t,["config"]);return a!=null&&y(n,["config"],k5(a,n)),n}function R5(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],b5(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],E5(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],x5(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function L5(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function D5(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],w5(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],A5(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N5(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const a=Object.keys(i).map(s=>`${n}.${s}`);t.push(...a)}else t.push(n)}return t.join(",")}function I5(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const s=N5(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];a.length>0&&(c=a.map(h=>l.includes(h)?`generationConfig.${h}`:h));const f=[];s&&f.push(s),c.length>0&&f.push(...c),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class B5 extends xr{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=T5(this.apiClient,t);s=mt("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=I5(c,t.config);return a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F5(e,t){const n={},i=g(e,["force"]);return t!==void 0&&i!=null&&y(t,["_query","force"],i),n}function O5(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const i=g(e,["config"]);return i!=null&&F5(i,t),t}function P5(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function U5(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function $5(e){const t={},n=g(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const i=g(e,["config"]);return i!=null&&U5(i,t),t}function z5(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["documents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q5 extends xr{constructor(t){super(),this.apiClient=t,this.list=async n=>new Ja(yr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=P5(t);return s=mt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,i;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=O5(t);a=mt("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=$5(t);return s=mt("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=z5(f),d=new CD;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H5 extends xr{constructor(t,n=new q5(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Ja(yr.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=N3(t);return s=mt("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async get(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=F3(t);return s=mt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,i;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=B3(t);a=mt("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=q3(t);return s=mt("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=H3(f),d=new SD;return Object.assign(d,h),d})}}async uploadToFileSearchStoreInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=G3(t);return s=mt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=V3(f),d=new TD;return Object.assign(d,h),d})}}async importFile(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=U3(t);return s=mt("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=P3(f),d=new Xm;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $b=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return $b=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const G5=()=>$b();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $g(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const zg=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ai extends Error{}class yn extends ai{constructor(t,n,i,a){super(`${yn.makeMessage(t,n,i)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,i){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,i,a){if(!t||!a)return new vf({message:i,cause:zg(n)});const s=n;return t===400?new qb(t,s,i,a):t===401?new Hb(t,s,i,a):t===403?new Gb(t,s,i,a):t===404?new Vb(t,s,i,a):t===409?new Yb(t,s,i,a):t===422?new Wb(t,s,i,a):t===429?new Xb(t,s,i,a):t>=500?new Jb(t,s,i,a):new yn(t,s,i,a)}}class qg extends yn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class vf extends yn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class zb extends vf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class qb extends yn{}class Hb extends yn{}class Gb extends yn{}class Vb extends yn{}class Yb extends yn{}class Wb extends yn{}class Xb extends yn{}class Jb extends yn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V5=/^[a-z][a-z0-9+.-]*:/i,Y5=e=>V5.test(e);let Hg=e=>(Hg=Array.isArray,Hg(e));const W5=Hg;let X5=W5;const bS=X5;function J5(e){if(!e)return!0;for(const t in e)return!1;return!0}function K5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Q5=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ai(`${e} must be an integer`);if(t<0)throw new ai(`${e} must be a positive integer`);return t},Z5=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j5=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tF(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const eF=()=>{var e,t,n,i,a;const s=tF();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":wS(Deno.build.os),"X-Stainless-Arch":ES(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":wS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ES((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const l=nF();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nF(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const a=i[1]||0,s=i[2]||0,l=i[3]||0;return{browser:t,version:`${a}.${s}.${l}`}}}return null}const ES=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",wS=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Gu;const iF=()=>Gu??(Gu=eF());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rF(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Kb(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function aF(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Kb({start(){},async pull(n){const{done:i,value:a}=await t.next();i?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Qb(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function oF(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sF=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zb=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function cg(e,t,n){return Zb(),new File(e,t??"unknown_file",n)}function lF(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const cF=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jb=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",uF=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&jb(e),hF=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function fF(e,t,n){if(Zb(),e=await e,uF(e))return e instanceof File?e:cg([await e.arrayBuffer()],e.name);if(hF(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),cg(await Gg(a),t,n)}const i=await Gg(e);if(t||(t=lF(e)),!(n!=null&&n.type)){const a=i.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return cg(i,t,n)}async function Gg(e){var t,n,i,a,s;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(jb(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(cF(e))try{for(var c=!0,f=xi(e),h;h=await f.next(),t=h.done,!t;c=!0){a=h.value,c=!1;const d=a;l.push(...await Gg(d))}}catch(d){n={error:d}}finally{try{!c&&!t&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}else{const d=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${dF(e)}`)}return l}function dF(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1{constructor(t){this._client=t}}t1._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e1(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const AS=Object.freeze(Object.create(null)),pF=(e=e1)=>(function(n,...i){if(n.length===1)return n[0];let a=!1;const s=[],l=n.reduce((d,m,v)=>{var x,S,T;/[?#]/.test(m)&&(a=!0);const E=i[v];let A=(a?encodeURIComponent:e)(""+E);return v!==i.length&&(E==null||typeof E=="object"&&E.toString===((T=Object.getPrototypeOf((S=Object.getPrototypeOf((x=E.hasOwnProperty)!==null&&x!==void 0?x:AS))!==null&&S!==void 0?S:AS))===null||T===void 0?void 0:T.toString))&&(A=E+"",s.push({start:d.length+m.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),d+m+(v===i.length?"":A)},""),c=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=f.exec(c))!==null;)s.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(s.sort((d,m)=>d.start-m.start),s.length>0){let d=0;const m=s.reduce((v,x)=>{const S=" ".repeat(x.start-d),T="^".repeat(x.length);return d=x.start+x.length,v+S+T},"");throw new ai(`Path parameters result in path with invalid segments:
${s.map(v=>v.error).join(`
`)}
${l}
${m}`)}return l}),Vu=pF(e1);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n1 extends t1{create(t,n){var i;const{api_version:a=this._client.apiVersion}=t,s=kh(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new ai("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new ai("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Vu`/${a}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(Vu`/${a}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(Vu`/${a}/interactions/${t}/cancel`,i)}get(t,n={},i){var a;const s=n??{},{api_version:l=this._client.apiVersion}=s,c=kh(s,["api_version"]);return this._client.get(Vu`/${l}/interactions/${t}`,Object.assign(Object.assign({query:c},i),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}n1._key=Object.freeze(["interactions"]);class i1 extends n1{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gF(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let i=0;for(const a of e)n.set(a,i),i+=a.length;return n}let Yu;function ey(e){let t;return(Yu??(t=new globalThis.TextEncoder,Yu=t.encode.bind(t)))(e)}let Wu;function kS(e){let t;return(Wu??(t=new globalThis.TextDecoder,Wu=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _f{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ey(t):t;this.buffer=gF([this.buffer,n]);const i=[];let a;for(;(a=mF(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(kS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,l=kS(this.buffer.subarray(0,s));i.push(l),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}_f.NEWLINE_CHARS=new Set([`
`,"\r"]);_f.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function mF(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function yF(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mh={off:0,error:200,warn:300,info:400,debug:500},MS=(e,t,n)=>{if(e){if(K5(Mh,e))return e;dn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Mh))}`)}};function $l(){}function Xu(e,t,n){return!t||Mh[e]>Mh[n]?$l:t[e].bind(t)}const vF={error:$l,warn:$l,info:$l,debug:$l};let RS=new WeakMap;function dn(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return vF;const a=RS.get(n);if(a&&a[0]===i)return a[1];const s={error:Xu("error",n,i),warn:Xu("warn",n,i),info:Xu("info",n,i),debug:Xu("debug",n,i)};return RS.set(n,[i,s]),s}const Ra=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vo{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let a=!1;const s=i?dn(i):console;function l(){return _i(this,arguments,function*(){var f,h,d,m;if(a)throw new ai("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var x=!0,S=xi(_F(t,n)),T;T=yield Ot(S.next()),f=T.done,!f;x=!0){m=T.value,x=!1;const E=m;if(!v)if(E.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Ot(JSON.parse(E.data))}catch(A){throw s.error("Could not parse message into JSON:",E.data),s.error("From chunk:",E.raw),A}}}catch(E){h={error:E}}finally{try{!x&&!f&&(d=S.return)&&(yield Ot(d.call(S)))}finally{if(h)throw h.error}}v=!0}catch(E){if($g(E))return yield Ot(void 0);throw E}finally{v||n.abort()}})}return new Vo(l,n,i)}static fromReadableStream(t,n,i){let a=!1;function s(){return _i(this,arguments,function*(){var f,h,d,m;const v=new _f,x=Qb(t);try{for(var S=!0,T=xi(x),E;E=yield Ot(T.next()),f=E.done,!f;S=!0){m=E.value,S=!1;const A=m;for(const k of v.decode(A))yield yield Ot(k)}}catch(A){h={error:A}}finally{try{!S&&!f&&(d=T.return)&&(yield Ot(d.call(T)))}finally{if(h)throw h.error}}for(const A of v.flush())yield yield Ot(A)})}function l(){return _i(this,arguments,function*(){var f,h,d,m;if(a)throw new ai("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var x=!0,S=xi(s()),T;T=yield Ot(S.next()),f=T.done,!f;x=!0){m=T.value,x=!1;const E=m;v||E&&(yield yield Ot(JSON.parse(E)))}}catch(E){h={error:E}}finally{try{!x&&!f&&(d=S.return)&&(yield Ot(d.call(S)))}finally{if(h)throw h.error}}v=!0}catch(E){if($g(E))return yield Ot(void 0);throw E}finally{v||n.abort()}})}return new Vo(l,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),a=s=>({next:()=>{if(s.length===0){const l=i.next();t.push(l),n.push(l)}return s.shift()}});return[new Vo(()=>a(t),this.controller,this.client),new Vo(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Kb({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const l=ey(JSON.stringify(a)+`
`);i.enqueue(l)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function _F(e,t){return _i(this,arguments,function*(){var i,a,s,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ai("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ai("Attempted to iterate over a response with no body");const c=new CF,f=new _f,h=Qb(e.body);try{for(var d=!0,m=xi(xF(h)),v;v=yield Ot(m.next()),i=v.done,!i;d=!0){l=v.value,d=!1;const x=l;for(const S of f.decode(x)){const T=c.decode(S);T&&(yield yield Ot(T))}}}catch(x){a={error:x}}finally{try{!d&&!i&&(s=m.return)&&(yield Ot(s.call(m)))}finally{if(a)throw a.error}}for(const x of f.flush()){const S=c.decode(x);S&&(yield yield Ot(S))}})}function xF(e){return _i(this,arguments,function*(){var n,i,a,s;let l=new Uint8Array;try{for(var c=!0,f=xi(e),h;h=yield Ot(f.next()),n=h.done,!n;c=!0){s=h.value,c=!1;const d=s;if(d==null)continue;const m=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?ey(d):d;let v=new Uint8Array(l.length+m.length);v.set(l),v.set(m,l.length),l=v;let x;for(;(x=yF(l))!==-1;)yield yield Ot(l.slice(0,x)),l=l.slice(x)}}catch(d){i={error:d}}finally{try{!c&&!n&&(a=f.return)&&(yield Ot(a.call(f)))}finally{if(i)throw i.error}}l.length>0&&(yield yield Ot(l))})}class CF{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,a]=SF(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function SF(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TF(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:s}=t,l=await(async()=>{var c;if(t.options.stream)return dn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Vo.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const f=n.headers.get("content-type"),h=(c=f==null?void 0:f.split(";")[0])===null||c===void 0?void 0:c.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return dn(e).debug(`[${i}] response parsed`,Ra({retryOfRequestLogID:a,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ny extends Promise{constructor(t,n,i=TF){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new ny(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r1=Symbol("brand.privateNullableHeaders");function*bF(e){if(!e)return;if(r1 in e){const{values:i,nulls:a}=e;yield*i.entries();for(const s of a)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():bS(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const s=bS(i[1])?i[1]:[i[1]];let l=!1;for(const c of s)c!==void 0&&(t&&!l&&(l=!0,yield[a,null]),yield[a,c])}}const Al=e=>{const t=new Headers,n=new Set;for(const i of e){const a=new Set;for(const[s,l]of bF(i)){const c=s.toLowerCase();a.has(c)||(t.delete(s),a.add(c)),l===null?(t.delete(s),n.add(c)):(t.append(s,l),n.delete(c))}}return{[r1]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ug=e=>{var t,n,i,a,s,l;if(typeof globalThis.process<"u")return(i=(n=(t=KL)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||s===void 0?void 0:s.call(a,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var a1;class xf{constructor(t){var n,i,a,s,l,c,f,{baseURL:h=ug("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=ug("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,v=kh(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:m},v),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(i=x.timeout)!==null&&i!==void 0?i:xf.DEFAULT_TIMEOUT,this.logger=(a=x.logger)!==null&&a!==void 0?a:console;const S="warn";this.logLevel=S,this.logLevel=(l=(s=MS(x.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:MS(ug("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=x.fetchOptions,this.maxRetries=(c=x.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=x.fetch)!==null&&f!==void 0?f:rF(),this.encoder=sF,this._options=x,this.apiKey=d,this.apiVersion=m,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Al([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Al([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Al([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new ai(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${zo}`}defaultIdempotencyKey(){return`stainless-node-retry-${G5()}`}makeStatusError(t,n,i,a){return yn.generate(t,n,i,a)}buildURL(t,n,i){const a=!this.baseURLOverridden()&&i||this.baseURL,s=Y5(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return J5(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new ny(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var a,s,l;const c=await t,f=(a=c.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:h,url:d,timeout:m}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(h,{url:d,options:c});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=i===void 0?"":`, retryOf: ${i}`,S=Date.now();if(dn(this).debug(`[${v}] sending request`,Ra({retryOfRequestLogID:i,method:c.method,url:d,options:c,headers:h.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new qg;const T=new AbortController,E=await this.fetchWithTimeout(d,h,m,T).catch(zg),A=Date.now();if(E instanceof globalThis.Error){const R=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new qg;const I=$g(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return dn(this).info(`[${v}] connection ${I?"timed out":"failed"} - ${R}`),dn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (${R})`,Ra({retryOfRequestLogID:i,url:d,durationMs:A-S,message:E.message})),this.retryRequest(c,n,i??v);throw dn(this).info(`[${v}] connection ${I?"timed out":"failed"} - error; no more retries left`),dn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Ra({retryOfRequestLogID:i,url:d,durationMs:A-S,message:E.message})),I?new zb:new vf({cause:E})}const k=`[${v}${x}] ${h.method} ${d} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${A-S}ms`;if(!E.ok){const R=await this.shouldRetry(E);if(n&&R){const K=`retrying, ${n} attempts remaining`;return await oF(E.body),dn(this).info(`${k} - ${K}`),dn(this).debug(`[${v}] response error (${K})`,Ra({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:A-S})),this.retryRequest(c,n,i??v,E.headers)}const I=R?"error; no more retries left":"error; not retryable";dn(this).info(`${k} - ${I}`);const B=await E.text().catch(K=>zg(K).message),L=Z5(B),N=L?void 0:B;throw dn(this).debug(`[${v}] response error (${I})`,Ra({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,message:N,durationMs:Date.now()-S})),this.makeStatusError(E.status,L,N,E.headers)}return dn(this).info(k),dn(this).debug(`[${v}] response start`,Ra({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:A-S})),{response:E,options:c,controller:T,requestLogID:v,retryOfRequestLogID:i,startTime:S}}async fetchWithTimeout(t,n,i,a){const s=n||{},{signal:l,method:c}=s,f=kh(s,["signal","method"]);l&&l.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),i),d=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,m=Object.assign(Object.assign(Object.assign({signal:a.signal},d?{duplex:"half"}:{}),{method:"GET"}),f);c&&(m.method=c.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,a){var s;let l;const c=a==null?void 0:a.get("retry-after-ms");if(c){const h=parseFloat(c);Number.isNaN(h)||(l=h)}const f=a==null?void 0:a.get("retry-after");if(f&&!l){const h=parseFloat(f);Number.isNaN(h)?l=Date.parse(f)-Date.now():l=h*1e3}if(!(l&&0<=l&&l<60*1e3)){const h=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,h)}return await j5(l),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,a,s;const l=Object.assign({},t),{method:c,path:f,query:h,defaultBaseURL:d}=l,m=this.buildURL(f,h,d);"timeout"in l&&Q5("timeout",l.timeout),l.timeout=(i=l.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:v,body:x}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:c,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:a}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let c=Al([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),iF()),this._options.defaultHeaders,i,t.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=Al([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:aF(t)}:this.encoder({body:t,headers:i})}}xf.DEFAULT_TIMEOUT=6e4;class Ge extends xf{constructor(){super(...arguments),this.interactions=new i1(this)}}a1=Ge;Ge.GeminiNextGenAPIClient=a1;Ge.GeminiNextGenAPIClientError=ai;Ge.APIError=yn;Ge.APIConnectionError=vf;Ge.APIConnectionTimeoutError=zb;Ge.APIUserAbortError=qg;Ge.NotFoundError=Vb;Ge.ConflictError=Yb;Ge.RateLimitError=Xb;Ge.BadRequestError=qb;Ge.AuthenticationError=Hb;Ge.InternalServerError=Jb;Ge.PermissionDeniedError=Gb;Ge.UnprocessableEntityError=Wb;Ge.toFile=fF;Ge.Interactions=i1;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EF(e,t){const n={},i=g(e,["name"]);return i!=null&&y(n,["_url","name"],i),n}function wF(e,t){const n={},i=g(e,["name"]);return i!=null&&y(n,["_url","name"],i),n}function AF(e,t){const n={},i=g(e,["sdkHttpResponse"]);return i!=null&&y(n,["sdkHttpResponse"],i),n}function kF(e,t){const n={},i=g(e,["sdkHttpResponse"]);return i!=null&&y(n,["sdkHttpResponse"],i),n}function MF(e,t,n){const i={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=g(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&y(t,["displayName"],a),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=g(e,["epochCount"]);t!==void 0&&s!=null&&y(t,["tuningTask","hyperparameters","epochCount"],s);const l=g(e,["learningRateMultiplier"]);if(l!=null&&y(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=g(e,["batchSize"]);t!==void 0&&c!=null&&y(t,["tuningTask","hyperparameters","batchSize"],c);const f=g(e,["learningRate"]);if(t!==void 0&&f!=null&&y(t,["tuningTask","hyperparameters","learningRate"],f),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function RF(e,t,n){const i={};let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const x=g(e,["validationDataset"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec"],LS(x))}else if(a==="PREFERENCE_TUNING"){const x=g(e,["validationDataset"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec"],LS(x))}const s=g(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&y(t,["tunedModelDisplayName"],s);const l=g(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=g(e,["epochCount"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(c==="PREFERENCE_TUNING"){const x=g(e,["epochCount"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const x=g(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(f==="PREFERENCE_TUNING"){const x=g(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=g(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(h==="PREFERENCE_TUNING"){const x=g(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=g(e,["adapterSize"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=g(e,["adapterSize"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const v=g(e,["beta"]);return t!==void 0&&v!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),i}function LF(e,t){const n={},i=g(e,["baseModel"]);i!=null&&y(n,["baseModel"],i);const a=g(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const s=g(e,["trainingDataset"]);s!=null&&qF(s);const l=g(e,["config"]);return l!=null&&MF(l,n),n}function DF(e,t){const n={},i=g(e,["baseModel"]);i!=null&&y(n,["baseModel"],i);const a=g(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const s=g(e,["trainingDataset"]);s!=null&&HF(s,n,t);const l=g(e,["config"]);return l!=null&&RF(l,n,t),n}function NF(e,t){const n={},i=g(e,["name"]);return i!=null&&y(n,["_url","name"],i),n}function IF(e,t){const n={},i=g(e,["name"]);return i!=null&&y(n,["_url","name"],i),n}function BF(e,t,n){const i={},a=g(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const s=g(e,["pageToken"]);t!==void 0&&s!=null&&y(t,["_query","pageToken"],s);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),i}function FF(e,t,n){const i={},a=g(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const s=g(e,["pageToken"]);t!==void 0&&s!=null&&y(t,["_query","pageToken"],s);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),i}function OF(e,t){const n={},i=g(e,["config"]);return i!=null&&BF(i,n),n}function PF(e,t){const n={},i=g(e,["config"]);return i!=null&&FF(i,n),n}function UF(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const s=g(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>o1(c))),y(n,["tuningJobs"],l)}return n}function $F(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const s=g(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Vg(c))),y(n,["tuningJobs"],l)}return n}function zF(e,t){const n={},i=g(e,["name"]);i!=null&&y(n,["model"],i);const a=g(e,["name"]);return a!=null&&y(n,["endpoint"],a),n}function qF(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=g(e,["examples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(n,["examples","examples"],a)}return n}function HF(e,t,n){const i={};let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let s=g(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function o1(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const s=g(e,["state"]);s!=null&&y(n,["state"],Sb(s));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const c=g(e,["tuningTask","startTime"]);c!=null&&y(n,["startTime"],c);const f=g(e,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const h=g(e,["updateTime"]);h!=null&&y(n,["updateTime"],h);const d=g(e,["description"]);d!=null&&y(n,["description"],d);const m=g(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(e,["_self"]);return v!=null&&y(n,["tunedModel"],zF(v)),n}function Vg(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const s=g(e,["state"]);s!=null&&y(n,["state"],Sb(s));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const c=g(e,["startTime"]);c!=null&&y(n,["startTime"],c);const f=g(e,["endTime"]);f!=null&&y(n,["endTime"],f);const h=g(e,["updateTime"]);h!=null&&y(n,["updateTime"],h);const d=g(e,["error"]);d!=null&&y(n,["error"],d);const m=g(e,["description"]);m!=null&&y(n,["description"],m);const v=g(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const x=g(e,["tunedModel"]);x!=null&&y(n,["tunedModel"],x);const S=g(e,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const T=g(e,["supervisedTuningSpec"]);T!=null&&y(n,["supervisedTuningSpec"],T);const E=g(e,["preferenceOptimizationSpec"]);E!=null&&y(n,["preferenceOptimizationSpec"],E);const A=g(e,["tuningDataStats"]);A!=null&&y(n,["tuningDataStats"],A);const k=g(e,["encryptionSpec"]);k!=null&&y(n,["encryptionSpec"],k);const R=g(e,["partnerModelTuningSpec"]);R!=null&&y(n,["partnerModelTuningSpec"],R);const I=g(e,["customBaseModel"]);I!=null&&y(n,["customBaseModel"],I);const B=g(e,["experiment"]);B!=null&&y(n,["experiment"],B);const L=g(e,["labels"]);L!=null&&y(n,["labels"],L);const N=g(e,["outputUri"]);N!=null&&y(n,["outputUri"],N);const Z=g(e,["pipelineJob"]);Z!=null&&y(n,["pipelineJob"],Z);const K=g(e,["serviceAccount"]);K!=null&&y(n,["serviceAccount"],K);const tt=g(e,["tunedModelDisplayName"]);tt!=null&&y(n,["tunedModelDisplayName"],tt);const V=g(e,["veoTuningSpec"]);return V!=null&&y(n,["veoTuningSpec"],V),n}function GF(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const s=g(e,["metadata"]);s!=null&&y(n,["metadata"],s);const l=g(e,["done"]);l!=null&&y(n,["done"],l);const c=g(e,["error"]);return c!=null&&y(n,["error"],c),n}function LS(e,t){const n={},i=g(e,["gcsUri"]);i!=null&&y(n,["validationDatasetUri"],i);const a=g(e,["vertexDatasetResource"]);return a!=null&&y(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VF extends xr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ja(yr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:a});return s.baseModel=void 0,await this.tuneInternal(s)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),s=await this.tuneMldevInternal(a);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Ng.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=IF(t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>Vg(d))}else{const h=NF(t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>o1(d))}}async listInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=PF(t);return c=mt("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=$F(d),v=new iS;return Object.assign(v,m),v})}else{const h=OF(t);return c=mt("tunedModels",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=UF(d),v=new iS;return Object.assign(v,m),v})}}async cancel(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=wF(t);return c=mt("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=kF(d),v=new rS;return Object.assign(v,m),v})}else{const h=EF(t);return c=mt("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=AF(d),v=new rS;return Object.assign(v,m),v})}}async tuneInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=DF(t,t);return s=mt("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>Vg(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=LF(t);return s=mt("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>GF(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YF{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const WF=1024*1024*8,XF=3,JF=1e3,KF=2,Rh="x-goog-upload-status";async function QF(e,t,n){var i;const a=await s1(e,t,n),s=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Rh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function ZF(e,t,n){var i;const a=await s1(e,t,n),s=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Rh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=mb(s),c=new Jm;return Object.assign(c,l),c}async function s1(e,t,n){var i,a;let s=0,l=0,c=new Ig(new Response),f="upload";for(s=e.size;l<s;){const h=Math.min(WF,s-l),d=e.slice(l,l+h);l+h>=s&&(f+=", finalize");let m=0,v=JF;for(;m<XF&&(c=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[Rh]));)m++,await tO(v),v=v*KF;if(l+=h,((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[Rh])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function jF(e){return{size:e.size,type:e.type}}function tO(e){return new Promise(t=>setTimeout(t,e))}class eO{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await QF(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ZF(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await jF(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nO{create(t,n,i){return new iO(t,n,i)}}class iO{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DS="x-goog-api-key";class rO{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(DS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(DS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aO="gl-node/";class oO{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ge({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=tD(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new rO(this.apiKey);this.apiClient=new j3({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:aO+"web",uploader:new eO,downloader:new YF}),this.models=new v5(this.apiClient),this.live=new f5(this.apiClient,a,new nO),this.batches=new MN(this.apiClient),this.chats=new uI(this.models,this.apiClient),this.caches=new sI(this.apiClient),this.files=new xI(this.apiClient),this.operations=new _5(this.apiClient),this.authTokens=new B5(this.apiClient),this.tunings=new VF(this.apiClient),this.fileSearchStores=new H5(this.apiClient)}}const sO=async(e,t)=>{const n=new oO({apiKey:void 0}),i=`Convert the following task description into a valid Mermaid.js ${t} code.

  ### CONSTRAINTS:
  1. Return ONLY the raw code. Do NOT include markdown backticks like \`\`\`mermaid or \`\`\`.
  2. Do NOT include any introductory or explanatory text.
  3. LANGUAGE: All labels, names, and text within the diagram MUST be in the same language as the input (primarily Japanese). Do not translate them to English.
  4. For Flowcharts, always start with exactly "flowchart TD" (or LR if more appropriate). Ensure all nodes have unique IDs and labels are in brackets, e.g., A[].
  5. For Sequence Diagrams, always start with exactly "sequenceDiagram".
  6. For State Diagrams, always start with exactly "stateDiagram-v2".
  7. Ensure all strings in labels are properly handled (avoid special characters that break Mermaid syntax).
  8. If there are multiple steps, ensure clear directional arrows (-->).

  ### TASK DESCRIPTION:
  ${e}`;try{let s=(await n.models.generateContent({model:"gemini-3-pro-preview",contents:i,config:{temperature:.1}})).text||"";s=s.replace(/```mermaid/gi,""),s=s.replace(/```/g,"");const l=["flowchart","sequenceDiagram","stateDiagram-v2","graph"];let c=-1;for(const f of l){const h=s.toLowerCase().indexOf(f.toLowerCase());h!==-1&&(c===-1||h<c)&&(c=h)}return c!==-1&&(s=s.substring(c)),s.trim()}catch(a){throw console.error("Gemini API Error:",a),new Error("AIAPI")}},lO="modulepreload",cO=function(e){return"/"+e},NS={},oe=function(t,n,i){let a=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=l(n.map(h=>{if(h=cO(h),h in NS)return;NS[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":lO,d||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),d)return new Promise((x,S)=>{v.addEventListener("load",x),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};var IS={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},uh={exports:{}},uO=uh.exports,BS;function hO(){return BS||(BS=1,(function(e,t){(function(n,i){e.exports=i()})(uO,(function(){var n=1e3,i=6e4,a=36e5,s="millisecond",l="second",c="minute",f="hour",h="day",d="week",m="month",v="quarter",x="year",S="date",T="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Y){var G=["th","st","nd","rd"],D=Y%100;return"["+Y+(G[(D-20)%10]||G[D]||G[0])+"]"}},R=function(Y,G,D){var U=String(Y);return!U||U.length>=G?Y:""+Array(G+1-U.length).join(D)+Y},I={s:R,z:function(Y){var G=-Y.utcOffset(),D=Math.abs(G),U=Math.floor(D/60),z=D%60;return(G<=0?"+":"-")+R(U,2,"0")+":"+R(z,2,"0")},m:function Y(G,D){if(G.date()<D.date())return-Y(D,G);var U=12*(D.year()-G.year())+(D.month()-G.month()),z=G.clone().add(U,m),st=D-z<0,ht=G.clone().add(U+(st?-1:1),m);return+(-(U+(D-z)/(st?z-ht:ht-z))||0)},a:function(Y){return Y<0?Math.ceil(Y)||0:Math.floor(Y)},p:function(Y){return{M:m,y:x,w:d,d:h,D:S,h:f,m:c,s:l,ms:s,Q:v}[Y]||String(Y||"").toLowerCase().replace(/s$/,"")},u:function(Y){return Y===void 0}},B="en",L={};L[B]=k;var N="$isDayjsObject",Z=function(Y){return Y instanceof lt||!(!Y||!Y[N])},K=function Y(G,D,U){var z;if(!G)return B;if(typeof G=="string"){var st=G.toLowerCase();L[st]&&(z=st),D&&(L[st]=D,z=st);var ht=G.split("-");if(!z&&ht.length>1)return Y(ht[0])}else{var F=G.name;L[F]=G,z=F}return!U&&z&&(B=z),z||!U&&B},tt=function(Y,G){if(Z(Y))return Y.clone();var D=typeof G=="object"?G:{};return D.date=Y,D.args=arguments,new lt(D)},V=I;V.l=K,V.i=Z,V.w=function(Y,G){return tt(Y,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var lt=(function(){function Y(D){this.$L=K(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[N]=!0}var G=Y.prototype;return G.parse=function(D){this.$d=(function(U){var z=U.date,st=U.utc;if(z===null)return new Date(NaN);if(V.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var ht=z.match(E);if(ht){var F=ht[2]-1||0,Q=(ht[7]||"0").substring(0,3);return st?new Date(Date.UTC(ht[1],F,ht[3]||1,ht[4]||0,ht[5]||0,ht[6]||0,Q)):new Date(ht[1],F,ht[3]||1,ht[4]||0,ht[5]||0,ht[6]||0,Q)}}return new Date(z)})(D),this.init()},G.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},G.$utils=function(){return V},G.isValid=function(){return this.$d.toString()!==T},G.isSame=function(D,U){var z=tt(D);return this.startOf(U)<=z&&z<=this.endOf(U)},G.isAfter=function(D,U){return tt(D)<this.startOf(U)},G.isBefore=function(D,U){return this.endOf(U)<tt(D)},G.$g=function(D,U,z){return V.u(D)?this[U]:this.set(z,D)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(D,U){var z=this,st=!!V.u(U)||U,ht=V.p(D),F=function(Ft,Qt){var pe=V.w(z.$u?Date.UTC(z.$y,Qt,Ft):new Date(z.$y,Qt,Ft),z);return st?pe:pe.endOf(h)},Q=function(Ft,Qt){return V.w(z.toDate()[Ft].apply(z.toDate("s"),(st?[0,0,0,0]:[23,59,59,999]).slice(Qt)),z)},rt=this.$W,ut=this.$M,ft=this.$D,dt="set"+(this.$u?"UTC":"");switch(ht){case x:return st?F(1,0):F(31,11);case m:return st?F(1,ut):F(0,ut+1);case d:var _t=this.$locale().weekStart||0,Ut=(rt<_t?rt+7:rt)-_t;return F(st?ft-Ut:ft+(6-Ut),ut);case h:case S:return Q(dt+"Hours",0);case f:return Q(dt+"Minutes",1);case c:return Q(dt+"Seconds",2);case l:return Q(dt+"Milliseconds",3);default:return this.clone()}},G.endOf=function(D){return this.startOf(D,!1)},G.$set=function(D,U){var z,st=V.p(D),ht="set"+(this.$u?"UTC":""),F=(z={},z[h]=ht+"Date",z[S]=ht+"Date",z[m]=ht+"Month",z[x]=ht+"FullYear",z[f]=ht+"Hours",z[c]=ht+"Minutes",z[l]=ht+"Seconds",z[s]=ht+"Milliseconds",z)[st],Q=st===h?this.$D+(U-this.$W):U;if(st===m||st===x){var rt=this.clone().set(S,1);rt.$d[F](Q),rt.init(),this.$d=rt.set(S,Math.min(this.$D,rt.daysInMonth())).$d}else F&&this.$d[F](Q);return this.init(),this},G.set=function(D,U){return this.clone().$set(D,U)},G.get=function(D){return this[V.p(D)]()},G.add=function(D,U){var z,st=this;D=Number(D);var ht=V.p(U),F=function(ut){var ft=tt(st);return V.w(ft.date(ft.date()+Math.round(ut*D)),st)};if(ht===m)return this.set(m,this.$M+D);if(ht===x)return this.set(x,this.$y+D);if(ht===h)return F(1);if(ht===d)return F(7);var Q=(z={},z[c]=i,z[f]=a,z[l]=n,z)[ht]||1,rt=this.$d.getTime()+D*Q;return V.w(rt,this)},G.subtract=function(D,U){return this.add(-1*D,U)},G.format=function(D){var U=this,z=this.$locale();if(!this.isValid())return z.invalidDate||T;var st=D||"YYYY-MM-DDTHH:mm:ssZ",ht=V.z(this),F=this.$H,Q=this.$m,rt=this.$M,ut=z.weekdays,ft=z.months,dt=z.meridiem,_t=function(Qt,pe,cn,un){return Qt&&(Qt[pe]||Qt(U,st))||cn[pe].slice(0,un)},Ut=function(Qt){return V.s(F%12||12,Qt,"0")},Ft=dt||function(Qt,pe,cn){var un=Qt<12?"AM":"PM";return cn?un.toLowerCase():un};return st.replace(A,(function(Qt,pe){return pe||(function(cn){switch(cn){case"YY":return String(U.$y).slice(-2);case"YYYY":return V.s(U.$y,4,"0");case"M":return rt+1;case"MM":return V.s(rt+1,2,"0");case"MMM":return _t(z.monthsShort,rt,ft,3);case"MMMM":return _t(ft,rt);case"D":return U.$D;case"DD":return V.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return _t(z.weekdaysMin,U.$W,ut,2);case"ddd":return _t(z.weekdaysShort,U.$W,ut,3);case"dddd":return ut[U.$W];case"H":return String(F);case"HH":return V.s(F,2,"0");case"h":return Ut(1);case"hh":return Ut(2);case"a":return Ft(F,Q,!0);case"A":return Ft(F,Q,!1);case"m":return String(Q);case"mm":return V.s(Q,2,"0");case"s":return String(U.$s);case"ss":return V.s(U.$s,2,"0");case"SSS":return V.s(U.$ms,3,"0");case"Z":return ht}return null})(Qt)||ht.replace(":","")}))},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(D,U,z){var st,ht=this,F=V.p(U),Q=tt(D),rt=(Q.utcOffset()-this.utcOffset())*i,ut=this-Q,ft=function(){return V.m(ht,Q)};switch(F){case x:st=ft()/12;break;case m:st=ft();break;case v:st=ft()/3;break;case d:st=(ut-rt)/6048e5;break;case h:st=(ut-rt)/864e5;break;case f:st=ut/a;break;case c:st=ut/i;break;case l:st=ut/n;break;default:st=ut}return z?st:V.a(st)},G.daysInMonth=function(){return this.endOf(m).$D},G.$locale=function(){return L[this.$L]},G.locale=function(D,U){if(!D)return this.$L;var z=this.clone(),st=K(D,U,!0);return st&&(z.$L=st),z},G.clone=function(){return V.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},Y})(),et=lt.prototype;return tt.prototype=et,[["$ms",s],["$s",l],["$m",c],["$H",f],["$W",h],["$M",m],["$y",x],["$D",S]].forEach((function(Y){et[Y[1]]=function(G){return this.$g(G,Y[0],Y[1])}})),tt.extend=function(Y,G){return Y.$i||(Y(G,lt,tt),Y.$i=!0),tt},tt.locale=K,tt.isDayjs=Z,tt.unix=function(Y){return tt(1e3*Y)},tt.en=L[B],tt.Ls=L,tt.p={},tt}))})(uh)),uh.exports}var fO=hO();const dO=Vm(fO);var l1=Object.defineProperty,b=(e,t)=>l1(e,"name",{value:t,configurable:!0}),pO=(e,t)=>{for(var n in t)l1(e,n,{get:t[n],enumerable:!0})},hr={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ot={trace:b((...e)=>{},"trace"),debug:b((...e)=>{},"debug"),info:b((...e)=>{},"info"),warn:b((...e)=>{},"warn"),error:b((...e)=>{},"error"),fatal:b((...e)=>{},"fatal")},iy=b(function(e="fatal"){let t=hr.fatal;typeof e=="string"?e.toLowerCase()in hr&&(t=hr[e]):typeof e=="number"&&(t=e),ot.trace=()=>{},ot.debug=()=>{},ot.info=()=>{},ot.warn=()=>{},ot.error=()=>{},ot.fatal=()=>{},t<=hr.fatal&&(ot.fatal=console.error?console.error.bind(console,ii("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",ii("FATAL"))),t<=hr.error&&(ot.error=console.error?console.error.bind(console,ii("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",ii("ERROR"))),t<=hr.warn&&(ot.warn=console.warn?console.warn.bind(console,ii("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",ii("WARN"))),t<=hr.info&&(ot.info=console.info?console.info.bind(console,ii("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",ii("INFO"))),t<=hr.debug&&(ot.debug=console.debug?console.debug.bind(console,ii("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ii("DEBUG"))),t<=hr.trace&&(ot.trace=console.debug?console.debug.bind(console,ii("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ii("TRACE")))},"setLogLevel"),ii=b(e=>`%c${dO().format("ss.SSS")} : ${e} : `,"format");const hh={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},i)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;switch(i){case"r":return hh.hue2rgb(s,a,e+1/3)*255;case"g":return hh.hue2rgb(s,a,e)*255;case"b":return hh.hue2rgb(s,a,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},i)=>{e/=255,t/=255,n/=255;const a=Math.max(e,t,n),s=Math.min(e,t,n),l=(a+s)/2;if(i==="l")return l*100;if(a===s)return 0;const c=a-s,f=l>.5?c/(2-a-s):c/(a+s);if(i==="s")return f*100;switch(a){case e:return((t-n)/c+(t<n?6:0))*60;case t:return((n-e)/c+2)*60;case n:return((e-t)/c+4)*60;default:return-1}}},gO={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},mO={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Bt={channel:hh,lang:gO,unit:mO},Kr={};for(let e=0;e<=255;e++)Kr[e]=Bt.unit.dec2hex(e);const en={ALL:0,RGB:1,HSL:2};class yO{constructor(){this.type=en.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=en.ALL}is(t){return this.type===t}}class vO{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new yO}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=en.ALL,this}_ensureHSL(){const t=this.data,{h:n,s:i,l:a}=t;n===void 0&&(t.h=Bt.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=Bt.channel.rgb2hsl(t,"s")),a===void 0&&(t.l=Bt.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:i,b:a}=t;n===void 0&&(t.r=Bt.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=Bt.channel.hsl2rgb(t,"g")),a===void 0&&(t.b=Bt.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is(en.HSL)&&n!==void 0?n:(this._ensureHSL(),Bt.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is(en.HSL)&&n!==void 0?n:(this._ensureHSL(),Bt.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is(en.HSL)&&n!==void 0?n:(this._ensureHSL(),Bt.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is(en.RGB)&&n!==void 0?n:(this._ensureRGB(),Bt.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is(en.RGB)&&n!==void 0?n:(this._ensureRGB(),Bt.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is(en.RGB)&&n!==void 0?n:(this._ensureRGB(),Bt.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(en.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(en.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(en.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(en.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(en.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(en.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Cf=new vO({r:0,g:0,b:0,a:0},"transparent"),Jo={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Jo.re);if(!t)return;const n=t[1],i=parseInt(n,16),a=n.length,s=a%4===0,l=a>4,c=l?1:17,f=l?8:4,h=s?0:-1,d=l?255:15;return Cf.set({r:(i>>f*(h+3)&d)*c,g:(i>>f*(h+2)&d)*c,b:(i>>f*(h+1)&d)*c,a:s?(i&d)*c/255:1},e)},stringify:e=>{const{r:t,g:n,b:i,a}=e;return a<1?`#${Kr[Math.round(t)]}${Kr[Math.round(n)]}${Kr[Math.round(i)]}${Kr[Math.round(a*255)]}`:`#${Kr[Math.round(t)]}${Kr[Math.round(n)]}${Kr[Math.round(i)]}`}},Ia={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Ia.hueRe);if(t){const[,n,i]=t;switch(i){case"grad":return Bt.channel.clamp.h(parseFloat(n)*.9);case"rad":return Bt.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Bt.channel.clamp.h(parseFloat(n)*360)}}return Bt.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(Ia.re);if(!n)return;const[,i,a,s,l,c]=n;return Cf.set({h:Ia._hue2deg(i),s:Bt.channel.clamp.s(parseFloat(a)),l:Bt.channel.clamp.l(parseFloat(s)),a:l?Bt.channel.clamp.a(c?parseFloat(l)/100:parseFloat(l)):1},e)},stringify:e=>{const{h:t,s:n,l:i,a}=e;return a<1?`hsla(${Bt.lang.round(t)}, ${Bt.lang.round(n)}%, ${Bt.lang.round(i)}%, ${a})`:`hsl(${Bt.lang.round(t)}, ${Bt.lang.round(n)}%, ${Bt.lang.round(i)}%)`}},Kl={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Kl.colors[e];if(t)return Jo.parse(t)},stringify:e=>{const t=Jo.stringify(e);for(const n in Kl.colors)if(Kl.colors[n]===t)return n}},zl={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(zl.re);if(!n)return;const[,i,a,s,l,c,f,h,d]=n;return Cf.set({r:Bt.channel.clamp.r(a?parseFloat(i)*2.55:parseFloat(i)),g:Bt.channel.clamp.g(l?parseFloat(s)*2.55:parseFloat(s)),b:Bt.channel.clamp.b(f?parseFloat(c)*2.55:parseFloat(c)),a:h?Bt.channel.clamp.a(d?parseFloat(h)/100:parseFloat(h)):1},e)},stringify:e=>{const{r:t,g:n,b:i,a}=e;return a<1?`rgba(${Bt.lang.round(t)}, ${Bt.lang.round(n)}, ${Bt.lang.round(i)}, ${Bt.lang.round(a)})`:`rgb(${Bt.lang.round(t)}, ${Bt.lang.round(n)}, ${Bt.lang.round(i)})`}},Oi={format:{keyword:Kl,hex:Jo,rgb:zl,rgba:zl,hsl:Ia,hsla:Ia},parse:e=>{if(typeof e!="string")return e;const t=Jo.parse(e)||zl.parse(e)||Ia.parse(e)||Kl.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(en.HSL)||e.data.r===void 0?Ia.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?zl.stringify(e):Jo.stringify(e)},c1=(e,t)=>{const n=Oi.parse(e);for(const i in t)n[i]=Bt.channel.clamp[i](t[i]);return Oi.stringify(n)},Ql=(e,t,n=0,i=1)=>{if(typeof e!="number")return c1(e,{a:t});const a=Cf.set({r:Bt.channel.clamp.r(e),g:Bt.channel.clamp.g(t),b:Bt.channel.clamp.b(n),a:Bt.channel.clamp.a(i)});return Oi.stringify(a)},_O=e=>{const{r:t,g:n,b:i}=Oi.parse(e),a=.2126*Bt.channel.toLinear(t)+.7152*Bt.channel.toLinear(n)+.0722*Bt.channel.toLinear(i);return Bt.lang.round(a)},xO=e=>_O(e)>=.5,gc=e=>!xO(e),u1=(e,t,n)=>{const i=Oi.parse(e),a=i[t],s=Bt.channel.clamp[t](a+n);return a!==s&&(i[t]=s),Oi.stringify(i)},Ct=(e,t)=>u1(e,"l",t),Rt=(e,t)=>u1(e,"l",-t),H=(e,t)=>{const n=Oi.parse(e),i={};for(const a in t)t[a]&&(i[a]=n[a]+t[a]);return c1(e,i)},CO=(e,t,n=50)=>{const{r:i,g:a,b:s,a:l}=Oi.parse(e),{r:c,g:f,b:h,a:d}=Oi.parse(t),m=n/100,v=m*2-1,x=l-d,T=((v*x===-1?v:(v+x)/(1+v*x))+1)/2,E=1-T,A=i*T+c*E,k=a*T+f*E,R=s*T+h*E,I=l*m+d*(1-m);return Ql(A,k,R,I)},gt=(e,t=100)=>{const n=Oi.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,CO(n,e,t)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:h1,setPrototypeOf:FS,isFrozen:SO,getPrototypeOf:TO,getOwnPropertyDescriptor:bO}=Object;let{freeze:vn,seal:oi,create:Yg}=Object,{apply:Wg,construct:Xg}=typeof Reflect<"u"&&Reflect;vn||(vn=function(t){return t});oi||(oi=function(t){return t});Wg||(Wg=function(t,n){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];return t.apply(n,a)});Xg||(Xg=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return new t(...i)});const Ju=_n(Array.prototype.forEach),EO=_n(Array.prototype.lastIndexOf),OS=_n(Array.prototype.pop),kl=_n(Array.prototype.push),wO=_n(Array.prototype.splice),fh=_n(String.prototype.toLowerCase),hg=_n(String.prototype.toString),fg=_n(String.prototype.match),Ml=_n(String.prototype.replace),AO=_n(String.prototype.indexOf),kO=_n(String.prototype.trim),pi=_n(Object.prototype.hasOwnProperty),fn=_n(RegExp.prototype.test),Rl=MO(TypeError);function _n(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return Wg(e,t,i)}}function MO(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Xg(e,n)}}function Ht(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fh;FS&&FS(e,null);let i=t.length;for(;i--;){let a=t[i];if(typeof a=="string"){const s=n(a);s!==a&&(SO(t)||(t[i]=s),a=s)}e[a]=!0}return e}function RO(e){for(let t=0;t<e.length;t++)pi(e,t)||(e[t]=null);return e}function Di(e){const t=Yg(null);for(const[n,i]of h1(e))pi(e,n)&&(Array.isArray(i)?t[n]=RO(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=Di(i):t[n]=i);return t}function Ll(e,t){for(;e!==null;){const i=bO(e,t);if(i){if(i.get)return _n(i.get);if(typeof i.value=="function")return _n(i.value)}e=TO(e)}function n(){return null}return n}const PS=vn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),dg=vn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pg=vn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),LO=vn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gg=vn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),DO=vn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),US=vn(["#text"]),$S=vn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),mg=vn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zS=vn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ku=vn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),NO=oi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),IO=oi(/<%[\w\W]*|[\w\W]*%>/gm),BO=oi(/\$\{[\w\W]*/gm),FO=oi(/^data-[\-\w.\u00B7-\uFFFF]+$/),OO=oi(/^aria-[\-\w]+$/),f1=oi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),PO=oi(/^(?:\w+script|data):/i),UO=oi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),d1=oi(/^html$/i),$O=oi(/^[a-z][.\w]*(-[.\w]+)+$/i);var qS=Object.freeze({__proto__:null,ARIA_ATTR:OO,ATTR_WHITESPACE:UO,CUSTOM_ELEMENT:$O,DATA_ATTR:FO,DOCTYPE_NAME:d1,ERB_EXPR:IO,IS_ALLOWED_URI:f1,IS_SCRIPT_OR_DATA:PO,MUSTACHE_EXPR:NO,TMPLIT_EXPR:BO});const Dl={element:1,text:3,progressingInstruction:7,comment:8,document:9},zO=function(){return typeof window>"u"?null:window},qO=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(i=n.getAttribute(a));const s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},HS=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function p1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zO();const t=wt=>p1(wt);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Dl.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,a=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:l,Node:c,Element:f,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:v,trustedTypes:x}=e,S=f.prototype,T=Ll(S,"cloneNode"),E=Ll(S,"remove"),A=Ll(S,"nextSibling"),k=Ll(S,"childNodes"),R=Ll(S,"parentNode");if(typeof l=="function"){const wt=n.createElement("template");wt.content&&wt.content.ownerDocument&&(n=wt.content.ownerDocument)}let I,B="";const{implementation:L,createNodeIterator:N,createDocumentFragment:Z,getElementsByTagName:K}=n,{importNode:tt}=i;let V=HS();t.isSupported=typeof h1=="function"&&typeof R=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:lt,ERB_EXPR:et,TMPLIT_EXPR:Y,DATA_ATTR:G,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:U,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:st}=qS;let{IS_ALLOWED_URI:ht}=qS,F=null;const Q=Ht({},[...PS,...dg,...pg,...gg,...US]);let rt=null;const ut=Ht({},[...$S,...mg,...zS,...Ku]);let ft=Object.seal(Yg(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),dt=null,_t=null;const Ut=Object.seal(Yg(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ft=!0,Qt=!0,pe=!1,cn=!0,un=!1,je=!0,ci=!1,ua=!1,bs=!1,zi=!1,Tr=!1,br=!1,eo=!0,Ec=!1;const Xf="user-content-";let Ve=!0,ha=!1,qi={},Dn=null;const Er=Ht({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wc=null;const Es=Ht({},["audio","video","img","source","image","track"]);let ws=null;const Ac=Ht({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ei="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",qe="http://www.w3.org/1999/xhtml";let ke=qe,As=!1,ks=null;const Jf=Ht({},[Ei,ze,qe],hg);let Hi=Ht({},["mi","mo","mn","ms","mtext"]),Gi=Ht({},["annotation-xml"]);const no=Ht({},["title","style","font","a","script"]);let Nn=null;const io=["application/xhtml+xml","text/html"],fa="text/html";let be=null,Vi=null;const Ms=n.createElement("form"),wr=function(P){return P instanceof RegExp||P instanceof Function},Rs=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Vi&&Vi===P)){if((!P||typeof P!="object")&&(P={}),P=Di(P),Nn=io.indexOf(P.PARSER_MEDIA_TYPE)===-1?fa:P.PARSER_MEDIA_TYPE,be=Nn==="application/xhtml+xml"?hg:fh,F=pi(P,"ALLOWED_TAGS")?Ht({},P.ALLOWED_TAGS,be):Q,rt=pi(P,"ALLOWED_ATTR")?Ht({},P.ALLOWED_ATTR,be):ut,ks=pi(P,"ALLOWED_NAMESPACES")?Ht({},P.ALLOWED_NAMESPACES,hg):Jf,ws=pi(P,"ADD_URI_SAFE_ATTR")?Ht(Di(Ac),P.ADD_URI_SAFE_ATTR,be):Ac,wc=pi(P,"ADD_DATA_URI_TAGS")?Ht(Di(Es),P.ADD_DATA_URI_TAGS,be):Es,Dn=pi(P,"FORBID_CONTENTS")?Ht({},P.FORBID_CONTENTS,be):Er,dt=pi(P,"FORBID_TAGS")?Ht({},P.FORBID_TAGS,be):Di({}),_t=pi(P,"FORBID_ATTR")?Ht({},P.FORBID_ATTR,be):Di({}),qi=pi(P,"USE_PROFILES")?P.USE_PROFILES:!1,Ft=P.ALLOW_ARIA_ATTR!==!1,Qt=P.ALLOW_DATA_ATTR!==!1,pe=P.ALLOW_UNKNOWN_PROTOCOLS||!1,cn=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,un=P.SAFE_FOR_TEMPLATES||!1,je=P.SAFE_FOR_XML!==!1,ci=P.WHOLE_DOCUMENT||!1,zi=P.RETURN_DOM||!1,Tr=P.RETURN_DOM_FRAGMENT||!1,br=P.RETURN_TRUSTED_TYPE||!1,bs=P.FORCE_BODY||!1,eo=P.SANITIZE_DOM!==!1,Ec=P.SANITIZE_NAMED_PROPS||!1,Ve=P.KEEP_CONTENT!==!1,ha=P.IN_PLACE||!1,ht=P.ALLOWED_URI_REGEXP||f1,ke=P.NAMESPACE||qe,Hi=P.MATHML_TEXT_INTEGRATION_POINTS||Hi,Gi=P.HTML_INTEGRATION_POINTS||Gi,ft=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&wr(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ft.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&wr(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ft.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ft.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),un&&(Qt=!1),Tr&&(zi=!0),qi&&(F=Ht({},US),rt=[],qi.html===!0&&(Ht(F,PS),Ht(rt,$S)),qi.svg===!0&&(Ht(F,dg),Ht(rt,mg),Ht(rt,Ku)),qi.svgFilters===!0&&(Ht(F,pg),Ht(rt,mg),Ht(rt,Ku)),qi.mathMl===!0&&(Ht(F,gg),Ht(rt,zS),Ht(rt,Ku))),P.ADD_TAGS&&(typeof P.ADD_TAGS=="function"?Ut.tagCheck=P.ADD_TAGS:(F===Q&&(F=Di(F)),Ht(F,P.ADD_TAGS,be))),P.ADD_ATTR&&(typeof P.ADD_ATTR=="function"?Ut.attributeCheck=P.ADD_ATTR:(rt===ut&&(rt=Di(rt)),Ht(rt,P.ADD_ATTR,be))),P.ADD_URI_SAFE_ATTR&&Ht(ws,P.ADD_URI_SAFE_ATTR,be),P.FORBID_CONTENTS&&(Dn===Er&&(Dn=Di(Dn)),Ht(Dn,P.FORBID_CONTENTS,be)),P.ADD_FORBID_CONTENTS&&(Dn===Er&&(Dn=Di(Dn)),Ht(Dn,P.ADD_FORBID_CONTENTS,be)),Ve&&(F["#text"]=!0),ci&&Ht(F,["html","head","body"]),F.table&&(Ht(F,["tbody"]),delete dt.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=P.TRUSTED_TYPES_POLICY,B=I.createHTML("")}else I===void 0&&(I=qO(x,a)),I!==null&&typeof B=="string"&&(B=I.createHTML(""));vn&&vn(P),Vi=P}},Ls=Ht({},[...dg,...pg,...LO]),Ds=Ht({},[...gg,...DO]),kc=function(P){let ct=R(P);(!ct||!ct.tagName)&&(ct={namespaceURI:ke,tagName:"template"});const vt=fh(P.tagName),ie=fh(ct.tagName);return ks[P.namespaceURI]?P.namespaceURI===ze?ct.namespaceURI===qe?vt==="svg":ct.namespaceURI===Ei?vt==="svg"&&(ie==="annotation-xml"||Hi[ie]):!!Ls[vt]:P.namespaceURI===Ei?ct.namespaceURI===qe?vt==="math":ct.namespaceURI===ze?vt==="math"&&Gi[ie]:!!Ds[vt]:P.namespaceURI===qe?ct.namespaceURI===ze&&!Gi[ie]||ct.namespaceURI===Ei&&!Hi[ie]?!1:!Ds[vt]&&(no[vt]||!Ls[vt]):!!(Nn==="application/xhtml+xml"&&ks[P.namespaceURI]):!1},xn=function(P){kl(t.removed,{element:P});try{R(P).removeChild(P)}catch{E(P)}},ui=function(P,ct){try{kl(t.removed,{attribute:ct.getAttributeNode(P),from:ct})}catch{kl(t.removed,{attribute:null,from:ct})}if(ct.removeAttribute(P),P==="is")if(zi||Tr)try{xn(ct)}catch{}else try{ct.setAttribute(P,"")}catch{}},Ns=function(P){let ct=null,vt=null;if(bs)P="<remove></remove>"+P;else{const qt=fg(P,/^[\r\n\t ]+/);vt=qt&&qt[0]}Nn==="application/xhtml+xml"&&ke===qe&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");const ie=I?I.createHTML(P):P;if(ke===qe)try{ct=new v().parseFromString(ie,Nn)}catch{}if(!ct||!ct.documentElement){ct=L.createDocument(ke,"template",null);try{ct.documentElement.innerHTML=As?B:ie}catch{}}const Ce=ct.body||ct.documentElement;return P&&vt&&Ce.insertBefore(n.createTextNode(vt),Ce.childNodes[0]||null),ke===qe?K.call(ct,ci?"html":"body")[0]:ci?ct.documentElement:Ce},Is=function(P){return N.call(P.ownerDocument||P,P,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Vn=function(P){return P instanceof m&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof d)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},Me=function(P){return typeof c=="function"&&P instanceof c};function ve(wt,P,ct){Ju(wt,vt=>{vt.call(t,P,ct,Vi)})}const Yi=function(P){let ct=null;if(ve(V.beforeSanitizeElements,P,null),Vn(P))return xn(P),!0;const vt=be(P.nodeName);if(ve(V.uponSanitizeElement,P,{tagName:vt,allowedTags:F}),je&&P.hasChildNodes()&&!Me(P.firstElementChild)&&fn(/<[/\w!]/g,P.innerHTML)&&fn(/<[/\w!]/g,P.textContent)||P.nodeType===Dl.progressingInstruction||je&&P.nodeType===Dl.comment&&fn(/<[/\w]/g,P.data))return xn(P),!0;if(!(Ut.tagCheck instanceof Function&&Ut.tagCheck(vt))&&(!F[vt]||dt[vt])){if(!dt[vt]&&Mc(vt)&&(ft.tagNameCheck instanceof RegExp&&fn(ft.tagNameCheck,vt)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(vt)))return!1;if(Ve&&!Dn[vt]){const ie=R(P)||P.parentNode,Ce=k(P)||P.childNodes;if(Ce&&ie){const qt=Ce.length;for(let Ye=qt-1;Ye>=0;--Ye){const Yn=T(Ce[Ye],!0);Yn.__removalCount=(P.__removalCount||0)+1,ie.insertBefore(Yn,A(P))}}}return xn(P),!0}return P instanceof f&&!kc(P)||(vt==="noscript"||vt==="noembed"||vt==="noframes")&&fn(/<\/no(script|embed|frames)/i,P.innerHTML)?(xn(P),!0):(un&&P.nodeType===Dl.text&&(ct=P.textContent,Ju([lt,et,Y],ie=>{ct=Ml(ct,ie," ")}),P.textContent!==ct&&(kl(t.removed,{element:P.cloneNode()}),P.textContent=ct)),ve(V.afterSanitizeElements,P,null),!1)},ro=function(P,ct,vt){if(eo&&(ct==="id"||ct==="name")&&(vt in n||vt in Ms))return!1;if(!(Qt&&!_t[ct]&&fn(G,ct))){if(!(Ft&&fn(D,ct))){if(!(Ut.attributeCheck instanceof Function&&Ut.attributeCheck(ct,P))){if(!rt[ct]||_t[ct]){if(!(Mc(P)&&(ft.tagNameCheck instanceof RegExp&&fn(ft.tagNameCheck,P)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(P))&&(ft.attributeNameCheck instanceof RegExp&&fn(ft.attributeNameCheck,ct)||ft.attributeNameCheck instanceof Function&&ft.attributeNameCheck(ct,P))||ct==="is"&&ft.allowCustomizedBuiltInElements&&(ft.tagNameCheck instanceof RegExp&&fn(ft.tagNameCheck,vt)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(vt))))return!1}else if(!ws[ct]){if(!fn(ht,Ml(vt,z,""))){if(!((ct==="src"||ct==="xlink:href"||ct==="href")&&P!=="script"&&AO(vt,"data:")===0&&wc[P])){if(!(pe&&!fn(U,Ml(vt,z,"")))){if(vt)return!1}}}}}}}return!0},Mc=function(P){return P!=="annotation-xml"&&fg(P,st)},Rc=function(P){ve(V.beforeSanitizeAttributes,P,null);const{attributes:ct}=P;if(!ct||Vn(P))return;const vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rt,forceKeepAttr:void 0};let ie=ct.length;for(;ie--;){const Ce=ct[ie],{name:qt,namespaceURI:Ye,value:Yn}=Ce,Cn=be(qt),wi=Yn;let Be=qt==="value"?wi:kO(wi);if(vt.attrName=Cn,vt.attrValue=Be,vt.keepAttr=!0,vt.forceKeepAttr=void 0,ve(V.uponSanitizeAttribute,P,vt),Be=vt.attrValue,Ec&&(Cn==="id"||Cn==="name")&&(ui(qt,P),Be=Xf+Be),je&&fn(/((--!?|])>)|<\/(style|title|textarea)/i,Be)){ui(qt,P);continue}if(Cn==="attributename"&&fg(Be,"href")){ui(qt,P);continue}if(vt.forceKeepAttr)continue;if(!vt.keepAttr){ui(qt,P);continue}if(!cn&&fn(/\/>/i,Be)){ui(qt,P);continue}un&&Ju([lt,et,Y],Fs=>{Be=Ml(Be,Fs," ")});const Bs=be(P.nodeName);if(!ro(Bs,Cn,Be)){ui(qt,P);continue}if(I&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!Ye)switch(x.getAttributeType(Bs,Cn)){case"TrustedHTML":{Be=I.createHTML(Be);break}case"TrustedScriptURL":{Be=I.createScriptURL(Be);break}}if(Be!==wi)try{Ye?P.setAttributeNS(Ye,qt,Be):P.setAttribute(qt,Be),Vn(P)?xn(P):OS(t.removed)}catch{ui(qt,P)}}ve(V.afterSanitizeAttributes,P,null)},Lc=function wt(P){let ct=null;const vt=Is(P);for(ve(V.beforeSanitizeShadowDOM,P,null);ct=vt.nextNode();)ve(V.uponSanitizeShadowNode,ct,null),Yi(ct),Rc(ct),ct.content instanceof s&&wt(ct.content);ve(V.afterSanitizeShadowDOM,P,null)};return t.sanitize=function(wt){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ct=null,vt=null,ie=null,Ce=null;if(As=!wt,As&&(wt="<!-->"),typeof wt!="string"&&!Me(wt))if(typeof wt.toString=="function"){if(wt=wt.toString(),typeof wt!="string")throw Rl("dirty is not a string, aborting")}else throw Rl("toString is not a function");if(!t.isSupported)return wt;if(ua||Rs(P),t.removed=[],typeof wt=="string"&&(ha=!1),ha){if(wt.nodeName){const Yn=be(wt.nodeName);if(!F[Yn]||dt[Yn])throw Rl("root node is forbidden and cannot be sanitized in-place")}}else if(wt instanceof c)ct=Ns("<!---->"),vt=ct.ownerDocument.importNode(wt,!0),vt.nodeType===Dl.element&&vt.nodeName==="BODY"||vt.nodeName==="HTML"?ct=vt:ct.appendChild(vt);else{if(!zi&&!un&&!ci&&wt.indexOf("<")===-1)return I&&br?I.createHTML(wt):wt;if(ct=Ns(wt),!ct)return zi?null:br?B:""}ct&&bs&&xn(ct.firstChild);const qt=Is(ha?wt:ct);for(;ie=qt.nextNode();)Yi(ie),Rc(ie),ie.content instanceof s&&Lc(ie.content);if(ha)return wt;if(zi){if(Tr)for(Ce=Z.call(ct.ownerDocument);ct.firstChild;)Ce.appendChild(ct.firstChild);else Ce=ct;return(rt.shadowroot||rt.shadowrootmode)&&(Ce=tt.call(i,Ce,!0)),Ce}let Ye=ci?ct.outerHTML:ct.innerHTML;return ci&&F["!doctype"]&&ct.ownerDocument&&ct.ownerDocument.doctype&&ct.ownerDocument.doctype.name&&fn(d1,ct.ownerDocument.doctype.name)&&(Ye="<!DOCTYPE "+ct.ownerDocument.doctype.name+`>
`+Ye),un&&Ju([lt,et,Y],Yn=>{Ye=Ml(Ye,Yn," ")}),I&&br?I.createHTML(Ye):Ye},t.setConfig=function(){let wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Rs(wt),ua=!0},t.clearConfig=function(){Vi=null,ua=!1},t.isValidAttribute=function(wt,P,ct){Vi||Rs({});const vt=be(wt),ie=be(P);return ro(vt,ie,ct)},t.addHook=function(wt,P){typeof P=="function"&&kl(V[wt],P)},t.removeHook=function(wt,P){if(P!==void 0){const ct=EO(V[wt],P);return ct===-1?void 0:wO(V[wt],ct,1)[0]}return OS(V[wt])},t.removeHooks=function(wt){V[wt]=[]},t.removeAllHooks=function(){V=HS()},t}var os=p1(),g1=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Zl=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,HO=/\s*%%.*\n/gm,Zo,m1=(Zo=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},b(Zo,"UnknownDiagramError"),Zo),qa={},ry=b(function(e,t){e=e.replace(g1,"").replace(Zl,"").replace(HO,`
`);for(const[n,{detector:i}]of Object.entries(qa))if(i(e,t))return n;throw new m1(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Jg=b((...e)=>{for(const{id:t,detector:n,loader:i}of e)y1(t,n,i)},"registerLazyLoadedDiagrams"),y1=b((e,t,n)=>{qa[e]&&ot.warn(`Detector with key ${e} already exists. Overwriting.`),qa[e]={detector:t,loader:n},ot.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector"),GO=b(e=>qa[e].loader,"getDiagramLoader"),Kg=b((e,t,{depth:n=2,clobber:i=!1}={})=>{const a={depth:n,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>Kg(e,s,a)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=Kg(e[s],t[s],{depth:n-1,clobber:i})):(i||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),Pe=Kg,Sf="#ffffff",Tf="#f2f2f2",pn=b((e,t)=>t?H(e,{s:-40,l:10}):H(e,{s:-40,l:-10}),"mkBorder"),jo,VO=(jo=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var n,i,a,s,l,c,f,h,d,m,v,x,S,T,E,A,k,R,I,B,L;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||H(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||H(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||pn(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||pn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||pn(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||pn(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||gt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||gt(this.tertiaryColor),this.lineColor=this.lineColor||gt(this.background),this.arrowheadColor=this.arrowheadColor||gt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Rt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||gt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ct(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Rt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Rt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||H(this.primaryColor,{h:30}),this.cScale4=this.cScale4||H(this.primaryColor,{h:60}),this.cScale5=this.cScale5||H(this.primaryColor,{h:90}),this.cScale6=this.cScale6||H(this.primaryColor,{h:120}),this.cScale7=this.cScale7||H(this.primaryColor,{h:150}),this.cScale8=this.cScale8||H(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||H(this.primaryColor,{h:270}),this.cScale10=this.cScale10||H(this.primaryColor,{h:300}),this.cScale11=this.cScale11||H(this.primaryColor,{h:330}),this.darkMode)for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this["cScale"+N]=Rt(this["cScale"+N],75);else for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this["cScale"+N]=Rt(this["cScale"+N],25);for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this["cScaleInv"+N]=this["cScaleInv"+N]||gt(this["cScale"+N]);for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this.darkMode?this["cScalePeer"+N]=this["cScalePeer"+N]||Ct(this["cScale"+N],10):this["cScalePeer"+N]=this["cScalePeer"+N]||Rt(this["cScale"+N],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this["cScaleLabel"+N]=this["cScaleLabel"+N]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let N=0;N<5;N++)this["surface"+N]=this["surface"+N]||H(this.mainBkg,{h:180,s:-15,l:t*(5+N*3)}),this["surfacePeer"+N]=this["surfacePeer"+N]||H(this.mainBkg,{h:180,s:-15,l:t*(8+N*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||H(this.primaryColor,{h:64}),this.fillType3=this.fillType3||H(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||H(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||H(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||H(this.primaryColor,{h:128}),this.fillType7=this.fillType7||H(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||H(this.primaryColor,{l:-10}),this.pie5=this.pie5||H(this.secondaryColor,{l:-10}),this.pie6=this.pie6||H(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||H(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||H(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||H(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||H(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||H(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||H(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((n=this.radar)==null?void 0:n.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((a=this.radar)==null?void 0:a.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((c=this.radar)==null?void 0:c.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((f=this.radar)==null?void 0:f.graticuleStrokeWidth)||1,graticuleOpacity:((h=this.radar)==null?void 0:h.graticuleOpacity)||.3,legendBoxSize:((d=this.radar)==null?void 0:d.legendBoxSize)||12,legendFontSize:((m=this.radar)==null?void 0:m.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||H(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||H(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||H(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||H(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||H(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||H(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((v=this.xyChart)==null?void 0:v.backgroundColor)||this.background,titleColor:((x=this.xyChart)==null?void 0:x.titleColor)||this.primaryTextColor,xAxisTitleColor:((S=this.xyChart)==null?void 0:S.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((T=this.xyChart)==null?void 0:T.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((E=this.xyChart)==null?void 0:E.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((A=this.xyChart)==null?void 0:A.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((k=this.xyChart)==null?void 0:k.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((R=this.xyChart)==null?void 0:R.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((I=this.xyChart)==null?void 0:I.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((B=this.xyChart)==null?void 0:B.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((L=this.xyChart)==null?void 0:L.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||H(this.primaryColor,{h:-30}),this.git4=this.git4||H(this.primaryColor,{h:-60}),this.git5=this.git5||H(this.primaryColor,{h:-90}),this.git6=this.git6||H(this.primaryColor,{h:60}),this.git7=this.git7||H(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||gt(this.git0),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Tf}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},b(jo,"Theme"),jo),YO=b(e=>{const t=new VO;return t.calculate(e),t},"getThemeVariables"),ts,WO=(ts=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ct(this.primaryColor,16),this.tertiaryColor=H(this.primaryColor,{h:-160}),this.primaryBorderColor=gt(this.background),this.secondaryBorderColor=pn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=pn(this.tertiaryColor,this.darkMode),this.primaryTextColor=gt(this.primaryColor),this.secondaryTextColor=gt(this.secondaryColor),this.tertiaryTextColor=gt(this.tertiaryColor),this.lineColor=gt(this.background),this.textColor=gt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ct(gt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Ql(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Rt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Rt(this.sectionBkgColor,10),this.taskBorderColor=Ql(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ql(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Rt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,n,i,a,s,l,c,f,h,d,m,v,x,S,T,E,A,k,R,I,B;this.secondBkg=Ct(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ct(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ct(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=H(this.primaryColor,{h:64}),this.fillType3=H(this.secondaryColor,{h:64}),this.fillType4=H(this.primaryColor,{h:-64}),this.fillType5=H(this.secondaryColor,{h:-64}),this.fillType6=H(this.primaryColor,{h:128}),this.fillType7=H(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||H(this.primaryColor,{h:30}),this.cScale4=this.cScale4||H(this.primaryColor,{h:60}),this.cScale5=this.cScale5||H(this.primaryColor,{h:90}),this.cScale6=this.cScale6||H(this.primaryColor,{h:120}),this.cScale7=this.cScale7||H(this.primaryColor,{h:150}),this.cScale8=this.cScale8||H(this.primaryColor,{h:210}),this.cScale9=this.cScale9||H(this.primaryColor,{h:270}),this.cScale10=this.cScale10||H(this.primaryColor,{h:300}),this.cScale11=this.cScale11||H(this.primaryColor,{h:330});for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||gt(this["cScale"+L]);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScalePeer"+L]=this["cScalePeer"+L]||Ct(this["cScale"+L],10);for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||H(this.mainBkg,{h:30,s:-30,l:-(-10+L*4)}),this["surfacePeer"+L]=this["surfacePeer"+L]||H(this.mainBkg,{h:30,s:-30,l:-(-7+L*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.scaleLabelColor;for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["pie"+L]=this["cScale"+L];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||H(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||H(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||H(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||H(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||H(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||H(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((f=this.xyChart)==null?void 0:f.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((v=this.radar)==null?void 0:v.axisColor)||this.lineColor,axisStrokeWidth:((x=this.radar)==null?void 0:x.axisStrokeWidth)||2,axisLabelFontSize:((S=this.radar)==null?void 0:S.axisLabelFontSize)||12,curveOpacity:((T=this.radar)==null?void 0:T.curveOpacity)||.5,curveStrokeWidth:((E=this.radar)==null?void 0:E.curveStrokeWidth)||2,graticuleColor:((A=this.radar)==null?void 0:A.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((k=this.radar)==null?void 0:k.graticuleStrokeWidth)||1,graticuleOpacity:((R=this.radar)==null?void 0:R.graticuleOpacity)||.3,legendBoxSize:((I=this.radar)==null?void 0:I.legendBoxSize)||12,legendFontSize:((B=this.radar)==null?void 0:B.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ct(this.secondaryColor,20),this.git1=Ct(this.pie2||this.secondaryColor,20),this.git2=Ct(this.pie3||this.tertiaryColor,20),this.git3=Ct(this.pie4||H(this.primaryColor,{h:-30}),20),this.git4=Ct(this.pie5||H(this.primaryColor,{h:-60}),20),this.git5=Ct(this.pie6||H(this.primaryColor,{h:-90}),10),this.git6=Ct(this.pie7||H(this.primaryColor,{h:60}),10),this.git7=Ct(this.pie8||H(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||gt(this.git0),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ct(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ct(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},b(ts,"Theme"),ts),XO=b(e=>{const t=new WO;return t.calculate(e),t},"getThemeVariables"),es,JO=(es=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=H(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=H(this.primaryColor,{h:-160}),this.primaryBorderColor=pn(this.primaryColor,this.darkMode),this.secondaryBorderColor=pn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=pn(this.tertiaryColor,this.darkMode),this.primaryTextColor=gt(this.primaryColor),this.secondaryTextColor=gt(this.secondaryColor),this.tertiaryTextColor=gt(this.tertiaryColor),this.lineColor=gt(this.background),this.textColor=gt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Ql(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,n,i,a,s,l,c,f,h,d,m,v,x,S,T,E,A,k,R,I,B;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||H(this.primaryColor,{h:30}),this.cScale4=this.cScale4||H(this.primaryColor,{h:60}),this.cScale5=this.cScale5||H(this.primaryColor,{h:90}),this.cScale6=this.cScale6||H(this.primaryColor,{h:120}),this.cScale7=this.cScale7||H(this.primaryColor,{h:150}),this.cScale8=this.cScale8||H(this.primaryColor,{h:210}),this.cScale9=this.cScale9||H(this.primaryColor,{h:270}),this.cScale10=this.cScale10||H(this.primaryColor,{h:300}),this.cScale11=this.cScale11||H(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Rt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Rt(this.tertiaryColor,40);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScale"+L]=Rt(this["cScale"+L],10),this["cScalePeer"+L]=this["cScalePeer"+L]||Rt(this["cScale"+L],25);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||H(this["cScale"+L],{h:180});for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||H(this.mainBkg,{h:30,l:-(5+L*5)}),this["surfacePeer"+L]=this["surfacePeer"+L]||H(this.mainBkg,{h:30,l:-(7+L*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||gt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||gt(this.labelTextColor);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=H(this.primaryColor,{h:64}),this.fillType3=H(this.secondaryColor,{h:64}),this.fillType4=H(this.primaryColor,{h:-64}),this.fillType5=H(this.secondaryColor,{h:-64}),this.fillType6=H(this.primaryColor,{h:128}),this.fillType7=H(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||H(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||H(this.primaryColor,{l:-10}),this.pie5=this.pie5||H(this.secondaryColor,{l:-30}),this.pie6=this.pie6||H(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||H(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||H(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||H(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||H(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||H(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||H(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||H(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||H(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||H(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||H(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||H(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||H(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((f=this.radar)==null?void 0:f.graticuleOpacity)||.3,legendBoxSize:((h=this.radar)==null?void 0:h.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((m=this.xyChart)==null?void 0:m.backgroundColor)||this.background,titleColor:((v=this.xyChart)==null?void 0:v.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((S=this.xyChart)==null?void 0:S.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((T=this.xyChart)==null?void 0:T.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((E=this.xyChart)==null?void 0:E.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((A=this.xyChart)==null?void 0:A.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((k=this.xyChart)==null?void 0:k.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((R=this.xyChart)==null?void 0:R.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((I=this.xyChart)==null?void 0:I.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((B=this.xyChart)==null?void 0:B.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||H(this.primaryColor,{h:-30}),this.git4=this.git4||H(this.primaryColor,{h:-60}),this.git5=this.git5||H(this.primaryColor,{h:-90}),this.git6=this.git6||H(this.primaryColor,{h:60}),this.git7=this.git7||H(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||Rt(gt(this.git0),25),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Tf}calculate(t){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},b(es,"Theme"),es),KO=b(e=>{const t=new JO;return t.calculate(e),t},"getThemeVariables"),ns,QO=(ns=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ct("#cde498",10),this.primaryBorderColor=pn(this.primaryColor,this.darkMode),this.secondaryBorderColor=pn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=pn(this.tertiaryColor,this.darkMode),this.primaryTextColor=gt(this.primaryColor),this.secondaryTextColor=gt(this.secondaryColor),this.tertiaryTextColor=gt(this.primaryColor),this.lineColor=gt(this.background),this.textColor=gt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,a,s,l,c,f,h,d,m,v,x,S,T,E,A,k,R,I,B;this.actorBorder=Rt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||H(this.primaryColor,{h:30}),this.cScale4=this.cScale4||H(this.primaryColor,{h:60}),this.cScale5=this.cScale5||H(this.primaryColor,{h:90}),this.cScale6=this.cScale6||H(this.primaryColor,{h:120}),this.cScale7=this.cScale7||H(this.primaryColor,{h:150}),this.cScale8=this.cScale8||H(this.primaryColor,{h:210}),this.cScale9=this.cScale9||H(this.primaryColor,{h:270}),this.cScale10=this.cScale10||H(this.primaryColor,{h:300}),this.cScale11=this.cScale11||H(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Rt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Rt(this.tertiaryColor,40);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScale"+L]=Rt(this["cScale"+L],10),this["cScalePeer"+L]=this["cScalePeer"+L]||Rt(this["cScale"+L],25);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||H(this["cScale"+L],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.scaleLabelColor;for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||H(this.mainBkg,{h:30,s:-30,l:-(5+L*5)}),this["surfacePeer"+L]=this["surfacePeer"+L]||H(this.mainBkg,{h:30,s:-30,l:-(8+L*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=H(this.primaryColor,{h:64}),this.fillType3=H(this.secondaryColor,{h:64}),this.fillType4=H(this.primaryColor,{h:-64}),this.fillType5=H(this.secondaryColor,{h:-64}),this.fillType6=H(this.primaryColor,{h:128}),this.fillType7=H(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||H(this.primaryColor,{l:-30}),this.pie5=this.pie5||H(this.secondaryColor,{l:-30}),this.pie6=this.pie6||H(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||H(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||H(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||H(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||H(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||H(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||H(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||H(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||H(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||H(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||H(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||H(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||H(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((f=this.radar)==null?void 0:f.graticuleOpacity)||.3,legendBoxSize:((h=this.radar)==null?void 0:h.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((m=this.xyChart)==null?void 0:m.backgroundColor)||this.background,titleColor:((v=this.xyChart)==null?void 0:v.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((S=this.xyChart)==null?void 0:S.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((T=this.xyChart)==null?void 0:T.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((E=this.xyChart)==null?void 0:E.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((A=this.xyChart)==null?void 0:A.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((k=this.xyChart)==null?void 0:k.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((R=this.xyChart)==null?void 0:R.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((I=this.xyChart)==null?void 0:I.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((B=this.xyChart)==null?void 0:B.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||H(this.primaryColor,{h:-30}),this.git4=this.git4||H(this.primaryColor,{h:-60}),this.git5=this.git5||H(this.primaryColor,{h:-90}),this.git6=this.git6||H(this.primaryColor,{h:60}),this.git7=this.git7||H(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||gt(this.git0),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Tf}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},b(ns,"Theme"),ns),ZO=b(e=>{const t=new QO;return t.calculate(e),t},"getThemeVariables"),is,jO=(is=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ct(this.contrast,55),this.background="#ffffff",this.tertiaryColor=H(this.primaryColor,{h:-160}),this.primaryBorderColor=pn(this.primaryColor,this.darkMode),this.secondaryBorderColor=pn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=pn(this.tertiaryColor,this.darkMode),this.primaryTextColor=gt(this.primaryColor),this.secondaryTextColor=gt(this.secondaryColor),this.tertiaryTextColor=gt(this.tertiaryColor),this.lineColor=gt(this.background),this.textColor=gt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,a,s,l,c,f,h,d,m,v,x,S,T,E,A,k,R,I,B;this.secondBkg=Ct(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||gt(this["cScale"+L]);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this.darkMode?this["cScalePeer"+L]=this["cScalePeer"+L]||Ct(this["cScale"+L],10):this["cScalePeer"+L]=this["cScalePeer"+L]||Rt(this["cScale"+L],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.scaleLabelColor;for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||H(this.mainBkg,{l:-(5+L*5)}),this["surfacePeer"+L]=this["surfacePeer"+L]||H(this.mainBkg,{l:-(8+L*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ct(this.contrast,30),this.sectionBkgColor2=Ct(this.contrast,30),this.taskBorderColor=Rt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ct(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Rt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=H(this.primaryColor,{h:64}),this.fillType3=H(this.secondaryColor,{h:64}),this.fillType4=H(this.primaryColor,{h:-64}),this.fillType5=H(this.secondaryColor,{h:-64}),this.fillType6=H(this.primaryColor,{h:128}),this.fillType7=H(this.secondaryColor,{h:128});for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["pie"+L]=this["cScale"+L];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||H(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||H(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||H(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||H(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||H(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||H(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((f=this.xyChart)==null?void 0:f.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((v=this.radar)==null?void 0:v.axisColor)||this.lineColor,axisStrokeWidth:((x=this.radar)==null?void 0:x.axisStrokeWidth)||2,axisLabelFontSize:((S=this.radar)==null?void 0:S.axisLabelFontSize)||12,curveOpacity:((T=this.radar)==null?void 0:T.curveOpacity)||.5,curveStrokeWidth:((E=this.radar)==null?void 0:E.curveStrokeWidth)||2,graticuleColor:((A=this.radar)==null?void 0:A.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((k=this.radar)==null?void 0:k.graticuleStrokeWidth)||1,graticuleOpacity:((R=this.radar)==null?void 0:R.graticuleOpacity)||.3,legendBoxSize:((I=this.radar)==null?void 0:I.legendBoxSize)||12,legendFontSize:((B=this.radar)==null?void 0:B.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Rt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||H(this.primaryColor,{h:-30}),this.git4=this.pie5||H(this.primaryColor,{h:-60}),this.git5=this.pie6||H(this.primaryColor,{h:-90}),this.git6=this.pie7||H(this.primaryColor,{h:60}),this.git7=this.pie8||H(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||gt(this.git0),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Tf}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},b(is,"Theme"),is),tP=b(e=>{const t=new jO;return t.calculate(e),t},"getThemeVariables"),gr={base:{getThemeVariables:YO},dark:{getThemeVariables:XO},default:{getThemeVariables:KO},forest:{getThemeVariables:ZO},neutral:{getThemeVariables:tP}},Li={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},v1={...Li,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:gr.default.getThemeVariables(),sequence:{...Li.sequence,messageFont:b(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:b(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:b(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Li.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Li.c4,useWidth:void 0,personFont:b(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Li.flowchart,inheritDir:!1},external_personFont:b(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:b(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:b(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:b(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:b(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:b(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:b(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:b(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:b(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:b(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:b(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:b(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:b(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:b(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:b(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:b(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:b(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:b(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:b(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:b(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:b(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Li.pie,useWidth:984},xyChart:{...Li.xyChart,useWidth:void 0},requirement:{...Li.requirement,useWidth:void 0},packet:{...Li.packet},radar:{...Li.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},_1=b((e,t="")=>Object.keys(e).reduce((n,i)=>Array.isArray(e[i])?n:typeof e[i]=="object"&&e[i]!==null?[...n,t+i,..._1(e[i],"")]:[...n,t+i],[]),"keyify"),eP=new Set(_1(v1,"")),x1=v1,Lh=b(e=>{if(ot.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Lh(t));return}for(const t of Object.keys(e)){if(ot.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!eP.has(t)||e[t]==null){ot.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){ot.debug("sanitizing object",t),Lh(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const i of n)t.includes(i)&&(ot.debug("sanitizing css option",t),e[t]=nP(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}ot.debug("After sanitization",e)}},"sanitizeDirective"),nP=b(e=>{let t=0,n=0;for(const i of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),ss=Object.freeze(x1),Mn=Pe({},ss),Dh,Ha=[],jl=Pe({},ss),bf=b((e,t)=>{let n=Pe({},e),i={};for(const a of t)T1(a),i=Pe(i,a);if(n=Pe(n,i),i.theme&&i.theme in gr){const a=Pe({},Dh),s=Pe(a.themeVariables||{},i.themeVariables);n.theme&&n.theme in gr&&(n.themeVariables=gr[n.theme].getThemeVariables(s))}return jl=n,b1(jl),jl},"updateCurrentConfig"),iP=b(e=>(Mn=Pe({},ss),Mn=Pe(Mn,e),e.theme&&gr[e.theme]&&(Mn.themeVariables=gr[e.theme].getThemeVariables(e.themeVariables)),bf(Mn,Ha),Mn),"setSiteConfig"),rP=b(e=>{Dh=Pe({},e)},"saveConfigFromInitialize"),aP=b(e=>(Mn=Pe(Mn,e),bf(Mn,Ha),Mn),"updateSiteConfig"),C1=b(()=>Pe({},Mn),"getSiteConfig"),S1=b(e=>(b1(e),Pe(jl,e),an()),"setConfig"),an=b(()=>Pe({},jl),"getConfig"),T1=b(e=>{e&&(["secure",...Mn.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(ot.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&T1(e[t])}))},"sanitize"),oP=b(e=>{var t;Lh(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Ha.push(e),bf(Mn,Ha)},"addDirective"),Nh=b((e=Mn)=>{Ha=[],bf(e,Ha)},"reset"),sP={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},GS={},lP=b(e=>{GS[e]||(ot.warn(sP[e]),GS[e]=!0)},"issueWarning"),b1=b(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&lP("LAZY_LOAD_DEPRECATED")},"checkConfig"),oW=b(()=>{let e={};Dh&&(e=Pe(e,Dh));for(const t of Ha)e=Pe(e,t);return e},"getUserDefinedConfig"),mc=/<br\s*\/?>/gi,cP=b(e=>e?A1(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),uP=(()=>{let e=!1;return()=>{e||(E1(),e=!0)}})();function E1(){const e="data-temp-href-target";os.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),os.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}b(E1,"setupDompurifyHooks");var w1=b(e=>(uP(),os.sanitize(e)),"removeScript"),VS=b((e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=t.securityLevel;i==="antiscript"||i==="strict"?e=w1(e):i!=="loose"&&(e=A1(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=pP(e))}return e},"sanitizeMore"),si=b((e,t)=>e&&(t.dompurifyConfig?e=os.sanitize(VS(e,t),t.dompurifyConfig).toString():e=os.sanitize(VS(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),hP=b((e,t)=>typeof e=="string"?si(e,t):e.flat().map(n=>si(n,t)),"sanitizeTextOrArray"),fP=b(e=>mc.test(e),"hasBreaks"),dP=b(e=>e.split(mc),"splitBreaks"),pP=b(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),A1=b(e=>e.replace(mc,"#br#"),"breakToPlaceholder"),gP=b(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),$e=b(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),mP=b(function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},"getMax"),yP=b(function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},"getMin"),YS=b(function(e){const t=e.split(/(,)/),n=[];for(let i=0;i<t.length;i++){let a=t[i];if(a===","&&i>0&&i+1<t.length){const s=t[i-1],l=t[i+1];vP(s,l)&&(a=s+","+l,i++,n.pop())}n.push(_P(a))}return n.join("")},"parseGenericTypes"),Qg=b((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),vP=b((e,t)=>{const n=Qg(e,"~"),i=Qg(t,"~");return n===1&&i===1},"shouldCombineSets"),_P=b(e=>{const t=Qg(e,"~");let n=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const i=[...e];let a=i.indexOf("~"),s=i.lastIndexOf("~");for(;a!==-1&&s!==-1&&a!==s;)i[a]="<",i[s]=">",a=i.indexOf("~"),s=i.lastIndexOf("~");return n&&i.unshift("~"),i.join("")},"processSet"),WS=b(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Zg=/\$\$(.*)\$\$/g,ls=b(e=>{var t;return(((t=e.match(Zg))==null?void 0:t.length)??0)>0},"hasKatex"),sW=b(async(e,t)=>{const n=document.createElement("div");n.innerHTML=await ay(e,t),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const i=document.querySelector("body");i==null||i.insertAdjacentElement("beforeend",n);const a={width:n.clientWidth,height:n.clientHeight};return n.remove(),a},"calculateMathMLDimensions"),xP=b(async(e,t)=>{if(!ls(e))return e;if(!(WS()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Zg,"MathML is unsupported in this environment.");{const{default:n}=await oe(async()=>{const{default:a}=await import("./katex-Cu_Erd72.js");return{default:a}},[]),i=t.forceLegacyMathML||!WS()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(mc).map(a=>ls(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(Zg,(a,s)=>n.renderToString(s,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),ay=b(async(e,t)=>si(await xP(e,t),t),"renderKatexSanitized"),vs={getRows:cP,sanitizeText:si,sanitizeTextOrArray:hP,hasBreaks:fP,splitBreaks:dP,lineBreakRegex:mc,removeScript:w1,getUrl:gP,evaluate:$e,getMax:mP,getMin:yP},CP=b(function(e,t){for(let n of t)e.attr(n[0],n[1])},"d3Attrs"),SP=b(function(e,t,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),k1=b(function(e,t,n,i){const a=SP(t,n,i);CP(e,a)},"configureSvgSize"),TP=b(function(e,t,n,i){const a=t.node().getBBox(),s=a.width,l=a.height;ot.info(`SVG bounds: ${s}x${l}`,a);let c=0,f=0;ot.info(`Graph bounds: ${c}x${f}`,e),c=s+n*2,f=l+n*2,ot.info(`Calculated bounds: ${c}x${f}`),k1(t,f,c,i);const h=`${a.x-n} ${a.y-n} ${a.width+2*n} ${a.height+2*n}`;t.attr("viewBox",h)},"setupGraphViewbox"),dh={},bP=b((e,t,n)=>{let i="";return e in dh&&dh[e]?i=dh[e](n):ot.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),EP=b((e,t)=>{t!==void 0&&(dh[e]=t)},"addStylesForDiagram"),wP=bP,M1={};pO(M1,{clear:()=>AP,getAccDescription:()=>LP,getAccTitle:()=>MP,getDiagramTitle:()=>NP,setAccDescription:()=>RP,setAccTitle:()=>kP,setDiagramTitle:()=>DP});var oy="",sy="",ly="",cy=b(e=>si(e,an()),"sanitizeText"),AP=b(()=>{oy="",ly="",sy=""},"clear"),kP=b(e=>{oy=cy(e).replace(/^\s+/g,"")},"setAccTitle"),MP=b(()=>oy,"getAccTitle"),RP=b(e=>{ly=cy(e).replace(/\n\s+/g,`
`)},"setAccDescription"),LP=b(()=>ly,"getAccDescription"),DP=b(e=>{sy=cy(e)},"setDiagramTitle"),NP=b(()=>sy,"getDiagramTitle"),XS=ot,IP=iy,re=an,lW=S1,cW=ss,uy=b(e=>si(e,re()),"sanitizeText"),BP=TP,FP=b(()=>M1,"getCommonDb"),Ih={},Bh=b((e,t,n)=>{var i;Ih[e]&&XS.warn(`Diagram with id ${e} already registered. Overwriting.`),Ih[e]=t,n&&y1(e,n),EP(e,t.styles),(i=t.injectUtils)==null||i.call(t,XS,IP,re,uy,BP,FP(),()=>{})},"registerDiagram"),jg=b(e=>{if(e in Ih)return Ih[e];throw new OP(e)},"getDiagram"),rs,OP=(rs=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},b(rs,"DiagramNotFoundError"),rs),PP={value:()=>{}};function R1(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new ph(n)}function ph(e){this._=e}function UP(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");if(a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}ph.prototype=R1.prototype={constructor:ph,on:function(e,t){var n=this._,i=UP(e+"",n),a,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((a=(e=i[s]).type)&&(a=$P(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(a=(e=i[s]).type)n[a]=JS(n[a],e.name,t);else if(t==null)for(a in n)n[a]=JS(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ph(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,s;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,a=s.length;i<a;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,s=i.length;a<s;++a)i[a].value.apply(t,n)}};function $P(e,t){for(var n=0,i=e.length,a;n<i;++n)if((a=e[n]).name===t)return a.value}function JS(e,t,n){for(var i=0,a=e.length;i<a;++i)if(e[i].name===t){e[i]=PP,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var tm="http://www.w3.org/1999/xhtml";const KS={svg:"http://www.w3.org/2000/svg",xhtml:tm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ef(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),KS.hasOwnProperty(t)?{space:KS[t],local:e}:e}function zP(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tm&&t.documentElement.namespaceURI===tm?t.createElement(e):t.createElementNS(n,e)}}function qP(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function L1(e){var t=Ef(e);return(t.local?qP:zP)(t)}function HP(){}function hy(e){return e==null?HP:function(){return this.querySelector(e)}}function GP(e){typeof e!="function"&&(e=hy(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,c=i[a]=new Array(l),f,h,d=0;d<l;++d)(f=s[d])&&(h=e.call(f,f.__data__,d,s))&&("__data__"in f&&(h.__data__=f.__data__),c[d]=h);return new Gn(i,this._parents)}function VP(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function YP(){return[]}function D1(e){return e==null?YP:function(){return this.querySelectorAll(e)}}function WP(e){return function(){return VP(e.apply(this,arguments))}}function XP(e){typeof e=="function"?e=WP(e):e=D1(e);for(var t=this._groups,n=t.length,i=[],a=[],s=0;s<n;++s)for(var l=t[s],c=l.length,f,h=0;h<c;++h)(f=l[h])&&(i.push(e.call(f,f.__data__,h,l)),a.push(f));return new Gn(i,a)}function N1(e){return function(){return this.matches(e)}}function I1(e){return function(t){return t.matches(e)}}var JP=Array.prototype.find;function KP(e){return function(){return JP.call(this.children,e)}}function QP(){return this.firstElementChild}function ZP(e){return this.select(e==null?QP:KP(typeof e=="function"?e:I1(e)))}var jP=Array.prototype.filter;function t4(){return Array.from(this.children)}function e4(e){return function(){return jP.call(this.children,e)}}function n4(e){return this.selectAll(e==null?t4:e4(typeof e=="function"?e:I1(e)))}function i4(e){typeof e!="function"&&(e=N1(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,c=i[a]=[],f,h=0;h<l;++h)(f=s[h])&&e.call(f,f.__data__,h,s)&&c.push(f);return new Gn(i,this._parents)}function B1(e){return new Array(e.length)}function r4(){return new Gn(this._enter||this._groups.map(B1),this._parents)}function Fh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Fh.prototype={constructor:Fh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function a4(e){return function(){return e}}function o4(e,t,n,i,a,s){for(var l=0,c,f=t.length,h=s.length;l<h;++l)(c=t[l])?(c.__data__=s[l],i[l]=c):n[l]=new Fh(e,s[l]);for(;l<f;++l)(c=t[l])&&(a[l]=c)}function s4(e,t,n,i,a,s,l){var c,f,h=new Map,d=t.length,m=s.length,v=new Array(d),x;for(c=0;c<d;++c)(f=t[c])&&(v[c]=x=l.call(f,f.__data__,c,t)+"",h.has(x)?a[c]=f:h.set(x,f));for(c=0;c<m;++c)x=l.call(e,s[c],c,s)+"",(f=h.get(x))?(i[c]=f,f.__data__=s[c],h.delete(x)):n[c]=new Fh(e,s[c]);for(c=0;c<d;++c)(f=t[c])&&h.get(v[c])===f&&(a[c]=f)}function l4(e){return e.__data__}function c4(e,t){if(!arguments.length)return Array.from(this,l4);var n=t?s4:o4,i=this._parents,a=this._groups;typeof e!="function"&&(e=a4(e));for(var s=a.length,l=new Array(s),c=new Array(s),f=new Array(s),h=0;h<s;++h){var d=i[h],m=a[h],v=m.length,x=u4(e.call(d,d&&d.__data__,h,i)),S=x.length,T=c[h]=new Array(S),E=l[h]=new Array(S),A=f[h]=new Array(v);n(d,m,T,E,A,x,t);for(var k=0,R=0,I,B;k<S;++k)if(I=T[k]){for(k>=R&&(R=k+1);!(B=E[R])&&++R<S;);I._next=B||null}}return l=new Gn(l,i),l._enter=c,l._exit=f,l}function u4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h4(){return new Gn(this._exit||this._groups.map(B1),this._parents)}function f4(e,t,n){var i=this.enter(),a=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),i&&a?i.merge(a).order():a}function d4(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,a=n.length,s=i.length,l=Math.min(a,s),c=new Array(a),f=0;f<l;++f)for(var h=n[f],d=i[f],m=h.length,v=c[f]=new Array(m),x,S=0;S<m;++S)(x=h[S]||d[S])&&(v[S]=x);for(;f<a;++f)c[f]=n[f];return new Gn(c,this._parents)}function p4(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],a=i.length-1,s=i[a],l;--a>=0;)(l=i[a])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function g4(e){e||(e=m4);function t(m,v){return m&&v?e(m.__data__,v.__data__):!m-!v}for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s){for(var l=n[s],c=l.length,f=a[s]=new Array(c),h,d=0;d<c;++d)(h=l[d])&&(f[d]=h);f.sort(t)}return new Gn(a,this._parents).order()}function m4(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y4(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function v4(){return Array.from(this)}function _4(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],a=0,s=i.length;a<s;++a){var l=i[a];if(l)return l}return null}function x4(){let e=0;for(const t of this)++e;return e}function C4(){return!this.node()}function S4(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var a=t[n],s=0,l=a.length,c;s<l;++s)(c=a[s])&&e.call(c,c.__data__,s,a);return this}function T4(e){return function(){this.removeAttribute(e)}}function b4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function E4(e,t){return function(){this.setAttribute(e,t)}}function w4(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function A4(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function k4(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function M4(e,t){var n=Ef(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?b4:T4:typeof t=="function"?n.local?k4:A4:n.local?w4:E4)(n,t))}function F1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function R4(e){return function(){this.style.removeProperty(e)}}function L4(e,t,n){return function(){this.style.setProperty(e,t,n)}}function D4(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function N4(e,t,n){return arguments.length>1?this.each((t==null?R4:typeof t=="function"?D4:L4)(e,t,n??"")):cs(this.node(),e)}function cs(e,t){return e.style.getPropertyValue(t)||F1(e).getComputedStyle(e,null).getPropertyValue(t)}function I4(e){return function(){delete this[e]}}function B4(e,t){return function(){this[e]=t}}function F4(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function O4(e,t){return arguments.length>1?this.each((t==null?I4:typeof t=="function"?F4:B4)(e,t)):this.node()[e]}function O1(e){return e.trim().split(/^|\s+/)}function fy(e){return e.classList||new P1(e)}function P1(e){this._node=e,this._names=O1(e.getAttribute("class")||"")}P1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function U1(e,t){for(var n=fy(e),i=-1,a=t.length;++i<a;)n.add(t[i])}function $1(e,t){for(var n=fy(e),i=-1,a=t.length;++i<a;)n.remove(t[i])}function P4(e){return function(){U1(this,e)}}function U4(e){return function(){$1(this,e)}}function $4(e,t){return function(){(t.apply(this,arguments)?U1:$1)(this,e)}}function z4(e,t){var n=O1(e+"");if(arguments.length<2){for(var i=fy(this.node()),a=-1,s=n.length;++a<s;)if(!i.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?$4:t?P4:U4)(n,t))}function q4(){this.textContent=""}function H4(e){return function(){this.textContent=e}}function G4(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function V4(e){return arguments.length?this.each(e==null?q4:(typeof e=="function"?G4:H4)(e)):this.node().textContent}function Y4(){this.innerHTML=""}function W4(e){return function(){this.innerHTML=e}}function X4(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function J4(e){return arguments.length?this.each(e==null?Y4:(typeof e=="function"?X4:W4)(e)):this.node().innerHTML}function K4(){this.nextSibling&&this.parentNode.appendChild(this)}function Q4(){return this.each(K4)}function Z4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function j4(){return this.each(Z4)}function tU(e){var t=typeof e=="function"?e:L1(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function eU(){return null}function nU(e,t){var n=typeof e=="function"?e:L1(e),i=t==null?eU:typeof t=="function"?t:hy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function iU(){var e=this.parentNode;e&&e.removeChild(this)}function rU(){return this.each(iU)}function aU(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oU(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sU(e){return this.select(e?oU:aU)}function lU(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cU(e){return function(t){e.call(this,t,this.__data__)}}function uU(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function hU(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function fU(e,t,n){return function(){var i=this.__on,a,s=cU(t);if(i){for(var l=0,c=i.length;l<c;++l)if((a=i[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(a):this.__on=[a]}}function dU(e,t,n){var i=uU(e+""),a,s=i.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,h=c.length,d;f<h;++f)for(a=0,d=c[f];a<s;++a)if((l=i[a]).type===d.type&&l.name===d.name)return d.value}return}for(c=t?fU:hU,a=0;a<s;++a)this.each(c(i[a],t,n));return this}function z1(e,t,n){var i=F1(e),a=i.CustomEvent;typeof a=="function"?a=new a(t,n):(a=i.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function pU(e,t){return function(){return z1(this,e,t)}}function gU(e,t){return function(){return z1(this,e,t.apply(this,arguments))}}function mU(e,t){return this.each((typeof t=="function"?gU:pU)(e,t))}function*yU(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],a=0,s=i.length,l;a<s;++a)(l=i[a])&&(yield l)}var q1=[null];function Gn(e,t){this._groups=e,this._parents=t}function yc(){return new Gn([[document.documentElement]],q1)}function vU(){return this}Gn.prototype=yc.prototype={constructor:Gn,select:GP,selectAll:XP,selectChild:ZP,selectChildren:n4,filter:i4,data:c4,enter:r4,exit:h4,join:f4,merge:d4,selection:vU,order:p4,sort:g4,call:y4,nodes:v4,node:_4,size:x4,empty:C4,each:S4,attr:M4,style:N4,property:O4,classed:z4,text:V4,html:J4,raise:Q4,lower:j4,append:tU,insert:nU,remove:rU,clone:sU,datum:lU,on:dU,dispatch:mU,[Symbol.iterator]:yU};function Kt(e){return typeof e=="string"?new Gn([[document.querySelector(e)]],[document.documentElement]):new Gn([[e]],q1)}function dy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function H1(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function vc(){}var nc=.7,Oh=1/nc,Ko="\\s*([+-]?\\d+)\\s*",ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_U=/^#([0-9a-f]{3,8})$/,xU=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),CU=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),SU=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${ic}\\)$`),TU=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${ic}\\)$`),bU=new RegExp(`^hsl\\(${ic},${Fi},${Fi}\\)$`),EU=new RegExp(`^hsla\\(${ic},${Fi},${Fi},${ic}\\)$`),QS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dy(vc,rc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZS,formatHex:ZS,formatHex8:wU,formatHsl:AU,formatRgb:jS,toString:jS});function ZS(){return this.rgb().formatHex()}function wU(){return this.rgb().formatHex8()}function AU(){return G1(this).formatHsl()}function jS(){return this.rgb().formatRgb()}function rc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_U.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tT(t):n===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Qu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Qu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xU.exec(e))?new Ln(t[1],t[2],t[3],1):(t=CU.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SU.exec(e))?Qu(t[1],t[2],t[3],t[4]):(t=TU.exec(e))?Qu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bU.exec(e))?iT(t[1],t[2]/100,t[3]/100,1):(t=EU.exec(e))?iT(t[1],t[2]/100,t[3]/100,t[4]):QS.hasOwnProperty(e)?tT(QS[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function tT(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function Qu(e,t,n,i){return i<=0&&(e=t=n=NaN),new Ln(e,t,n,i)}function kU(e){return e instanceof vc||(e=rc(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function em(e,t,n,i){return arguments.length===1?kU(e):new Ln(e,t,n,i??1)}function Ln(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}dy(Ln,em,H1(vc,{brighter(e){return e=e==null?Oh:Math.pow(Oh,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nc:Math.pow(nc,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln($a(this.r),$a(this.g),$a(this.b),Ph(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eT,formatHex:eT,formatHex8:MU,formatRgb:nT,toString:nT}));function eT(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}`}function MU(){return`#${Ba(this.r)}${Ba(this.g)}${Ba(this.b)}${Ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function nT(){const e=Ph(this.opacity);return`${e===1?"rgb(":"rgba("}${$a(this.r)}, ${$a(this.g)}, ${$a(this.b)}${e===1?")":`, ${e})`}`}function Ph(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $a(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ba(e){return e=$a(e),(e<16?"0":"")+e.toString(16)}function iT(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yi(e,t,n,i)}function G1(e){if(e instanceof yi)return new yi(e.h,e.s,e.l,e.opacity);if(e instanceof vc||(e=rc(e)),!e)return new yi;if(e instanceof yi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),s=Math.max(t,n,i),l=NaN,c=s-a,f=(s+a)/2;return c?(t===s?l=(n-i)/c+(n<i)*6:n===s?l=(i-t)/c+2:l=(t-n)/c+4,c/=f<.5?s+a:2-s-a,l*=60):c=f>0&&f<1?0:l,new yi(l,c,f,e.opacity)}function RU(e,t,n,i){return arguments.length===1?G1(e):new yi(e,t,n,i??1)}function yi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}dy(yi,RU,H1(vc,{brighter(e){return e=e==null?Oh:Math.pow(Oh,e),new yi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nc:Math.pow(nc,e),new yi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,a=2*n-i;return new Ln(yg(e>=240?e-240:e+120,a,i),yg(e,a,i),yg(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new yi(rT(this.h),Zu(this.s),Zu(this.l),Ph(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ph(this.opacity);return`${e===1?"hsl(":"hsla("}${rT(this.h)}, ${Zu(this.s)*100}%, ${Zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rT(e){return e=(e||0)%360,e<0?e+360:e}function Zu(e){return Math.max(0,Math.min(1,e||0))}function yg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const py=e=>()=>e;function V1(e,t){return function(n){return e+n*t}}function LU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function uW(e,t){var n=t-e;return n?V1(e,n>180||n<-180?n-360*Math.round(n/360):n):py(isNaN(e)?t:e)}function DU(e){return(e=+e)==1?Y1:function(t,n){return n-t?LU(t,n,e):py(isNaN(t)?n:t)}}function Y1(e,t){var n=t-e;return n?V1(e,n):py(isNaN(e)?t:e)}const aT=(function e(t){var n=DU(t);function i(a,s){var l=n((a=em(a)).r,(s=em(s)).r),c=n(a.g,s.g),f=n(a.b,s.b),h=Y1(a.opacity,s.opacity);return function(d){return a.r=l(d),a.g=c(d),a.b=f(d),a.opacity=h(d),a+""}}return i.gamma=e,i})(1);function Qr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var nm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vg=new RegExp(nm.source,"g");function NU(e){return function(){return e}}function IU(e){return function(t){return e(t)+""}}function BU(e,t){var n=nm.lastIndex=vg.lastIndex=0,i,a,s,l=-1,c=[],f=[];for(e=e+"",t=t+"";(i=nm.exec(e))&&(a=vg.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(i=i[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,f.push({i:l,x:Qr(i,a)})),n=vg.lastIndex;return n<t.length&&(s=t.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?IU(f[0].x):NU(t):(t=f.length,function(h){for(var d=0,m;d<t;++d)c[(m=f[d]).i]=m.x(h);return c.join("")})}var oT=180/Math.PI,im={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function W1(e,t,n,i,a,s){var l,c,f;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(f=e*n+t*i)&&(n-=e*f,i-=t*f),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,f/=c),e*i<t*n&&(e=-e,t=-t,f=-f,l=-l),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*oT,skewX:Math.atan(f)*oT,scaleX:l,scaleY:c}}var ju;function FU(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?im:W1(t.a,t.b,t.c,t.d,t.e,t.f)}function OU(e){return e==null||(ju||(ju=document.createElementNS("http://www.w3.org/2000/svg","g")),ju.setAttribute("transform",e),!(e=ju.transform.baseVal.consolidate()))?im:(e=e.matrix,W1(e.a,e.b,e.c,e.d,e.e,e.f))}function X1(e,t,n,i){function a(h){return h.length?h.pop()+" ":""}function s(h,d,m,v,x,S){if(h!==m||d!==v){var T=x.push("translate(",null,t,null,n);S.push({i:T-4,x:Qr(h,m)},{i:T-2,x:Qr(d,v)})}else(m||v)&&x.push("translate("+m+t+v+n)}function l(h,d,m,v){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),v.push({i:m.push(a(m)+"rotate(",null,i)-2,x:Qr(h,d)})):d&&m.push(a(m)+"rotate("+d+i)}function c(h,d,m,v){h!==d?v.push({i:m.push(a(m)+"skewX(",null,i)-2,x:Qr(h,d)}):d&&m.push(a(m)+"skewX("+d+i)}function f(h,d,m,v,x,S){if(h!==m||d!==v){var T=x.push(a(x)+"scale(",null,",",null,")");S.push({i:T-4,x:Qr(h,m)},{i:T-2,x:Qr(d,v)})}else(m!==1||v!==1)&&x.push(a(x)+"scale("+m+","+v+")")}return function(h,d){var m=[],v=[];return h=e(h),d=e(d),s(h.translateX,h.translateY,d.translateX,d.translateY,m,v),l(h.rotate,d.rotate,m,v),c(h.skewX,d.skewX,m,v),f(h.scaleX,h.scaleY,d.scaleX,d.scaleY,m,v),h=d=null,function(x){for(var S=-1,T=v.length,E;++S<T;)m[(E=v[S]).i]=E.x(x);return m.join("")}}}var PU=X1(FU,"px, ","px)","deg)"),UU=X1(OU,", ",")",")"),us=0,ql=0,Nl=0,J1=1e3,Uh,Hl,$h=0,Ga=0,wf=0,ac=typeof performance=="object"&&performance.now?performance:Date,K1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gy(){return Ga||(K1($U),Ga=ac.now()+wf)}function $U(){Ga=0}function zh(){this._call=this._time=this._next=null}zh.prototype=Q1.prototype={constructor:zh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gy():+n)+(t==null?0:+t),!this._next&&Hl!==this&&(Hl?Hl._next=this:Uh=this,Hl=this),this._call=e,this._time=n,rm()},stop:function(){this._call&&(this._call=null,this._time=1/0,rm())}};function Q1(e,t,n){var i=new zh;return i.restart(e,t,n),i}function zU(){gy(),++us;for(var e=Uh,t;e;)(t=Ga-e._time)>=0&&e._call.call(void 0,t),e=e._next;--us}function sT(){Ga=($h=ac.now())+wf,us=ql=0;try{zU()}finally{us=0,HU(),Ga=0}}function qU(){var e=ac.now(),t=e-$h;t>J1&&(wf-=t,$h=e)}function HU(){for(var e,t=Uh,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Uh=n);Hl=e,rm(i)}function rm(e){if(!us){ql&&(ql=clearTimeout(ql));var t=e-Ga;t>24?(e<1/0&&(ql=setTimeout(sT,e-ac.now()-wf)),Nl&&(Nl=clearInterval(Nl))):(Nl||($h=ac.now(),Nl=setInterval(qU,J1)),us=1,K1(sT))}}function lT(e,t,n){var i=new zh;return t=t==null?0:+t,i.restart(a=>{i.stop(),e(a+t)},t,n),i}var GU=R1("start","end","cancel","interrupt"),VU=[],Z1=0,cT=1,am=2,gh=3,uT=4,om=5,mh=6;function Af(e,t,n,i,a,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;YU(e,n,{name:t,index:i,group:a,on:GU,tween:VU,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Z1})}function my(e,t){var n=bi(e,t);if(n.state>Z1)throw new Error("too late; already scheduled");return n}function Ui(e,t){var n=bi(e,t);if(n.state>gh)throw new Error("too late; already running");return n}function bi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function YU(e,t,n){var i=e.__transition,a;i[t]=n,n.timer=Q1(s,0,n.time);function s(h){n.state=cT,n.timer.restart(l,n.delay,n.time),n.delay<=h&&l(h-n.delay)}function l(h){var d,m,v,x;if(n.state!==cT)return f();for(d in i)if(x=i[d],x.name===n.name){if(x.state===gh)return lT(l);x.state===uT?(x.state=mh,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete i[d]):+d<t&&(x.state=mh,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete i[d])}if(lT(function(){n.state===gh&&(n.state=uT,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=am,n.on.call("start",e,e.__data__,n.index,n.group),n.state===am){for(n.state=gh,a=new Array(v=n.tween.length),d=0,m=-1;d<v;++d)(x=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++m]=x);a.length=m+1}}function c(h){for(var d=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(f),n.state=om,1),m=-1,v=a.length;++m<v;)a[m].call(e,d);n.state===om&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=mh,n.timer.stop(),delete i[t];for(var h in i)return;delete e.__transition}}function WU(e,t){var n=e.__transition,i,a,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){s=!1;continue}a=i.state>am&&i.state<om,i.state=mh,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}s&&delete e.__transition}}function XU(e){return this.each(function(){WU(this,e)})}function JU(e,t){var n,i;return function(){var a=Ui(this,e),s=a.tween;if(s!==n){i=n=s;for(var l=0,c=i.length;l<c;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}a.tween=i}}function KU(e,t,n){var i,a;if(typeof n!="function")throw new Error;return function(){var s=Ui(this,e),l=s.tween;if(l!==i){a=(i=l).slice();for(var c={name:t,value:n},f=0,h=a.length;f<h;++f)if(a[f].name===t){a[f]=c;break}f===h&&a.push(c)}s.tween=a}}function QU(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=bi(this.node(),n).tween,a=0,s=i.length,l;a<s;++a)if((l=i[a]).name===e)return l.value;return null}return this.each((t==null?JU:KU)(n,e,t))}function yy(e,t,n){var i=e._id;return e.each(function(){var a=Ui(this,i);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return bi(a,i).value[t]}}function j1(e,t){var n;return(typeof t=="number"?Qr:t instanceof rc?aT:(n=rc(t))?(t=n,aT):BU)(e,t)}function ZU(e){return function(){this.removeAttribute(e)}}function jU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function t$(e,t,n){var i,a=n+"",s;return function(){var l=this.getAttribute(e);return l===a?null:l===i?s:s=t(i=l,n)}}function e$(e,t,n){var i,a=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===i?s:s=t(i=l,n)}}function n$(e,t,n){var i,a,s;return function(){var l,c=n(this),f;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),f=c+"",l===f?null:l===i&&f===a?s:(a=f,s=t(i=l,c)))}}function i$(e,t,n){var i,a,s;return function(){var l,c=n(this),f;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),f=c+"",l===f?null:l===i&&f===a?s:(a=f,s=t(i=l,c)))}}function r$(e,t){var n=Ef(e),i=n==="transform"?UU:j1;return this.attrTween(e,typeof t=="function"?(n.local?i$:n$)(n,i,yy(this,"attr."+e,t)):t==null?(n.local?jU:ZU)(n):(n.local?e$:t$)(n,i,t))}function a$(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function o$(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function s$(e,t){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&o$(e,s)),n}return a._value=t,a}function l$(e,t){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&a$(e,s)),n}return a._value=t,a}function c$(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Ef(e);return this.tween(n,(i.local?s$:l$)(i,t))}function u$(e,t){return function(){my(this,e).delay=+t.apply(this,arguments)}}function h$(e,t){return t=+t,function(){my(this,e).delay=t}}function f$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?u$:h$)(t,e)):bi(this.node(),t).delay}function d$(e,t){return function(){Ui(this,e).duration=+t.apply(this,arguments)}}function p$(e,t){return t=+t,function(){Ui(this,e).duration=t}}function g$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?d$:p$)(t,e)):bi(this.node(),t).duration}function m$(e,t){if(typeof t!="function")throw new Error;return function(){Ui(this,e).ease=t}}function y$(e){var t=this._id;return arguments.length?this.each(m$(t,e)):bi(this.node(),t).ease}function v$(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ui(this,e).ease=n}}function _$(e){if(typeof e!="function")throw new Error;return this.each(v$(this._id,e))}function x$(e){typeof e!="function"&&(e=N1(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,c=i[a]=[],f,h=0;h<l;++h)(f=s[h])&&e.call(f,f.__data__,h,s)&&c.push(f);return new vr(i,this._parents,this._name,this._id)}function C$(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,a=n.length,s=Math.min(i,a),l=new Array(i),c=0;c<s;++c)for(var f=t[c],h=n[c],d=f.length,m=l[c]=new Array(d),v,x=0;x<d;++x)(v=f[x]||h[x])&&(m[x]=v);for(;c<i;++c)l[c]=t[c];return new vr(l,this._parents,this._name,this._id)}function S$(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function T$(e,t,n){var i,a,s=S$(t)?my:Ui;return function(){var l=s(this,e),c=l.on;c!==i&&(a=(i=c).copy()).on(t,n),l.on=a}}function b$(e,t){var n=this._id;return arguments.length<2?bi(this.node(),n).on.on(e):this.each(T$(n,e,t))}function E$(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function w$(){return this.on("end.remove",E$(this._id))}function A$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hy(e));for(var i=this._groups,a=i.length,s=new Array(a),l=0;l<a;++l)for(var c=i[l],f=c.length,h=s[l]=new Array(f),d,m,v=0;v<f;++v)(d=c[v])&&(m=e.call(d,d.__data__,v,c))&&("__data__"in d&&(m.__data__=d.__data__),h[v]=m,Af(h[v],t,n,v,h,bi(d,n)));return new vr(s,this._parents,t,n)}function k$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=D1(e));for(var i=this._groups,a=i.length,s=[],l=[],c=0;c<a;++c)for(var f=i[c],h=f.length,d,m=0;m<h;++m)if(d=f[m]){for(var v=e.call(d,d.__data__,m,f),x,S=bi(d,n),T=0,E=v.length;T<E;++T)(x=v[T])&&Af(x,t,n,T,v,S);s.push(v),l.push(d)}return new vr(s,l,t,n)}var M$=yc.prototype.constructor;function R$(){return new M$(this._groups,this._parents)}function L$(e,t){var n,i,a;return function(){var s=cs(this,e),l=(this.style.removeProperty(e),cs(this,e));return s===l?null:s===n&&l===i?a:a=t(n=s,i=l)}}function t2(e){return function(){this.style.removeProperty(e)}}function D$(e,t,n){var i,a=n+"",s;return function(){var l=cs(this,e);return l===a?null:l===i?s:s=t(i=l,n)}}function N$(e,t,n){var i,a,s;return function(){var l=cs(this,e),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(e),cs(this,e))),l===f?null:l===i&&f===a?s:(a=f,s=t(i=l,c))}}function I$(e,t){var n,i,a,s="style."+t,l="end."+s,c;return function(){var f=Ui(this,e),h=f.on,d=f.value[s]==null?c||(c=t2(t)):void 0;(h!==n||a!==d)&&(i=(n=h).copy()).on(l,a=d),f.on=i}}function B$(e,t,n){var i=(e+="")=="transform"?PU:j1;return t==null?this.styleTween(e,L$(e,i)).on("end.style."+e,t2(e)):typeof t=="function"?this.styleTween(e,N$(e,i,yy(this,"style."+e,t))).each(I$(this._id,e)):this.styleTween(e,D$(e,i,t),n).on("end.style."+e,null)}function F$(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function O$(e,t,n){var i,a;function s(){var l=t.apply(this,arguments);return l!==a&&(i=(a=l)&&F$(e,l,n)),i}return s._value=t,s}function P$(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,O$(e,t,n??""))}function U$(e){return function(){this.textContent=e}}function $$(e){return function(){var t=e(this);this.textContent=t??""}}function z$(e){return this.tween("text",typeof e=="function"?$$(yy(this,"text",e)):U$(e==null?"":e+""))}function q$(e){return function(t){this.textContent=e.call(this,t)}}function H$(e){var t,n;function i(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&q$(a)),t}return i._value=e,i}function G$(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,H$(e))}function V$(){for(var e=this._name,t=this._id,n=e2(),i=this._groups,a=i.length,s=0;s<a;++s)for(var l=i[s],c=l.length,f,h=0;h<c;++h)if(f=l[h]){var d=bi(f,t);Af(f,e,n,h,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new vr(i,this._parents,e,n)}function Y$(){var e,t,n=this,i=n._id,a=n.size();return new Promise(function(s,l){var c={value:l},f={value:function(){--a===0&&s()}};n.each(function(){var h=Ui(this,i),d=h.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(f)),h.on=t}),a===0&&s()})}var W$=0;function vr(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function e2(){return++W$}var fr=yc.prototype;vr.prototype={constructor:vr,select:A$,selectAll:k$,selectChild:fr.selectChild,selectChildren:fr.selectChildren,filter:x$,merge:C$,selection:R$,transition:V$,call:fr.call,nodes:fr.nodes,node:fr.node,size:fr.size,empty:fr.empty,each:fr.each,on:b$,attr:r$,attrTween:c$,style:B$,styleTween:P$,text:z$,textTween:G$,remove:w$,tween:QU,delay:f$,duration:g$,ease:y$,easeVarying:_$,end:Y$,[Symbol.iterator]:fr[Symbol.iterator]};function X$(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var J$={time:null,delay:0,duration:250,ease:X$};function K$(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Q$(e){var t,n;e instanceof vr?(t=e._id,e=e._name):(t=e2(),(n=J$).time=gy(),e=e==null?null:e+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var l=i[s],c=l.length,f,h=0;h<c;++h)(f=l[h])&&Af(f,e,t,h,l,n||K$(f,t));return new vr(i,this._parents,e,t)}yc.prototype.interrupt=XU;yc.prototype.transition=Q$;const sm=Math.PI,lm=2*sm,La=1e-6,Z$=lm-La;function n2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function j$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n2;const n=10**t;return function(i){this._+=i[0];for(let a=1,s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}class t6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?n2:j$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,a){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(t,n,i,a,s,l){this._append`C${+t},${+n},${+i},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,i,a,s){if(t=+t,n=+n,i=+i,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=i-t,h=a-n,d=l-t,m=c-n,v=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>La)if(!(Math.abs(m*f-h*d)>La)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let x=i-l,S=a-c,T=f*f+h*h,E=x*x+S*S,A=Math.sqrt(T),k=Math.sqrt(v),R=s*Math.tan((sm-Math.acos((T+v-E)/(2*A*k)))/2),I=R/k,B=R/A;Math.abs(I-1)>La&&this._append`L${t+I*d},${n+I*m}`,this._append`A${s},${s},0,0,${+(m*x>d*S)},${this._x1=t+B*f},${this._y1=n+B*h}`}}arc(t,n,i,a,s,l){if(t=+t,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(a),f=i*Math.sin(a),h=t+c,d=n+f,m=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>La||Math.abs(this._y1-d)>La)&&this._append`L${h},${d}`,i&&(v<0&&(v=v%lm+lm),v>Z$?this._append`A${i},${i},0,1,${m},${t-c},${n-f}A${i},${i},0,1,${m},${this._x1=h},${this._y1=d}`:v>La&&this._append`A${i},${i},0,${+(v>=sm)},${m},${this._x1=t+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(t,n,i,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function Uo(e){return function(){return e}}const hW=Math.abs,fW=Math.atan2,dW=Math.cos,pW=Math.max,gW=Math.min,mW=Math.sin,yW=Math.sqrt,hT=1e-12,vy=Math.PI,fT=vy/2,vW=2*vy;function _W(e){return e>1?0:e<-1?vy:Math.acos(e)}function xW(e){return e>=1?fT:e<=-1?-fT:Math.asin(e)}function e6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new t6(t)}function n6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function i2(e){this._context=e}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qh(e){return new i2(e)}function i6(e){return e[0]}function r6(e){return e[1]}function a6(e,t){var n=Uo(!0),i=null,a=qh,s=null,l=e6(c);e=typeof e=="function"?e:e===void 0?i6:Uo(e),t=typeof t=="function"?t:t===void 0?r6:Uo(t);function c(f){var h,d=(f=n6(f)).length,m,v=!1,x;for(i==null&&(s=a(x=l())),h=0;h<=d;++h)!(h<d&&n(m=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(m,h,f),+t(m,h,f));if(x)return s=null,x+""||null}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Uo(+f),c):e},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Uo(+f),c):t},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Uo(!!f),c):n},c.curve=function(f){return arguments.length?(a=f,i!=null&&(s=a(i)),c):a},c.context=function(f){return arguments.length?(f==null?i=s=null:s=a(i=f),c):i},c}class r2{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function a2(e){return new r2(e,!0)}function o2(e){return new r2(e,!1)}function ea(){}function Hh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kf(e){this._context=e}kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yh(e){return new kf(e)}function s2(e){this._context=e}s2.prototype={areaStart:ea,areaEnd:ea,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o6(e){return new s2(e)}function l2(e){this._context=e}l2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s6(e){return new l2(e)}function c2(e,t){this._basis=new kf(e),this._beta=t}c2.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i=e[0],a=t[0],s=e[n]-i,l=t[n]-a,c=-1,f;++c<=n;)f=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+f*s),this._beta*t[c]+(1-this._beta)*(a+f*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const l6=(function e(t){function n(i){return t===1?new kf(i):new c2(i,t)}return n.beta=function(i){return e(+i)},n})(.85);function Gh(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function _y(e,t){this._context=e,this._k=(1-t)/6}_y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gh(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Gh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u2=(function e(t){function n(i){return new _y(i,t)}return n.tension=function(i){return e(+i)},n})(0);function xy(e,t){this._context=e,this._k=(1-t)/6}xy.prototype={areaStart:ea,areaEnd:ea,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const c6=(function e(t){function n(i){return new xy(i,t)}return n.tension=function(i){return e(+i)},n})(0);function Cy(e,t){this._context=e,this._k=(1-t)/6}Cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u6=(function e(t){function n(i){return new Cy(i,t)}return n.tension=function(i){return e(+i)},n})(0);function Sy(e,t,n){var i=e._x1,a=e._y1,s=e._x2,l=e._y2;if(e._l01_a>hT){var c=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*c-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,a=(a*c-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>hT){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*h+e._x1*e._l23_2a-t*e._l12_2a)/d,l=(l*h+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(i,a,s,l,e._x2,e._y2)}function h2(e,t){this._context=e,this._alpha=t}h2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Sy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const f2=(function e(t){function n(i){return t?new h2(i,t):new _y(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function d2(e,t){this._context=e,this._alpha=t}d2.prototype={areaStart:ea,areaEnd:ea,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Sy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const h6=(function e(t){function n(i){return t?new d2(i,t):new xy(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function p2(e,t){this._context=e,this._alpha=t}p2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const f6=(function e(t){function n(i){return t?new p2(i,t):new Cy(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function g2(e){this._context=e}g2.prototype={areaStart:ea,areaEnd:ea,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function d6(e){return new g2(e)}function dT(e){return e<0?-1:1}function pT(e,t,n){var i=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(i||a<0&&-0),l=(n-e._y1)/(a||i<0&&-0),c=(s*a+l*i)/(i+a);return(dT(s)+dT(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function gT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function _g(e,t,n){var i=e._x0,a=e._y0,s=e._x1,l=e._y1,c=(s-i)/3;e._context.bezierCurveTo(i+c,a+c*t,s-c,l-c*n,s,l)}function Vh(e){this._context=e}Vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_g(this,this._t0,gT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_g(this,gT(this,n=pT(this,e,t)),n);break;default:_g(this,this._t0,n=pT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function m2(e){this._context=new y2(e)}(m2.prototype=Object.create(Vh.prototype)).point=function(e,t){Vh.prototype.point.call(this,t,e)};function y2(e){this._context=e}y2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,a,s){this._context.bezierCurveTo(t,e,i,n,s,a)}};function v2(e){return new Vh(e)}function _2(e){return new m2(e)}function x2(e){this._context=e}x2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=mT(e),a=mT(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(i[0][s],a[0][s],i[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mT(e){var t,n=e.length-1,i,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=a[t]/s[t-1],s[t]-=i,l[t]-=i*l[t-1];for(a[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function C2(e){return new x2(e)}function Mf(e,t){this._context=e,this._t=t}Mf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function S2(e){return new Mf(e,.5)}function T2(e){return new Mf(e,0)}function b2(e){return new Mf(e,1)}function Gl(e,t,n){this.k=e,this.x=t,this.y=n}Gl.prototype={constructor:Gl,scale:function(e){return e===1?this:new Gl(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gl.prototype;var p6=b(e=>{var a;const{securityLevel:t}=re();let n=Kt("body");if(t==="sandbox"){const l=((a=Kt(`#i${e}`).node())==null?void 0:a.contentDocument)??document;n=Kt(l.body)}return n.select(`#${e}`)},"selectSvgElement");function Ty(e){return typeof e>"u"||e===null}b(Ty,"isNothing");function E2(e){return typeof e=="object"&&e!==null}b(E2,"isObject");function w2(e){return Array.isArray(e)?e:Ty(e)?[]:[e]}b(w2,"toArray");function A2(e,t){var n,i,a,s;if(t)for(s=Object.keys(t),n=0,i=s.length;n<i;n+=1)a=s[n],e[a]=t[a];return e}b(A2,"extend");function k2(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}b(k2,"repeat");function M2(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}b(M2,"isNegativeZero");var g6=Ty,m6=E2,y6=w2,v6=k2,_6=M2,x6=A2,Ue={isNothing:g6,isObject:m6,toArray:y6,repeat:v6,isNegativeZero:_6,extend:x6};function by(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}b(by,"formatError");function hs(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=by(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}b(hs,"YAMLException$1");hs.prototype=Object.create(Error.prototype);hs.prototype.constructor=hs;hs.prototype.toString=b(function(t){return this.name+": "+by(this,t)},"toString");var Rn=hs;function vh(e,t,n,i,a){var s="",l="",c=Math.floor(a/2)-1;return i-t>c&&(s=" ... ",t=i-c+s.length),n-i>c&&(l=" ...",n=i+c-l.length),{str:s+e.slice(t,n).replace(/\t/g,"")+l,pos:i-t+s.length}}b(vh,"getLine");function _h(e,t){return Ue.repeat(" ",t-e.length)+e}b(_h,"padStart");function R2(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],a=[],s,l=-1;s=n.exec(e.buffer);)a.push(s.index),i.push(s.index+s[0].length),e.position<=s.index&&l<0&&(l=i.length-2);l<0&&(l=i.length-1);var c="",f,h,d=Math.min(e.line+t.linesAfter,a.length).toString().length,m=t.maxLength-(t.indent+d+3);for(f=1;f<=t.linesBefore&&!(l-f<0);f++)h=vh(e.buffer,i[l-f],a[l-f],e.position-(i[l]-i[l-f]),m),c=Ue.repeat(" ",t.indent)+_h((e.line-f+1).toString(),d)+" | "+h.str+`
`+c;for(h=vh(e.buffer,i[l],a[l],e.position,m),c+=Ue.repeat(" ",t.indent)+_h((e.line+1).toString(),d)+" | "+h.str+`
`,c+=Ue.repeat("-",t.indent+d+3+h.pos)+`^
`,f=1;f<=t.linesAfter&&!(l+f>=a.length);f++)h=vh(e.buffer,i[l+f],a[l+f],e.position-(i[l]-i[l+f]),m),c+=Ue.repeat(" ",t.indent)+_h((e.line+f+1).toString(),d)+" | "+h.str+`
`;return c.replace(/\n$/,"")}b(R2,"makeSnippet");var C6=R2,S6=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],T6=["scalar","sequence","mapping"];function L2(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}b(L2,"compileStyleAliases");function D2(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(S6.indexOf(n)===-1)throw new Rn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=L2(t.styleAliases||null),T6.indexOf(this.kind)===-1)throw new Rn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}b(D2,"Type$1");var on=D2;function cm(e,t){var n=[];return e[t].forEach(function(i){var a=n.length;n.forEach(function(s,l){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(a=l)}),n[a]=i}),n}b(cm,"compileList");function N2(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(b(i,"collectType"),t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}b(N2,"compileMap");function Yh(e){return this.extend(e)}b(Yh,"Schema$1");Yh.prototype.extend=b(function(t){var n=[],i=[];if(t instanceof on)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Rn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof on))throw new Rn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Rn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Rn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof on))throw new Rn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Yh.prototype);return a.implicit=(this.implicit||[]).concat(n),a.explicit=(this.explicit||[]).concat(i),a.compiledImplicit=cm(a,"implicit"),a.compiledExplicit=cm(a,"explicit"),a.compiledTypeMap=N2(a.compiledImplicit,a.compiledExplicit),a},"extend");var b6=Yh,E6=new on("tag:yaml.org,2002:str",{kind:"scalar",construct:b(function(e){return e!==null?e:""},"construct")}),w6=new on("tag:yaml.org,2002:seq",{kind:"sequence",construct:b(function(e){return e!==null?e:[]},"construct")}),A6=new on("tag:yaml.org,2002:map",{kind:"mapping",construct:b(function(e){return e!==null?e:{}},"construct")}),k6=new b6({explicit:[E6,w6,A6]});function I2(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}b(I2,"resolveYamlNull");function B2(){return null}b(B2,"constructYamlNull");function F2(e){return e===null}b(F2,"isNull");var M6=new on("tag:yaml.org,2002:null",{kind:"scalar",resolve:I2,construct:B2,predicate:F2,represent:{canonical:b(function(){return"~"},"canonical"),lowercase:b(function(){return"null"},"lowercase"),uppercase:b(function(){return"NULL"},"uppercase"),camelcase:b(function(){return"Null"},"camelcase"),empty:b(function(){return""},"empty")},defaultStyle:"lowercase"});function O2(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}b(O2,"resolveYamlBoolean");function P2(e){return e==="true"||e==="True"||e==="TRUE"}b(P2,"constructYamlBoolean");function U2(e){return Object.prototype.toString.call(e)==="[object Boolean]"}b(U2,"isBoolean");var R6=new on("tag:yaml.org,2002:bool",{kind:"scalar",resolve:O2,construct:P2,predicate:U2,represent:{lowercase:b(function(e){return e?"true":"false"},"lowercase"),uppercase:b(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:b(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function $2(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}b($2,"isHexCode");function z2(e){return 48<=e&&e<=55}b(z2,"isOctCode");function q2(e){return 48<=e&&e<=57}b(q2,"isDecCode");function H2(e){if(e===null)return!1;var t=e.length,n=0,i=!1,a;if(!t)return!1;if(a=e[n],(a==="-"||a==="+")&&(a=e[++n]),a==="0"){if(n+1===t)return!0;if(a=e[++n],a==="b"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(a!=="0"&&a!=="1")return!1;i=!0}return i&&a!=="_"}if(a==="x"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!$2(e.charCodeAt(n)))return!1;i=!0}return i&&a!=="_"}if(a==="o"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!z2(e.charCodeAt(n)))return!1;i=!0}return i&&a!=="_"}}if(a==="_")return!1;for(;n<t;n++)if(a=e[n],a!=="_"){if(!q2(e.charCodeAt(n)))return!1;i=!0}return!(!i||a==="_")}b(H2,"resolveYamlInteger");function G2(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}b(G2,"constructYamlInteger");function V2(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ue.isNegativeZero(e)}b(V2,"isInteger");var L6=new on("tag:yaml.org,2002:int",{kind:"scalar",resolve:H2,construct:G2,predicate:V2,represent:{binary:b(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:b(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:b(function(e){return e.toString(10)},"decimal"),hexadecimal:b(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),D6=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Y2(e){return!(e===null||!D6.test(e)||e[e.length-1]==="_")}b(Y2,"resolveYamlFloat");function W2(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}b(W2,"constructYamlFloat");var N6=/^[-+]?[0-9]+e/;function X2(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ue.isNegativeZero(e))return"-0.0";return n=e.toString(10),N6.test(n)?n.replace("e",".e"):n}b(X2,"representYamlFloat");function J2(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ue.isNegativeZero(e))}b(J2,"isFloat");var I6=new on("tag:yaml.org,2002:float",{kind:"scalar",resolve:Y2,construct:W2,predicate:J2,represent:X2,defaultStyle:"lowercase"}),K2=k6.extend({implicit:[M6,R6,L6,I6]}),B6=K2,Q2=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Z2=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function j2(e){return e===null?!1:Q2.exec(e)!==null||Z2.exec(e)!==null}b(j2,"resolveYamlTimestamp");function tE(e){var t,n,i,a,s,l,c,f=0,h=null,d,m,v;if(t=Q2.exec(e),t===null&&(t=Z2.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,i,a));if(s=+t[4],l=+t[5],c=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(d=+t[10],m=+(t[11]||0),h=(d*60+m)*6e4,t[9]==="-"&&(h=-h)),v=new Date(Date.UTC(n,i,a,s,l,c,f)),h&&v.setTime(v.getTime()-h),v}b(tE,"constructYamlTimestamp");function eE(e){return e.toISOString()}b(eE,"representYamlTimestamp");var F6=new on("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:j2,construct:tE,instanceOf:Date,represent:eE});function nE(e){return e==="<<"||e===null}b(nE,"resolveYamlMerge");var O6=new on("tag:yaml.org,2002:merge",{kind:"scalar",resolve:nE}),Ey=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function iE(e){if(e===null)return!1;var t,n,i=0,a=e.length,s=Ey;for(n=0;n<a;n++)if(t=s.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}b(iE,"resolveYamlBinary");function rE(e){var t,n,i=e.replace(/[\r\n=]/g,""),a=i.length,s=Ey,l=0,c=[];for(t=0;t<a;t++)t%4===0&&t&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|s.indexOf(i.charAt(t));return n=a%4*6,n===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):n===18?(c.push(l>>10&255),c.push(l>>2&255)):n===12&&c.push(l>>4&255),new Uint8Array(c)}b(rE,"constructYamlBinary");function aE(e){var t="",n=0,i,a,s=e.length,l=Ey;for(i=0;i<s;i++)i%3===0&&i&&(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]),n=(n<<8)+e[i];return a=s%3,a===0?(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]):a===2?(t+=l[n>>10&63],t+=l[n>>4&63],t+=l[n<<2&63],t+=l[64]):a===1&&(t+=l[n>>2&63],t+=l[n<<4&63],t+=l[64],t+=l[64]),t}b(aE,"representYamlBinary");function oE(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}b(oE,"isBinary");var P6=new on("tag:yaml.org,2002:binary",{kind:"scalar",resolve:iE,construct:rE,predicate:oE,represent:aE}),U6=Object.prototype.hasOwnProperty,$6=Object.prototype.toString;function sE(e){if(e===null)return!0;var t=[],n,i,a,s,l,c=e;for(n=0,i=c.length;n<i;n+=1){if(a=c[n],l=!1,$6.call(a)!=="[object Object]")return!1;for(s in a)if(U6.call(a,s))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}b(sE,"resolveYamlOmap");function lE(e){return e!==null?e:[]}b(lE,"constructYamlOmap");var z6=new on("tag:yaml.org,2002:omap",{kind:"sequence",resolve:sE,construct:lE}),q6=Object.prototype.toString;function cE(e){if(e===null)return!0;var t,n,i,a,s,l=e;for(s=new Array(l.length),t=0,n=l.length;t<n;t+=1){if(i=l[t],q6.call(i)!=="[object Object]"||(a=Object.keys(i),a.length!==1))return!1;s[t]=[a[0],i[a[0]]]}return!0}b(cE,"resolveYamlPairs");function uE(e){if(e===null)return[];var t,n,i,a,s,l=e;for(s=new Array(l.length),t=0,n=l.length;t<n;t+=1)i=l[t],a=Object.keys(i),s[t]=[a[0],i[a[0]]];return s}b(uE,"constructYamlPairs");var H6=new on("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:cE,construct:uE}),G6=Object.prototype.hasOwnProperty;function hE(e){if(e===null)return!0;var t,n=e;for(t in n)if(G6.call(n,t)&&n[t]!==null)return!1;return!0}b(hE,"resolveYamlSet");function fE(e){return e!==null?e:{}}b(fE,"constructYamlSet");var V6=new on("tag:yaml.org,2002:set",{kind:"mapping",resolve:hE,construct:fE}),dE=B6.extend({implicit:[F6,O6],explicit:[P6,z6,H6,V6]}),na=Object.prototype.hasOwnProperty,Wh=1,pE=2,gE=3,Xh=4,xg=1,Y6=2,yT=3,W6=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,X6=/[\x85\u2028\u2029]/,J6=/[,\[\]\{\}]/,mE=/^(?:!|!!|![a-z\-]+!)$/i,yE=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function um(e){return Object.prototype.toString.call(e)}b(um,"_class");function Ci(e){return e===10||e===13}b(Ci,"is_EOL");function ta(e){return e===9||e===32}b(ta,"is_WHITE_SPACE");function gn(e){return e===9||e===32||e===10||e===13}b(gn,"is_WS_OR_EOL");function Fa(e){return e===44||e===91||e===93||e===123||e===125}b(Fa,"is_FLOW_INDICATOR");function vE(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}b(vE,"fromHexCode");function _E(e){return e===120?2:e===117?4:e===85?8:0}b(_E,"escapedHexLen");function xE(e){return 48<=e&&e<=57?e-48:-1}b(xE,"fromDecimalCode");function hm(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}b(hm,"simpleEscapeSequence");function CE(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}b(CE,"charFromCodepoint");var SE=new Array(256),TE=new Array(256);for(Ma=0;Ma<256;Ma++)SE[Ma]=hm(Ma)?1:0,TE[Ma]=hm(Ma);var Ma;function bE(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||dE,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}b(bE,"State$1");function wy(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=C6(n),new Rn(t,n)}b(wy,"generateError");function kt(e,t){throw wy(e,t)}b(kt,"throwError");function oc(e,t){e.onWarning&&e.onWarning.call(null,wy(e,t))}b(oc,"throwWarning");var vT={YAML:b(function(t,n,i){var a,s,l;t.version!==null&&kt(t,"duplication of %YAML directive"),i.length!==1&&kt(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),a===null&&kt(t,"ill-formed argument of the YAML directive"),s=parseInt(a[1],10),l=parseInt(a[2],10),s!==1&&kt(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&oc(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:b(function(t,n,i){var a,s;i.length!==2&&kt(t,"TAG directive accepts exactly two arguments"),a=i[0],s=i[1],mE.test(a)||kt(t,"ill-formed tag handle (first argument) of the TAG directive"),na.call(t.tagMap,a)&&kt(t,'there is a previously declared suffix for "'+a+'" tag handle'),yE.test(s)||kt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{kt(t,"tag prefix is malformed: "+s)}t.tagMap[a]=s},"handleTagDirective")};function mr(e,t,n,i){var a,s,l,c;if(t<n){if(c=e.input.slice(t,n),i)for(a=0,s=c.length;a<s;a+=1)l=c.charCodeAt(a),l===9||32<=l&&l<=1114111||kt(e,"expected valid JSON character");else W6.test(c)&&kt(e,"the stream contains non-printable characters");e.result+=c}}b(mr,"captureSegment");function fm(e,t,n,i){var a,s,l,c;for(Ue.isObject(n)||kt(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n),l=0,c=a.length;l<c;l+=1)s=a[l],na.call(t,s)||(t[s]=n[s],i[s]=!0)}b(fm,"mergeMappings");function Oa(e,t,n,i,a,s,l,c,f){var h,d;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),h=0,d=a.length;h<d;h+=1)Array.isArray(a[h])&&kt(e,"nested arrays are not supported inside keys"),typeof a=="object"&&um(a[h])==="[object Object]"&&(a[h]="[object Object]");if(typeof a=="object"&&um(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(h=0,d=s.length;h<d;h+=1)fm(e,t,s[h],n);else fm(e,t,s,n);else!e.json&&!na.call(n,a)&&na.call(t,a)&&(e.line=l||e.line,e.lineStart=c||e.lineStart,e.position=f||e.position,kt(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[a]=s,delete n[a];return t}b(Oa,"storeMappingPair");function Rf(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):kt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}b(Rf,"readLineBreak");function Ae(e,t,n){for(var i=0,a=e.input.charCodeAt(e.position);a!==0;){for(;ta(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(Ci(a))for(Rf(e),a=e.input.charCodeAt(e.position),i++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&oc(e,"deficient indentation"),i}b(Ae,"skipSeparationSpace");function _c(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||gn(n)))}b(_c,"testDocumentSeparator");function Lf(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ue.repeat(`
`,t-1))}b(Lf,"writeFoldedLines");function EE(e,t,n){var i,a,s,l,c,f,h,d,m=e.kind,v=e.result,x;if(x=e.input.charCodeAt(e.position),gn(x)||Fa(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(a=e.input.charCodeAt(e.position+1),gn(a)||n&&Fa(a)))return!1;for(e.kind="scalar",e.result="",s=l=e.position,c=!1;x!==0;){if(x===58){if(a=e.input.charCodeAt(e.position+1),gn(a)||n&&Fa(a))break}else if(x===35){if(i=e.input.charCodeAt(e.position-1),gn(i))break}else{if(e.position===e.lineStart&&_c(e)||n&&Fa(x))break;if(Ci(x))if(f=e.line,h=e.lineStart,d=e.lineIndent,Ae(e,!1,-1),e.lineIndent>=t){c=!0,x=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=f,e.lineStart=h,e.lineIndent=d;break}}c&&(mr(e,s,l,!1),Lf(e,e.line-f),s=l=e.position,c=!1),ta(x)||(l=e.position+1),x=e.input.charCodeAt(++e.position)}return mr(e,s,l,!1),e.result?!0:(e.kind=m,e.result=v,!1)}b(EE,"readPlainScalar");function wE(e,t){var n,i,a;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=a=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(mr(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,a=e.position;else return!0;else Ci(n)?(mr(e,i,a,!0),Lf(e,Ae(e,!1,t)),i=a=e.position):e.position===e.lineStart&&_c(e)?kt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);kt(e,"unexpected end of the stream within a single quoted scalar")}b(wE,"readSingleQuotedScalar");function AE(e,t){var n,i,a,s,l,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return mr(e,n,e.position,!0),e.position++,!0;if(c===92){if(mr(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),Ci(c))Ae(e,!1,t);else if(c<256&&SE[c])e.result+=TE[c],e.position++;else if((l=_E(c))>0){for(a=l,s=0;a>0;a--)c=e.input.charCodeAt(++e.position),(l=vE(c))>=0?s=(s<<4)+l:kt(e,"expected hexadecimal character");e.result+=CE(s),e.position++}else kt(e,"unknown escape sequence");n=i=e.position}else Ci(c)?(mr(e,n,i,!0),Lf(e,Ae(e,!1,t)),n=i=e.position):e.position===e.lineStart&&_c(e)?kt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}kt(e,"unexpected end of the stream within a double quoted scalar")}b(AE,"readDoubleQuotedScalar");function kE(e,t){var n=!0,i,a,s,l=e.tag,c,f=e.anchor,h,d,m,v,x,S=Object.create(null),T,E,A,k;if(k=e.input.charCodeAt(e.position),k===91)d=93,x=!1,c=[];else if(k===123)d=125,x=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),k=e.input.charCodeAt(++e.position);k!==0;){if(Ae(e,!0,t),k=e.input.charCodeAt(e.position),k===d)return e.position++,e.tag=l,e.anchor=f,e.kind=x?"mapping":"sequence",e.result=c,!0;n?k===44&&kt(e,"expected the node content, but found ','"):kt(e,"missed comma between flow collection entries"),E=T=A=null,m=v=!1,k===63&&(h=e.input.charCodeAt(e.position+1),gn(h)&&(m=v=!0,e.position++,Ae(e,!0,t))),i=e.line,a=e.lineStart,s=e.position,Va(e,t,Wh,!1,!0),E=e.tag,T=e.result,Ae(e,!0,t),k=e.input.charCodeAt(e.position),(v||e.line===i)&&k===58&&(m=!0,k=e.input.charCodeAt(++e.position),Ae(e,!0,t),Va(e,t,Wh,!1,!0),A=e.result),x?Oa(e,c,S,E,T,A,i,a,s):m?c.push(Oa(e,null,S,E,T,A,i,a,s)):c.push(T),Ae(e,!0,t),k=e.input.charCodeAt(e.position),k===44?(n=!0,k=e.input.charCodeAt(++e.position)):n=!1}kt(e,"unexpected end of the stream within a flow collection")}b(kE,"readFlowCollection");function ME(e,t){var n,i,a=xg,s=!1,l=!1,c=t,f=0,h=!1,d,m;if(m=e.input.charCodeAt(e.position),m===124)i=!1;else if(m===62)i=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)xg===a?a=m===43?yT:Y6:kt(e,"repeat of a chomping mode identifier");else if((d=xE(m))>=0)d===0?kt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?kt(e,"repeat of an indentation width identifier"):(c=t+d-1,l=!0);else break;if(ta(m)){do m=e.input.charCodeAt(++e.position);while(ta(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!Ci(m)&&m!==0)}for(;m!==0;){for(Rf(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),Ci(m)){f++;continue}if(e.lineIndent<c){a===yT?e.result+=Ue.repeat(`
`,s?1+f:f):a===xg&&s&&(e.result+=`
`);break}for(i?ta(m)?(h=!0,e.result+=Ue.repeat(`
`,s?1+f:f)):h?(h=!1,e.result+=Ue.repeat(`
`,f+1)):f===0?s&&(e.result+=" "):e.result+=Ue.repeat(`
`,f):e.result+=Ue.repeat(`
`,s?1+f:f),s=!0,l=!0,f=0,n=e.position;!Ci(m)&&m!==0;)m=e.input.charCodeAt(++e.position);mr(e,n,e.position,!1)}return!0}b(ME,"readBlockScalar");function dm(e,t){var n,i=e.tag,a=e.anchor,s=[],l,c=!1,f;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),f=e.input.charCodeAt(e.position);f!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,kt(e,"tab characters must not be used in indentation")),!(f!==45||(l=e.input.charCodeAt(e.position+1),!gn(l))));){if(c=!0,e.position++,Ae(e,!0,-1)&&e.lineIndent<=t){s.push(null),f=e.input.charCodeAt(e.position);continue}if(n=e.line,Va(e,t,gE,!1,!0),s.push(e.result),Ae(e,!0,-1),f=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&f!==0)kt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return c?(e.tag=i,e.anchor=a,e.kind="sequence",e.result=s,!0):!1}b(dm,"readBlockSequence");function RE(e,t,n){var i,a,s,l,c,f,h=e.tag,d=e.anchor,m={},v=Object.create(null),x=null,S=null,T=null,E=!1,A=!1,k;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),k=e.input.charCodeAt(e.position);k!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,kt(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),s=e.line,(k===63||k===58)&&gn(i))k===63?(E&&(Oa(e,m,v,x,S,null,l,c,f),x=S=T=null),A=!0,E=!0,a=!0):E?(E=!1,a=!0):kt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,k=i;else{if(l=e.line,c=e.lineStart,f=e.position,!Va(e,n,pE,!1,!0))break;if(e.line===s){for(k=e.input.charCodeAt(e.position);ta(k);)k=e.input.charCodeAt(++e.position);if(k===58)k=e.input.charCodeAt(++e.position),gn(k)||kt(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(Oa(e,m,v,x,S,null,l,c,f),x=S=T=null),A=!0,E=!1,a=!1,x=e.tag,S=e.result;else if(A)kt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=d,!0}else if(A)kt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(E&&(l=e.line,c=e.lineStart,f=e.position),Va(e,t,Xh,!0,a)&&(E?S=e.result:T=e.result),E||(Oa(e,m,v,x,S,T,l,c,f),x=S=T=null),Ae(e,!0,-1),k=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&k!==0)kt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&Oa(e,m,v,x,S,null,l,c,f),A&&(e.tag=h,e.anchor=d,e.kind="mapping",e.result=m),A}b(RE,"readBlockMapping");function LE(e){var t,n=!1,i=!1,a,s,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&kt(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(n=!0,l=e.input.charCodeAt(++e.position)):l===33?(i=!0,a="!!",l=e.input.charCodeAt(++e.position)):a="!",t=e.position,n){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(s=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):kt(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!gn(l);)l===33&&(i?kt(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),mE.test(a)||kt(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),J6.test(s)&&kt(e,"tag suffix cannot contain flow indicator characters")}s&&!yE.test(s)&&kt(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{kt(e,"tag name is malformed: "+s)}return n?e.tag=s:na.call(e.tagMap,a)?e.tag=e.tagMap[a]+s:a==="!"?e.tag="!"+s:a==="!!"?e.tag="tag:yaml.org,2002:"+s:kt(e,'undeclared tag handle "'+a+'"'),!0}b(LE,"readTagProperty");function DE(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&kt(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!gn(n)&&!Fa(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&kt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}b(DE,"readAnchorProperty");function NE(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!gn(i)&&!Fa(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&kt(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),na.call(e.anchorMap,n)||kt(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Ae(e,!0,-1),!0}b(NE,"readAlias");function Va(e,t,n,i,a){var s,l,c,f=1,h=!1,d=!1,m,v,x,S,T,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=l=c=Xh===n||gE===n,i&&Ae(e,!0,-1)&&(h=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),f===1)for(;LE(e)||DE(e);)Ae(e,!0,-1)?(h=!0,c=s,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):c=!1;if(c&&(c=h||a),(f===1||Xh===n)&&(Wh===n||pE===n?T=t:T=t+1,E=e.position-e.lineStart,f===1?c&&(dm(e,E)||RE(e,E,T))||kE(e,T)?d=!0:(l&&ME(e,T)||wE(e,T)||AE(e,T)?d=!0:NE(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&kt(e,"alias node should not have any properties")):EE(e,T,Wh===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):f===0&&(d=c&&dm(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&kt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,v=e.implicitTypes.length;m<v;m+=1)if(S=e.implicitTypes[m],S.resolve(e.result)){e.result=S.construct(e.result),e.tag=S.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(na.call(e.typeMap[e.kind||"fallback"],e.tag))S=e.typeMap[e.kind||"fallback"][e.tag];else for(S=null,x=e.typeMap.multi[e.kind||"fallback"],m=0,v=x.length;m<v;m+=1)if(e.tag.slice(0,x[m].tag.length)===x[m].tag){S=x[m];break}S||kt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&S.kind!==e.kind&&kt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+S.kind+'", not "'+e.kind+'"'),S.resolve(e.result,e.tag)?(e.result=S.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):kt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}b(Va,"composeNode");function IE(e){var t=e.position,n,i,a,s=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(Ae(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(s=!0,l=e.input.charCodeAt(++e.position),n=e.position;l!==0&&!gn(l);)l=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),a=[],i.length<1&&kt(e,"directive name must not be less than one character in length");l!==0;){for(;ta(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!Ci(l));break}if(Ci(l))break;for(n=e.position;l!==0&&!gn(l);)l=e.input.charCodeAt(++e.position);a.push(e.input.slice(n,e.position))}l!==0&&Rf(e),na.call(vT,i)?vT[i](e,i,a):oc(e,'unknown document directive "'+i+'"')}if(Ae(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ae(e,!0,-1)):s&&kt(e,"directives end mark is expected"),Va(e,e.lineIndent-1,Xh,!1,!0),Ae(e,!0,-1),e.checkLineBreaks&&X6.test(e.input.slice(t,e.position))&&oc(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&_c(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ae(e,!0,-1));return}if(e.position<e.length-1)kt(e,"end of the stream or a document separator is expected");else return}b(IE,"readDocument");function Ay(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new bE(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,kt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)IE(n);return n.documents}b(Ay,"loadDocuments");function K6(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var i=Ay(e,n);if(typeof t!="function")return i;for(var a=0,s=i.length;a<s;a+=1)t(i[a])}b(K6,"loadAll$1");function BE(e,t){var n=Ay(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Rn("expected a single document in the stream, but found more")}}b(BE,"load$1");var Q6=BE,Z6={load:Q6},FE=Object.prototype.toString,OE=Object.prototype.hasOwnProperty,ky=65279,j6=9,sc=10,tz=13,ez=32,nz=33,iz=34,pm=35,rz=37,az=38,oz=39,sz=42,PE=44,lz=45,Jh=58,cz=61,uz=62,hz=63,fz=64,UE=91,$E=93,dz=96,zE=123,pz=124,qE=125,ln={};ln[0]="\\0";ln[7]="\\a";ln[8]="\\b";ln[9]="\\t";ln[10]="\\n";ln[11]="\\v";ln[12]="\\f";ln[13]="\\r";ln[27]="\\e";ln[34]='\\"';ln[92]="\\\\";ln[133]="\\N";ln[160]="\\_";ln[8232]="\\L";ln[8233]="\\P";var gz=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],mz=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function HE(e,t){var n,i,a,s,l,c,f;if(t===null)return{};for(n={},i=Object.keys(t),a=0,s=i.length;a<s;a+=1)l=i[a],c=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),f=e.compiledTypeMap.fallback[l],f&&OE.call(f.styleAliases,c)&&(c=f.styleAliases[c]),n[l]=c;return n}b(HE,"compileStyleMap");function GE(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else if(e<=4294967295)n="U",i=8;else throw new Rn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Ue.repeat("0",i-t.length)+t}b(GE,"encodeHex");var yz=1,lc=2;function VE(e){this.schema=e.schema||dE,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ue.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=HE(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?lc:yz,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}b(VE,"State");function gm(e,t){for(var n=Ue.repeat(" ",t),i=0,a=-1,s="",l,c=e.length;i<c;)a=e.indexOf(`
`,i),a===-1?(l=e.slice(i),i=c):(l=e.slice(i,a+1),i=a+1),l.length&&l!==`
`&&(s+=n),s+=l;return s}b(gm,"indentString");function Kh(e,t){return`
`+Ue.repeat(" ",e.indent*t)}b(Kh,"generateNextLine");function YE(e,t){var n,i,a;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(a=e.implicitTypes[n],a.resolve(t))return!0;return!1}b(YE,"testImplicitResolving");function cc(e){return e===ez||e===j6}b(cc,"isWhitespace");function fs(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ky||65536<=e&&e<=1114111}b(fs,"isPrintable");function mm(e){return fs(e)&&e!==ky&&e!==tz&&e!==sc}b(mm,"isNsCharOrWhitespace");function ym(e,t,n){var i=mm(e),a=i&&!cc(e);return(n?i:i&&e!==PE&&e!==UE&&e!==$E&&e!==zE&&e!==qE)&&e!==pm&&!(t===Jh&&!a)||mm(t)&&!cc(t)&&e===pm||t===Jh&&a}b(ym,"isPlainSafe");function WE(e){return fs(e)&&e!==ky&&!cc(e)&&e!==lz&&e!==hz&&e!==Jh&&e!==PE&&e!==UE&&e!==$E&&e!==zE&&e!==qE&&e!==pm&&e!==az&&e!==sz&&e!==nz&&e!==pz&&e!==cz&&e!==uz&&e!==oz&&e!==iz&&e!==rz&&e!==fz&&e!==dz}b(WE,"isPlainSafeFirst");function XE(e){return!cc(e)&&e!==Jh}b(XE,"isPlainSafeLast");function Yo(e,t){var n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}b(Yo,"codePointAt");function My(e){var t=/^\n* /;return t.test(e)}b(My,"needIndentIndicator");var JE=1,vm=2,KE=3,QE=4,qo=5;function ZE(e,t,n,i,a,s,l,c){var f,h=0,d=null,m=!1,v=!1,x=i!==-1,S=-1,T=WE(Yo(e,0))&&XE(Yo(e,e.length-1));if(t||l)for(f=0;f<e.length;h>=65536?f+=2:f++){if(h=Yo(e,f),!fs(h))return qo;T=T&&ym(h,d,c),d=h}else{for(f=0;f<e.length;h>=65536?f+=2:f++){if(h=Yo(e,f),h===sc)m=!0,x&&(v=v||f-S-1>i&&e[S+1]!==" ",S=f);else if(!fs(h))return qo;T=T&&ym(h,d,c),d=h}v=v||x&&f-S-1>i&&e[S+1]!==" "}return!m&&!v?T&&!l&&!a(e)?JE:s===lc?qo:vm:n>9&&My(e)?qo:l?s===lc?qo:vm:v?QE:KE}b(ZE,"chooseScalarStyle");function jE(e,t,n,i,a){e.dump=(function(){if(t.length===0)return e.quotingType===lc?'""':"''";if(!e.noCompatMode&&(gz.indexOf(t)!==-1||mz.test(t)))return e.quotingType===lc?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,n),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),c=i||e.flowLevel>-1&&n>=e.flowLevel;function f(h){return YE(e,h)}switch(b(f,"testAmbiguity"),ZE(t,c,e.indent,l,f,e.quotingType,e.forceQuotes&&!i,a)){case JE:return t;case vm:return"'"+t.replace(/'/g,"''")+"'";case KE:return"|"+_m(t,e.indent)+xm(gm(t,s));case QE:return">"+_m(t,e.indent)+xm(gm(tw(t,l),s));case qo:return'"'+ew(t)+'"';default:throw new Rn("impossible error: invalid scalar style")}})()}b(jE,"writeScalar");function _m(e,t){var n=My(e)?String(t):"",i=e[e.length-1]===`
`,a=i&&(e[e.length-2]===`
`||e===`
`),s=a?"+":i?"":"-";return n+s+`
`}b(_m,"blockHeader");function xm(e){return e[e.length-1]===`
`?e.slice(0,-1):e}b(xm,"dropEndingNewline");function tw(e,t){for(var n=/(\n+)([^\n]*)/g,i=(function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,n.lastIndex=h,Cm(e.slice(0,h),t)})(),a=e[0]===`
`||e[0]===" ",s,l;l=n.exec(e);){var c=l[1],f=l[2];s=f[0]===" ",i+=c+(!a&&!s&&f!==""?`
`:"")+Cm(f,t),a=s}return i}b(tw,"foldString");function Cm(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,i,a=0,s,l=0,c=0,f="";i=n.exec(e);)c=i.index,c-a>t&&(s=l>a?l:c,f+=`
`+e.slice(a,s),a=s+1),l=c;return f+=`
`,e.length-a>t&&l>a?f+=e.slice(a,l)+`
`+e.slice(l+1):f+=e.slice(a),f.slice(1)}b(Cm,"foldLine");function ew(e){for(var t="",n=0,i,a=0;a<e.length;n>=65536?a+=2:a++)n=Yo(e,a),i=ln[n],!i&&fs(n)?(t+=e[a],n>=65536&&(t+=e[a+1])):t+=i||GE(n);return t}b(ew,"escapeString");function nw(e,t,n){var i="",a=e.tag,s,l,c;for(s=0,l=n.length;s<l;s+=1)c=n[s],e.replacer&&(c=e.replacer.call(n,String(s),c)),(Pi(e,t,c,!1,!1)||typeof c>"u"&&Pi(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=a,e.dump="["+i+"]"}b(nw,"writeFlowSequence");function Sm(e,t,n,i){var a="",s=e.tag,l,c,f;for(l=0,c=n.length;l<c;l+=1)f=n[l],e.replacer&&(f=e.replacer.call(n,String(l),f)),(Pi(e,t+1,f,!0,!0,!1,!0)||typeof f>"u"&&Pi(e,t+1,null,!0,!0,!1,!0))&&((!i||a!=="")&&(a+=Kh(e,t)),e.dump&&sc===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}b(Sm,"writeBlockSequence");function iw(e,t,n){var i="",a=e.tag,s=Object.keys(n),l,c,f,h,d;for(l=0,c=s.length;l<c;l+=1)d="",i!==""&&(d+=", "),e.condenseFlow&&(d+='"'),f=s[l],h=n[f],e.replacer&&(h=e.replacer.call(n,f,h)),Pi(e,t,f,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Pi(e,t,h,!1,!1)&&(d+=e.dump,i+=d));e.tag=a,e.dump="{"+i+"}"}b(iw,"writeFlowMapping");function rw(e,t,n,i){var a="",s=e.tag,l=Object.keys(n),c,f,h,d,m,v;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new Rn("sortKeys must be a boolean or a function");for(c=0,f=l.length;c<f;c+=1)v="",(!i||a!=="")&&(v+=Kh(e,t)),h=l[c],d=n[h],e.replacer&&(d=e.replacer.call(n,h,d)),Pi(e,t+1,h,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&sc===e.dump.charCodeAt(0)?v+="?":v+="? "),v+=e.dump,m&&(v+=Kh(e,t)),Pi(e,t+1,d,!0,m)&&(e.dump&&sc===e.dump.charCodeAt(0)?v+=":":v+=": ",v+=e.dump,a+=v));e.tag=s,e.dump=a||"{}"}b(rw,"writeBlockMapping");function Tm(e,t,n){var i,a,s,l,c,f;for(a=n?e.explicitTypes:e.implicitTypes,s=0,l=a.length;s<l;s+=1)if(c=a[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof t=="object"&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(n?c.multi&&c.representName?e.tag=c.representName(t):e.tag=c.tag:e.tag="?",c.represent){if(f=e.styleMap[c.tag]||c.defaultStyle,FE.call(c.represent)==="[object Function]")i=c.represent(t,f);else if(OE.call(c.represent,f))i=c.represent[f](t,f);else throw new Rn("!<"+c.tag+'> tag resolver accepts not "'+f+'" style');e.dump=i}return!0}return!1}b(Tm,"detectType");function Pi(e,t,n,i,a,s,l){e.tag=null,e.dump=n,Tm(e,n,!1)||Tm(e,n,!0);var c=FE.call(e.dump),f=i,h;i&&(i=e.flowLevel<0||e.flowLevel>t);var d=c==="[object Object]"||c==="[object Array]",m,v;if(d&&(m=e.duplicates.indexOf(n),v=m!==-1),(e.tag!==null&&e.tag!=="?"||v||e.indent!==2&&t>0)&&(a=!1),v&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(d&&v&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),c==="[object Object]")i&&Object.keys(e.dump).length!==0?(rw(e,t,e.dump,a),v&&(e.dump="&ref_"+m+e.dump)):(iw(e,t,e.dump),v&&(e.dump="&ref_"+m+" "+e.dump));else if(c==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?Sm(e,t-1,e.dump,a):Sm(e,t,e.dump,a),v&&(e.dump="&ref_"+m+e.dump)):(nw(e,t,e.dump),v&&(e.dump="&ref_"+m+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&jE(e,e.dump,t,s,f);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Rn("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}b(Pi,"writeNode");function aw(e,t){var n=[],i=[],a,s;for(Qh(e,n,i),a=0,s=i.length;a<s;a+=1)t.duplicates.push(n[i[a]]);t.usedDuplicates=new Array(s)}b(aw,"getDuplicateReferences");function Qh(e,t,n){var i,a,s;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)n.indexOf(a)===-1&&n.push(a);else if(t.push(e),Array.isArray(e))for(a=0,s=e.length;a<s;a+=1)Qh(e[a],t,n);else for(i=Object.keys(e),a=0,s=i.length;a<s;a+=1)Qh(e[i[a]],t,n)}b(Qh,"inspectNode");function vz(e,t){t=t||{};var n=new VE(t);n.noRefs||aw(e,n);var i=e;return n.replacer&&(i=n.replacer.call({"":i},"",i)),Pi(n,0,i,!0,!0)?n.dump+`
`:""}b(vz,"dump$1");function _z(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}b(_z,"renamed");var xz=K2,Cz=Z6.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var nn={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},_T={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function Vl(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=xe(e),t=xe(t);const[n,i]=[e.x,e.y],[a,s]=[t.x,t.y],l=a-n,c=s-i;return{angle:Math.atan(c/l),deltaX:l,deltaY:c}}b(Vl,"calculateDeltaAndAngle");var xe=b(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),Sz=b(e=>({x:b(function(t,n,i){let a=0;const s=xe(i[0]).x<xe(i[i.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(nn,e.arrowTypeStart)){const{angle:x,deltaX:S}=Vl(i[0],i[1]);a=nn[e.arrowTypeStart]*Math.cos(x)*(S>=0?1:-1)}else if(n===i.length-1&&Object.hasOwn(nn,e.arrowTypeEnd)){const{angle:x,deltaX:S}=Vl(i[i.length-1],i[i.length-2]);a=nn[e.arrowTypeEnd]*Math.cos(x)*(S>=0?1:-1)}const l=Math.abs(xe(t).x-xe(i[i.length-1]).x),c=Math.abs(xe(t).y-xe(i[i.length-1]).y),f=Math.abs(xe(t).x-xe(i[0]).x),h=Math.abs(xe(t).y-xe(i[0]).y),d=nn[e.arrowTypeStart],m=nn[e.arrowTypeEnd],v=1;if(l<m&&l>0&&c<m){let x=m+v-l;x*=s==="right"?-1:1,a-=x}if(f<d&&f>0&&h<d){let x=d+v-f;x*=s==="right"?-1:1,a+=x}return xe(t).x+a},"x"),y:b(function(t,n,i){let a=0;const s=xe(i[0]).y<xe(i[i.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(nn,e.arrowTypeStart)){const{angle:x,deltaY:S}=Vl(i[0],i[1]);a=nn[e.arrowTypeStart]*Math.abs(Math.sin(x))*(S>=0?1:-1)}else if(n===i.length-1&&Object.hasOwn(nn,e.arrowTypeEnd)){const{angle:x,deltaY:S}=Vl(i[i.length-1],i[i.length-2]);a=nn[e.arrowTypeEnd]*Math.abs(Math.sin(x))*(S>=0?1:-1)}const l=Math.abs(xe(t).y-xe(i[i.length-1]).y),c=Math.abs(xe(t).x-xe(i[i.length-1]).x),f=Math.abs(xe(t).y-xe(i[0]).y),h=Math.abs(xe(t).x-xe(i[0]).x),d=nn[e.arrowTypeStart],m=nn[e.arrowTypeEnd],v=1;if(l<m&&l>0&&c<m){let x=m+v-l;x*=s==="up"?-1:1,a-=x}if(f<d&&f>0&&h<d){let x=d+v-f;x*=s==="up"?-1:1,a+=x}return xe(t).y+a},"y")}),"getLineFunctionsWithOffset"),Ry=b(({flowchart:e})=>{var a,s;const t=((a=e==null?void 0:e.subGraphTitleMargin)==null?void 0:a.top)??0,n=((s=e==null?void 0:e.subGraphTitleMargin)==null?void 0:s.bottom)??0,i=t+n;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),Tz=b(e=>{const{handDrawnSeed:t}=re();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),_s=b(e=>{const t=bz([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),bz=b(e=>{const t=new Map;return e.forEach(n=>{const[i,a]=n.split(":");t.set(i.trim(),a==null?void 0:a.trim())}),t},"styles2Map"),ow=b(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),bt=b(e=>{const{stylesArray:t}=_s(e),n=[],i=[],a=[],s=[];return t.forEach(l=>{const c=l[0];ow(c)?n.push(l.join(":")+" !important"):(i.push(l.join(":")+" !important"),c.includes("stroke")&&a.push(l.join(":")+" !important"),c==="fill"&&s.push(l.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:a,backgroundStyles:s}},"styles2String"),Tt=b((e,t)=>{var f;const{themeVariables:n,handDrawnSeed:i}=re(),{nodeBorder:a,mainBkg:s}=n,{stylesMap:l}=_s(e);return Object.assign({roughness:.7,fill:l.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||a,seed:i,strokeWidth:((f=l.get("stroke-width"))==null?void 0:f.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:Ez(l.get("stroke-dasharray"))},t)},"userNodeOverrides"),Ez=b(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const a=isNaN(t[0])?0:t[0];return[a,a]}const n=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1];return[n,i]},"getStrokeDashArray"),Il={},Oe={},xT;function wz(){return xT||(xT=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.BLANK_URL=Oe.relativeFirstCharacters=Oe.whitespaceEscapeCharsRegex=Oe.urlSchemeRegex=Oe.ctrlCharactersRegex=Oe.htmlCtrlEntityRegex=Oe.htmlEntitiesRegex=Oe.invalidProtocolRegex=void 0,Oe.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Oe.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Oe.htmlCtrlEntityRegex=/&(newline|tab);/gi,Oe.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Oe.urlSchemeRegex=/^.+(:|&colon;)/gim,Oe.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Oe.relativeFirstCharacters=[".","/"],Oe.BLANK_URL="about:blank"),Oe}var CT;function Az(){if(CT)return Il;CT=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.sanitizeUrl=void 0;var e=wz();function t(l){return e.relativeFirstCharacters.indexOf(l[0])>-1}function n(l){var c=l.replace(e.ctrlCharactersRegex,"");return c.replace(e.htmlEntitiesRegex,function(f,h){return String.fromCharCode(h)})}function i(l){return URL.canParse(l)}function a(l){try{return decodeURIComponent(l)}catch{return l}}function s(l){if(!l)return e.BLANK_URL;var c,f=a(l.trim());do f=n(f).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),f=a(f),c=f.match(e.ctrlCharactersRegex)||f.match(e.htmlEntitiesRegex)||f.match(e.htmlCtrlEntityRegex)||f.match(e.whitespaceEscapeCharsRegex);while(c&&c.length>0);var h=f;if(!h)return e.BLANK_URL;if(t(h))return h;var d=h.trimStart(),m=d.match(e.urlSchemeRegex);if(!m)return h;var v=m[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(v))return e.BLANK_URL;var x=d.replace(/\\/g,"/");if(v==="mailto:"||v.includes("://"))return x;if(v==="http:"||v==="https:"){if(!i(x))return e.BLANK_URL;var S=new URL(x);return S.protocol=S.protocol.toLowerCase(),S.hostname=S.hostname.toLowerCase(),S.toString()}return x}return Il.sanitizeUrl=s,Il}var kz=Az(),sw=typeof global=="object"&&global&&global.Object===Object&&global,Mz=typeof self=="object"&&self&&self.Object===Object&&self,$i=sw||Mz||Function("return this")(),Zh=$i.Symbol,lw=Object.prototype,Rz=lw.hasOwnProperty,Lz=lw.toString,Bl=Zh?Zh.toStringTag:void 0;function Dz(e){var t=Rz.call(e,Bl),n=e[Bl];try{e[Bl]=void 0;var i=!0}catch{}var a=Lz.call(e);return i&&(t?e[Bl]=n:delete e[Bl]),a}var Nz=Object.prototype,Iz=Nz.toString;function Bz(e){return Iz.call(e)}var Fz="[object Null]",Oz="[object Undefined]",ST=Zh?Zh.toStringTag:void 0;function xs(e){return e==null?e===void 0?Oz:Fz:ST&&ST in Object(e)?Dz(e):Bz(e)}function Ka(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pz="[object AsyncFunction]",Uz="[object Function]",$z="[object GeneratorFunction]",zz="[object Proxy]";function Ly(e){if(!Ka(e))return!1;var t=xs(e);return t==Uz||t==$z||t==Pz||t==zz}var Cg=$i["__core-js_shared__"],TT=(function(){var e=/[^.]+$/.exec(Cg&&Cg.keys&&Cg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function qz(e){return!!TT&&TT in e}var Hz=Function.prototype,Gz=Hz.toString;function Qa(e){if(e!=null){try{return Gz.call(e)}catch{}try{return e+""}catch{}}return""}var Vz=/[\\^$.*+?()[\]{}|]/g,Yz=/^\[object .+?Constructor\]$/,Wz=Function.prototype,Xz=Object.prototype,Jz=Wz.toString,Kz=Xz.hasOwnProperty,Qz=RegExp("^"+Jz.call(Kz).replace(Vz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zz(e){if(!Ka(e)||qz(e))return!1;var t=Ly(e)?Qz:Yz;return t.test(Qa(e))}function jz(e,t){return e==null?void 0:e[t]}function Za(e,t){var n=jz(e,t);return Zz(n)?n:void 0}var uc=Za(Object,"create");function tq(){this.__data__=uc?uc(null):{},this.size=0}function eq(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nq="__lodash_hash_undefined__",iq=Object.prototype,rq=iq.hasOwnProperty;function aq(e){var t=this.__data__;if(uc){var n=t[e];return n===nq?void 0:n}return rq.call(t,e)?t[e]:void 0}var oq=Object.prototype,sq=oq.hasOwnProperty;function lq(e){var t=this.__data__;return uc?t[e]!==void 0:sq.call(t,e)}var cq="__lodash_hash_undefined__";function uq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=uc&&t===void 0?cq:t,this}function Ya(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ya.prototype.clear=tq;Ya.prototype.delete=eq;Ya.prototype.get=aq;Ya.prototype.has=lq;Ya.prototype.set=uq;function hq(){this.__data__=[],this.size=0}function Df(e,t){return e===t||e!==e&&t!==t}function Nf(e,t){for(var n=e.length;n--;)if(Df(e[n][0],t))return n;return-1}var fq=Array.prototype,dq=fq.splice;function pq(e){var t=this.__data__,n=Nf(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():dq.call(t,n,1),--this.size,!0}function gq(e){var t=this.__data__,n=Nf(t,e);return n<0?void 0:t[n][1]}function mq(e){return Nf(this.__data__,e)>-1}function yq(e,t){var n=this.__data__,i=Nf(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Sr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Sr.prototype.clear=hq;Sr.prototype.delete=pq;Sr.prototype.get=gq;Sr.prototype.has=mq;Sr.prototype.set=yq;var hc=Za($i,"Map");function vq(){this.size=0,this.__data__={hash:new Ya,map:new(hc||Sr),string:new Ya}}function _q(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function If(e,t){var n=e.__data__;return _q(t)?n[typeof t=="string"?"string":"hash"]:n.map}function xq(e){var t=If(this,e).delete(e);return this.size-=t?1:0,t}function Cq(e){return If(this,e).get(e)}function Sq(e){return If(this,e).has(e)}function Tq(e,t){var n=If(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function oa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}oa.prototype.clear=vq;oa.prototype.delete=xq;oa.prototype.get=Cq;oa.prototype.has=Sq;oa.prototype.set=Tq;var bq="Expected a function";function xc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(bq);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],s=n.cache;if(s.has(a))return s.get(a);var l=e.apply(this,i);return n.cache=s.set(a,l)||s,l};return n.cache=new(xc.Cache||oa),n}xc.Cache=oa;function Eq(){this.__data__=new Sr,this.size=0}function wq(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Aq(e){return this.__data__.get(e)}function kq(e){return this.__data__.has(e)}var Mq=200;function Rq(e,t){var n=this.__data__;if(n instanceof Sr){var i=n.__data__;if(!hc||i.length<Mq-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new oa(i)}return n.set(e,t),this.size=n.size,this}function Cs(e){var t=this.__data__=new Sr(e);this.size=t.size}Cs.prototype.clear=Eq;Cs.prototype.delete=wq;Cs.prototype.get=Aq;Cs.prototype.has=kq;Cs.prototype.set=Rq;var jh=(function(){try{var e=Za(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Dy(e,t,n){t=="__proto__"&&jh?jh(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function bm(e,t,n){(n!==void 0&&!Df(e[t],n)||n===void 0&&!(t in e))&&Dy(e,t,n)}function Lq(e){return function(t,n,i){for(var a=-1,s=Object(t),l=i(t),c=l.length;c--;){var f=l[++a];if(n(s[f],f,s)===!1)break}return t}}var Dq=Lq(),cw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bT=cw&&typeof module=="object"&&module&&!module.nodeType&&module,Nq=bT&&bT.exports===cw,ET=Nq?$i.Buffer:void 0,wT=ET?ET.allocUnsafe:void 0;function Iq(e,t){if(t)return e.slice();var n=e.length,i=wT?wT(n):new e.constructor(n);return e.copy(i),i}var AT=$i.Uint8Array;function Bq(e){var t=new e.constructor(e.byteLength);return new AT(t).set(new AT(e)),t}function Fq(e,t){var n=t?Bq(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oq(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var kT=Object.create,Pq=(function(){function e(){}return function(t){if(!Ka(t))return{};if(kT)return kT(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function uw(e,t){return function(n){return e(t(n))}}var hw=uw(Object.getPrototypeOf,Object),Uq=Object.prototype;function Bf(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Uq;return e===n}function $q(e){return typeof e.constructor=="function"&&!Bf(e)?Pq(hw(e)):{}}function Cc(e){return e!=null&&typeof e=="object"}var zq="[object Arguments]";function MT(e){return Cc(e)&&xs(e)==zq}var fw=Object.prototype,qq=fw.hasOwnProperty,Hq=fw.propertyIsEnumerable,tf=MT((function(){return arguments})())?MT:function(e){return Cc(e)&&qq.call(e,"callee")&&!Hq.call(e,"callee")},ef=Array.isArray,Gq=9007199254740991;function dw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gq}function Ff(e){return e!=null&&dw(e.length)&&!Ly(e)}function Vq(e){return Cc(e)&&Ff(e)}function Yq(){return!1}var pw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,RT=pw&&typeof module=="object"&&module&&!module.nodeType&&module,Wq=RT&&RT.exports===pw,LT=Wq?$i.Buffer:void 0,Xq=LT?LT.isBuffer:void 0,Ny=Xq||Yq,Jq="[object Object]",Kq=Function.prototype,Qq=Object.prototype,gw=Kq.toString,Zq=Qq.hasOwnProperty,jq=gw.call(Object);function tH(e){if(!Cc(e)||xs(e)!=Jq)return!1;var t=hw(e);if(t===null)return!0;var n=Zq.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&gw.call(n)==jq}var eH="[object Arguments]",nH="[object Array]",iH="[object Boolean]",rH="[object Date]",aH="[object Error]",oH="[object Function]",sH="[object Map]",lH="[object Number]",cH="[object Object]",uH="[object RegExp]",hH="[object Set]",fH="[object String]",dH="[object WeakMap]",pH="[object ArrayBuffer]",gH="[object DataView]",mH="[object Float32Array]",yH="[object Float64Array]",vH="[object Int8Array]",_H="[object Int16Array]",xH="[object Int32Array]",CH="[object Uint8Array]",SH="[object Uint8ClampedArray]",TH="[object Uint16Array]",bH="[object Uint32Array]",ye={};ye[mH]=ye[yH]=ye[vH]=ye[_H]=ye[xH]=ye[CH]=ye[SH]=ye[TH]=ye[bH]=!0;ye[eH]=ye[nH]=ye[pH]=ye[iH]=ye[gH]=ye[rH]=ye[aH]=ye[oH]=ye[sH]=ye[lH]=ye[cH]=ye[uH]=ye[hH]=ye[fH]=ye[dH]=!1;function EH(e){return Cc(e)&&dw(e.length)&&!!ye[xs(e)]}function wH(e){return function(t){return e(t)}}var mw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tc=mw&&typeof module=="object"&&module&&!module.nodeType&&module,AH=tc&&tc.exports===mw,Sg=AH&&sw.process,DT=(function(){try{var e=tc&&tc.require&&tc.require("util").types;return e||Sg&&Sg.binding&&Sg.binding("util")}catch{}})(),NT=DT&&DT.isTypedArray,Iy=NT?wH(NT):EH;function Em(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var kH=Object.prototype,MH=kH.hasOwnProperty;function RH(e,t,n){var i=e[t];(!(MH.call(e,t)&&Df(i,n))||n===void 0&&!(t in e))&&Dy(e,t,n)}function LH(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],f=void 0;f===void 0&&(f=e[c]),a?Dy(n,c,f):RH(n,c,f)}return n}function DH(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var NH=9007199254740991,IH=/^(?:0|[1-9]\d*)$/;function yw(e,t){var n=typeof e;return t=t??NH,!!t&&(n=="number"||n!="symbol"&&IH.test(e))&&e>-1&&e%1==0&&e<t}var BH=Object.prototype,FH=BH.hasOwnProperty;function OH(e,t){var n=ef(e),i=!n&&tf(e),a=!n&&!i&&Ny(e),s=!n&&!i&&!a&&Iy(e),l=n||i||a||s,c=l?DH(e.length,String):[],f=c.length;for(var h in e)(t||FH.call(e,h))&&!(l&&(h=="length"||a&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||yw(h,f)))&&c.push(h);return c}function PH(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var UH=Object.prototype,$H=UH.hasOwnProperty;function zH(e){if(!Ka(e))return PH(e);var t=Bf(e),n=[];for(var i in e)i=="constructor"&&(t||!$H.call(e,i))||n.push(i);return n}function vw(e){return Ff(e)?OH(e,!0):zH(e)}function qH(e){return LH(e,vw(e))}function HH(e,t,n,i,a,s,l){var c=Em(e,n),f=Em(t,n),h=l.get(f);if(h){bm(e,n,h);return}var d=s?s(c,f,n+"",e,t,l):void 0,m=d===void 0;if(m){var v=ef(f),x=!v&&Ny(f),S=!v&&!x&&Iy(f);d=f,v||x||S?ef(c)?d=c:Vq(c)?d=Oq(c):x?(m=!1,d=Iq(f,!0)):S?(m=!1,d=Fq(f,!0)):d=[]:tH(f)||tf(f)?(d=c,tf(c)?d=qH(c):(!Ka(c)||Ly(c))&&(d=$q(f))):m=!1}m&&(l.set(f,d),a(d,f,i,s,l),l.delete(f)),bm(e,n,d)}function _w(e,t,n,i,a){e!==t&&Dq(t,function(s,l){if(a||(a=new Cs),Ka(s))HH(e,t,l,n,_w,i,a);else{var c=i?i(Em(e,l),s,l+"",e,t,a):void 0;c===void 0&&(c=s),bm(e,l,c)}},vw)}function xw(e){return e}function GH(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var IT=Math.max;function VH(e,t,n){return t=IT(t===void 0?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=IT(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(l),GH(e,this,c)}}function YH(e){return function(){return e}}var WH=jh?function(e,t){return jh(e,"toString",{configurable:!0,enumerable:!1,value:YH(t),writable:!0})}:xw,XH=800,JH=16,KH=Date.now;function QH(e){var t=0,n=0;return function(){var i=KH(),a=JH-(i-n);if(n=i,a>0){if(++t>=XH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ZH=QH(WH);function jH(e,t){return ZH(VH(e,t,xw),e+"")}function t8(e,t,n){if(!Ka(n))return!1;var i=typeof t;return(i=="number"?Ff(n)&&yw(t,n.length):i=="string"&&t in n)?Df(n[t],e):!1}function e8(e){return jH(function(t,n){var i=-1,a=n.length,s=a>1?n[a-1]:void 0,l=a>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,l&&t8(n[0],n[1],l)&&(s=a<3?void 0:s,a=1),t=Object(t);++i<a;){var c=n[i];c&&e(t,c,i,s)}return t})}var n8=e8(function(e,t,n){_w(e,t,n)}),i8="",r8={curveBasis:yh,curveBasisClosed:o6,curveBasisOpen:s6,curveBumpX:a2,curveBumpY:o2,curveBundle:l6,curveCardinalClosed:c6,curveCardinalOpen:u6,curveCardinal:u2,curveCatmullRomClosed:h6,curveCatmullRomOpen:f6,curveCatmullRom:f2,curveLinear:qh,curveLinearClosed:d6,curveMonotoneX:v2,curveMonotoneY:_2,curveNatural:C2,curveStep:S2,curveStepAfter:b2,curveStepBefore:T2},a8=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,o8=b(function(e,t){const n=Cw(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const l=n.map(c=>c.args);Lh(l),i=Pe(i,[...l])}else i=n.args;if(!i)return;let a=ry(e,t);const s="config";return i[s]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),i[a]=i[s],delete i[s]),i},"detectInit"),Cw=b(function(e,t=null){var n,i;try{const a=new RegExp(`[%]{2}(?![{]${a8.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(a,"").replace(/'/gm,'"'),ot.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let s;const l=[];for(;(s=Zl.exec(e))!==null;)if(s.index===Zl.lastIndex&&Zl.lastIndex++,s&&!t||t&&((n=s[1])!=null&&n.match(t))||t&&((i=s[2])!=null&&i.match(t))){const c=s[1]?s[1]:s[2],f=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;l.push({type:c,args:f})}return l.length===0?{type:e,args:null}:l.length===1?l[0]:l}catch(a){return ot.error(`ERROR: ${a.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),s8=b(function(e){return e.replace(Zl,"")},"removeDirectives"),l8=b(function(e,t){for(const[n,i]of t.entries())if(i.match(e))return n;return-1},"isSubstringInArray");function By(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return r8[n]??t}b(By,"interpolateToCurve");function Sw(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?kz.sanitizeUrl(n):n}b(Sw,"formatUrl");var c8=b((e,...t)=>{const n=e.split("."),i=n.length-1,a=n[i];let s=window;for(let l=0;l<i;l++)if(s=s[n[l]],!s){ot.error(`Function name: ${e} not found in window`);return}s[a](...t)},"runFunc");function Fy(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}b(Fy,"distance");function Tw(e){let t,n=0;e.forEach(a=>{n+=Fy(a,t),t=a});const i=n/2;return Oy(e,i)}b(Tw,"traverseEdge");function bw(e){return e.length===1?e[0]:Tw(e)}b(bw,"calcLabelPosition");var BT=b((e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber"),Oy=b((e,t)=>{let n,i=t;for(const a of e){if(n){const s=Fy(a,n);if(s===0)return n;if(s<i)i-=s;else{const l=i/s;if(l<=0)return n;if(l>=1)return{x:a.x,y:a.y};if(l>0&&l<1)return{x:BT((1-l)*n.x+l*a.x,5),y:BT((1-l)*n.y+l*a.y,5)}}}n=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),u8=b((e,t,n)=>{ot.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const a=Oy(t,25),s=e?10:5,l=Math.atan2(t[0].y-a.y,t[0].x-a.x),c={x:0,y:0};return c.x=Math.sin(l)*s+(t[0].x+a.x)/2,c.y=-Math.cos(l)*s+(t[0].y+a.y)/2,c},"calcCardinalityPosition");function Ew(e,t,n){const i=structuredClone(n);ot.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const a=25+e,s=Oy(i,a),l=10+e*.5,c=Math.atan2(i[0].y-s.y,i[0].x-s.x),f={x:0,y:0};return t==="start_left"?(f.x=Math.sin(c+Math.PI)*l+(i[0].x+s.x)/2,f.y=-Math.cos(c+Math.PI)*l+(i[0].y+s.y)/2):t==="end_right"?(f.x=Math.sin(c-Math.PI)*l+(i[0].x+s.x)/2-5,f.y=-Math.cos(c-Math.PI)*l+(i[0].y+s.y)/2-5):t==="end_left"?(f.x=Math.sin(c)*l+(i[0].x+s.x)/2-5,f.y=-Math.cos(c)*l+(i[0].y+s.y)/2-5):(f.x=Math.sin(c)*l+(i[0].x+s.x)/2,f.y=-Math.cos(c)*l+(i[0].y+s.y)/2),f}b(Ew,"calcTerminalLabelPosition");function ww(e){let t="",n="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":t=t+i+";");return{style:t,labelStyle:n}}b(ww,"getStylesFromArray");var FT=0,h8=b(()=>(FT++,"id-"+Math.random().toString(36).substr(2,12)+"-"+FT),"generateId");function Aw(e){let t="";const n="0123456789abcdef",i=n.length;for(let a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*i));return t}b(Aw,"makeRandomHex");var f8=b(e=>Aw(e.length),"random"),d8=b(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),p8=b(function(e,t){const n=t.text.replace(vs.lineBreakRegex," "),[,i]=Of(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",i),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),t.class!==void 0&&a.attr("class",t.class);const s=a.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(n),a},"drawSimpleText"),g8=xc((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),vs.lineBreakRegex.test(e)))return e;const i=e.split(" ").filter(Boolean),a=[];let s="";return i.forEach((l,c)=>{const f=_r(`${l} `,n),h=_r(s,n);if(f>t){const{hyphenatedStrings:v,remainingWord:x}=m8(l,t,"-",n);a.push(s,...v),s=x}else h+f>=t?(a.push(s),s=l):s=[s,l].filter(Boolean).join(" ");c+1===i.length&&a.push(s)}),a.filter(l=>l!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),m8=xc((e,t,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const a=[...e],s=[];let l="";return a.forEach((c,f)=>{const h=`${l}${c}`;if(_r(h,i)>=t){const m=f+1,v=a.length===m,x=`${h}${n}`;s.push(v?h:x),l=""}else l=h}),{hyphenatedStrings:s,remainingWord:l}},(e,t,n="-",i)=>`${e}${t}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function kw(e,t){return Py(e,t).height}b(kw,"calculateTextHeight");function _r(e,t){return Py(e,t).width}b(_r,"calculateTextWidth");var Py=xc((e,t)=>{const{fontSize:n=12,fontFamily:i="Arial",fontWeight:a=400}=t;if(!e)return{width:0,height:0};const[,s]=Of(n),l=["sans-serif",i],c=e.split(vs.lineBreakRegex),f=[],h=Kt("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const d=h.append("svg");for(const v of l){let x=0;const S={width:0,height:0,lineHeight:0};for(const T of c){const E=d8();E.text=T||i8;const A=p8(d,E).style("font-size",s).style("font-weight",a).style("font-family",v),k=(A._groups||A)[0][0].getBBox();if(k.width===0&&k.height===0)throw new Error("svg element not in render tree");S.width=Math.round(Math.max(S.width,k.width)),x=Math.round(k.height),S.height+=x,S.lineHeight=Math.round(Math.max(S.lineHeight,x))}f.push(S)}d.remove();const m=isNaN(f[1].height)||isNaN(f[1].width)||isNaN(f[1].lineHeight)||f[0].height>f[1].height&&f[0].width>f[1].width&&f[0].lineHeight>f[1].lineHeight?0:1;return f[m]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),as,y8=(as=class{constructor(t=!1,n){this.count=0,this.count=n?n.length:0,this.next=t?()=>this.count++:()=>Date.now()}},b(as,"InitIDGenerator"),as),th,v8=b(function(e){return th=th||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),th.innerHTML=e,unescape(th.textContent)},"entityDecode");function Uy(e){return"str"in e}b(Uy,"isDetailedError");var _8=b((e,t,n,i)=>{var s;if(!i)return;const a=(s=e.node())==null?void 0:s.getBBox();a&&e.append("text").text(i).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-n).attr("class",t)},"insertTitle"),Of=b(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function $y(e,t){return n8({},e,t)}b($y,"cleanAndMerge");var vi={assignWithDepth:Pe,wrapLabel:g8,calculateTextHeight:kw,calculateTextWidth:_r,calculateTextDimensions:Py,cleanAndMerge:$y,detectInit:o8,detectDirective:Cw,isSubstringInArray:l8,interpolateToCurve:By,calcLabelPosition:bw,calcCardinalityPosition:u8,calcTerminalLabelPosition:Ew,formatUrl:Sw,getStylesFromArray:ww,generateId:h8,random:f8,runFunc:c8,entityDecode:v8,insertTitle:_8,isLabelCoordinateInPath:Mw,parseFontSize:Of,InitIDGenerator:y8},x8=b(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?""+i+"":""+i+""}),t},"encodeEntities"),ja=b(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),CW=b((e,t,{counter:n=0,prefix:i,suffix:a},s)=>s||`${i?`${i}_`:""}${e}_${t}_${n}${a?`_${a}`:""}`,"getEdgeId");function sn(e){return e??null}b(sn,"handleUndefinedAttr");function Mw(e,t){const n=Math.round(e.x),i=Math.round(e.y),a=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return a.includes(n.toString())||a.includes(i.toString())}b(Mw,"isLabelCoordinateInPath");const C8=Object.freeze({left:0,top:0,width:16,height:16}),nf=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Rw=Object.freeze({...C8,...nf}),S8=Object.freeze({...Rw,body:"",hidden:!1}),T8=Object.freeze({width:null,height:null}),b8=Object.freeze({...T8,...nf}),E8=(e,t,n,i="")=>{const a=e.split(":");if(e.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;i=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const c=a.pop(),f=a.pop(),h={provider:a.length>0?a[0]:i,prefix:f,name:c};return Tg(h)?h:null}const s=a[0],l=s.split("-");if(l.length>1){const c={provider:i,prefix:l.shift(),name:l.join("-")};return Tg(c)?c:null}if(n&&i===""){const c={provider:i,prefix:"",name:s};return Tg(c,n)?c:null}return null},Tg=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function w8(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(n.rotate=i),n}function OT(e,t){const n=w8(e,t);for(const i in S8)i in nf?i in e&&!(i in n)&&(n[i]=nf[i]):i in t?n[i]=t[i]:i in e&&(n[i]=e[i]);return n}function A8(e,t){const n=e.icons,i=e.aliases||Object.create(null),a=Object.create(null);function s(l){if(n[l])return a[l]=[];if(!(l in a)){a[l]=null;const c=i[l]&&i[l].parent,f=c&&s(c);f&&(a[l]=[c].concat(f))}return a[l]}return(t||Object.keys(n).concat(Object.keys(i))).forEach(s),a}function PT(e,t,n){const i=e.icons,a=e.aliases||Object.create(null);let s={};function l(c){s=OT(i[c]||a[c],s)}return l(t),n.forEach(l),OT(e,s)}function k8(e,t){if(e.icons[t])return PT(e,t,[]);const n=A8(e,[t])[t];return n?PT(e,t,n):null}const M8=/(-?[0-9.]*[0-9]+[0-9.]*)/g,R8=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function UT(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const i=e.split(M8);if(i===null||!i.length)return e;const a=[];let s=i.shift(),l=R8.test(s);for(;;){if(l){const c=parseFloat(s);isNaN(c)?a.push(s):a.push(Math.ceil(c*t*n)/n)}else a.push(s);if(s=i.shift(),s===void 0)return a.join("");l=!l}}function L8(e,t="defs"){let n="";const i=e.indexOf("<"+t);for(;i>=0;){const a=e.indexOf(">",i),s=e.indexOf("</"+t);if(a===-1||s===-1)break;const l=e.indexOf(">",s);if(l===-1)break;n+=e.slice(a+1,s).trim(),e=e.slice(0,i).trim()+e.slice(l+1)}return{defs:n,content:e}}function D8(e,t){return e?"<defs>"+e+"</defs>"+t:t}function N8(e,t,n){const i=L8(e);return D8(i.defs,t+i.content+n)}const I8=e=>e==="unset"||e==="undefined"||e==="none";function B8(e,t){const n={...Rw,...e},i={...b8,...t},a={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,i].forEach(T=>{const E=[],A=T.hFlip,k=T.vFlip;let R=T.rotate;A?k?R+=2:(E.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),E.push("scale(-1 1)"),a.top=a.left=0):k&&(E.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),E.push("scale(1 -1)"),a.top=a.left=0);let I;switch(R<0&&(R-=Math.floor(R/4)*4),R=R%4,R){case 1:I=a.height/2+a.top,E.unshift("rotate(90 "+I.toString()+" "+I.toString()+")");break;case 2:E.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:I=a.width/2+a.left,E.unshift("rotate(-90 "+I.toString()+" "+I.toString()+")");break}R%2===1&&(a.left!==a.top&&(I=a.left,a.left=a.top,a.top=I),a.width!==a.height&&(I=a.width,a.width=a.height,a.height=I)),E.length&&(s=N8(s,'<g transform="'+E.join(" ")+'">',"</g>"))});const l=i.width,c=i.height,f=a.width,h=a.height;let d,m;l===null?(m=c===null?"1em":c==="auto"?h:c,d=UT(m,f/h)):(d=l==="auto"?f:l,m=c===null?UT(d,h/f):c==="auto"?h:c);const v={},x=(T,E)=>{I8(E)||(v[T]=E.toString())};x("width",d),x("height",m);const S=[a.left,a.top,f,h];return v.viewBox=S.join(" "),{attributes:v,viewBox:S,body:s}}const F8=/\sid="(\S+)"/g,$T=new Map;function O8(e){e=e.replace(/[0-9]+$/,"")||"a";const t=$T.get(e)||0;return $T.set(e,t+1),t?`${e}${t}`:e}function P8(e){const t=[];let n;for(;n=F8.exec(e);)t.push(n[1]);if(!t.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(a=>{const s=O8(a),l=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function U8(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)n+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function zy(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var to=zy();function Lw(e){to=e}var ec={exec:()=>null};function ee(e,t=""){let n=typeof e=="string"?e:e.source,i={replace:(a,s)=>{let l=typeof s=="string"?s:s.source;return l=l.replace(mn.caret,"$1"),n=n.replace(a,l),i},getRegex:()=>new RegExp(n,t)};return i}var $8=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),mn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},z8=/^(?:[ \t]*(?:\n|$))+/,q8=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,H8=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Sc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,G8=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,qy=/(?:[*+-]|\d{1,9}[.)])/,Dw=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Nw=ee(Dw).replace(/bull/g,qy).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),V8=ee(Dw).replace(/bull/g,qy).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Hy=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Y8=/^[^\n]+/,Gy=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,W8=ee(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Gy).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),X8=ee(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,qy).getRegex(),Pf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vy=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,J8=ee("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Vy).replace("tag",Pf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Iw=ee(Hy).replace("hr",Sc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pf).getRegex(),K8=ee(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Iw).getRegex(),Yy={blockquote:K8,code:q8,def:W8,fences:H8,heading:G8,hr:Sc,html:J8,lheading:Nw,list:X8,newline:z8,paragraph:Iw,table:ec,text:Y8},zT=ee("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Sc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pf).getRegex(),Q8={...Yy,lheading:V8,table:zT,paragraph:ee(Hy).replace("hr",Sc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",zT).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pf).getRegex()},Z8={...Yy,html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vy).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ec,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ee(Hy).replace("hr",Sc).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Nw).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},j8=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tG=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Bw=/^( {2,}|\\)\n(?!\s*$)/,eG=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Uf=/[\p{P}\p{S}]/u,Wy=/[\s\p{P}\p{S}]/u,Fw=/[^\s\p{P}\p{S}]/u,nG=ee(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Wy).getRegex(),Ow=/(?!~)[\p{P}\p{S}]/u,iG=/(?!~)[\s\p{P}\p{S}]/u,rG=/(?:[^\s\p{P}\p{S}]|~)/u,aG=ee(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",$8?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Pw=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,oG=ee(Pw,"u").replace(/punct/g,Uf).getRegex(),sG=ee(Pw,"u").replace(/punct/g,Ow).getRegex(),Uw="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",lG=ee(Uw,"gu").replace(/notPunctSpace/g,Fw).replace(/punctSpace/g,Wy).replace(/punct/g,Uf).getRegex(),cG=ee(Uw,"gu").replace(/notPunctSpace/g,rG).replace(/punctSpace/g,iG).replace(/punct/g,Ow).getRegex(),uG=ee("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Fw).replace(/punctSpace/g,Wy).replace(/punct/g,Uf).getRegex(),hG=ee(/\\(punct)/,"gu").replace(/punct/g,Uf).getRegex(),fG=ee(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),dG=ee(Vy).replace("(?:-->|$)","-->").getRegex(),pG=ee("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",dG).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),rf=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,gG=ee(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",rf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$w=ee(/^!?\[(label)\]\[(ref)\]/).replace("label",rf).replace("ref",Gy).getRegex(),zw=ee(/^!?\[(ref)\](?:\[\])?/).replace("ref",Gy).getRegex(),mG=ee("reflink|nolink(?!\\()","g").replace("reflink",$w).replace("nolink",zw).getRegex(),qT=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Xy={_backpedal:ec,anyPunctuation:hG,autolink:fG,blockSkip:aG,br:Bw,code:tG,del:ec,emStrongLDelim:oG,emStrongRDelimAst:lG,emStrongRDelimUnd:uG,escape:j8,link:gG,nolink:zw,punctuation:nG,reflink:$w,reflinkSearch:mG,tag:pG,text:eG,url:ec},yG={...Xy,link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",rf).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rf).getRegex()},wm={...Xy,emStrongRDelimAst:cG,emStrongLDelim:sG,url:ee(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",qT).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ee(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",qT).getRegex()},vG={...wm,br:ee(Bw).replace("{2,}","*").getRegex(),text:ee(wm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},eh={normal:Yy,gfm:Q8,pedantic:Z8},Fl={normal:Xy,gfm:wm,breaks:vG,pedantic:yG},_G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},HT=e=>_G[e];function Ni(e,t){if(t){if(mn.escapeTest.test(e))return e.replace(mn.escapeReplace,HT)}else if(mn.escapeTestNoEncode.test(e))return e.replace(mn.escapeReplaceNoEncode,HT);return e}function GT(e){try{e=encodeURI(e).replace(mn.percentDecode,"%")}catch{return null}return e}function VT(e,t){var s;let n=e.replace(mn.findPipe,(l,c,f)=>{let h=!1,d=c;for(;--d>=0&&f[d]==="\\";)h=!h;return h?"|":" |"}),i=n.split(mn.splitPipe),a=0;if(i[0].trim()||i.shift(),i.length>0&&!((s=i.at(-1))!=null&&s.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;a<i.length;a++)i[a]=i[a].trim().replace(mn.slashPipe,"|");return i}function Ol(e,t,n){let i=e.length;if(i===0)return"";let a=0;for(;a<i&&e.charAt(i-a-1)===t;)a++;return e.slice(0,i-a)}function xG(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function YT(e,t,n,i,a){let s=t.href,l=t.title||null,c=e[1].replace(a.other.outputLinkReplace,"$1");i.state.inLink=!0;let f={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:l,text:c,tokens:i.inlineTokens(c)};return i.state.inLink=!1,f}function CG(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(i===null)return t;let a=i[1];return t.split(`
`).map(s=>{let l=s.match(n.other.beginningSpace);if(l===null)return s;let[c]=l;return c.length>=a.length?s.slice(a.length):s}).join(`
`)}var af=class{constructor(t){fe(this,"options");fe(this,"rules");fe(this,"lexer");this.options=t||to}space(t){let n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){let n=this.rules.block.code.exec(t);if(n){let i=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Ol(i,`
`)}}}fences(t){let n=this.rules.block.fences.exec(t);if(n){let i=n[0],a=CG(i,n[3]||"",this.rules);return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:a}}}heading(t){let n=this.rules.block.heading.exec(t);if(n){let i=n[2].trim();if(this.rules.other.endingHash.test(i)){let a=Ol(i,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(i=a.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){let n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:Ol(n[0],`
`)}}blockquote(t){let n=this.rules.block.blockquote.exec(t);if(n){let i=Ol(n[0],`
`).split(`
`),a="",s="",l=[];for(;i.length>0;){let c=!1,f=[],h;for(h=0;h<i.length;h++)if(this.rules.other.blockquoteStart.test(i[h]))f.push(i[h]),c=!0;else if(!c)f.push(i[h]);else break;i=i.slice(h);let d=f.join(`
`),m=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${d}`:d,s=s?`${s}
${m}`:m;let v=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,l,!0),this.lexer.state.top=v,i.length===0)break;let x=l.at(-1);if((x==null?void 0:x.type)==="code")break;if((x==null?void 0:x.type)==="blockquote"){let S=x,T=S.raw+`
`+i.join(`
`),E=this.blockquote(T);l[l.length-1]=E,a=a.substring(0,a.length-S.raw.length)+E.raw,s=s.substring(0,s.length-S.text.length)+E.text;break}else if((x==null?void 0:x.type)==="list"){let S=x,T=S.raw+`
`+i.join(`
`),E=this.list(T);l[l.length-1]=E,a=a.substring(0,a.length-x.raw.length)+E.raw,s=s.substring(0,s.length-S.raw.length)+E.raw,i=T.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:l,text:s}}}list(t){let n=this.rules.block.list.exec(t);if(n){let i=n[1].trim(),a=i.length>1,s={type:"list",raw:"",ordered:a,start:a?+i.slice(0,-1):"",loose:!1,items:[]};i=a?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=a?i:"[*+-]");let l=this.rules.other.listItemRegex(i),c=!1;for(;t;){let h=!1,d="",m="";if(!(n=l.exec(t))||this.rules.block.hr.test(t))break;d=n[0],t=t.substring(d.length);let v=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),x=t.split(`
`,1)[0],S=!v.trim(),T=0;if(this.options.pedantic?(T=2,m=v.trimStart()):S?T=n[1].length+1:(T=n[2].search(this.rules.other.nonSpaceChar),T=T>4?1:T,m=v.slice(T),T+=n[1].length),S&&this.rules.other.blankLine.test(x)&&(d+=x+`
`,t=t.substring(x.length+1),h=!0),!h){let k=this.rules.other.nextBulletRegex(T),R=this.rules.other.hrRegex(T),I=this.rules.other.fencesBeginRegex(T),B=this.rules.other.headingBeginRegex(T),L=this.rules.other.htmlBeginRegex(T);for(;t;){let N=t.split(`
`,1)[0],Z;if(x=N,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),Z=x):Z=x.replace(this.rules.other.tabCharGlobal,"    "),I.test(x)||B.test(x)||L.test(x)||k.test(x)||R.test(x))break;if(Z.search(this.rules.other.nonSpaceChar)>=T||!x.trim())m+=`
`+Z.slice(T);else{if(S||v.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||I.test(v)||B.test(v)||R.test(v))break;m+=`
`+x}!S&&!x.trim()&&(S=!0),d+=N+`
`,t=t.substring(N.length+1),v=Z.slice(T)}}s.loose||(c?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(c=!0));let E=null,A;this.options.gfm&&(E=this.rules.other.listIsTask.exec(m),E&&(A=E[0]!=="[ ] ",m=m.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!E,checked:A,loose:!1,text:m,tokens:[]}),s.raw+=d}let f=s.items.at(-1);if(f)f.raw=f.raw.trimEnd(),f.text=f.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){let d=s.items[h].tokens.filter(v=>v.type==="space"),m=d.length>0&&d.some(v=>this.rules.other.anyLine.test(v.raw));s.loose=m}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(t){let n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){let n=this.rules.block.def.exec(t);if(n){let i=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:a,title:s}}}table(t){var c;let n=this.rules.block.table.exec(t);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let i=VT(n[1]),a=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(c=n[3])!=null&&c.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===a.length){for(let f of a)this.rules.other.tableAlignRight.test(f)?l.align.push("right"):this.rules.other.tableAlignCenter.test(f)?l.align.push("center"):this.rules.other.tableAlignLeft.test(f)?l.align.push("left"):l.align.push(null);for(let f=0;f<i.length;f++)l.header.push({text:i[f],tokens:this.lexer.inline(i[f]),header:!0,align:l.align[f]});for(let f of s)l.rows.push(VT(f,l.header.length).map((h,d)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:l.align[d]})));return l}}lheading(t){let n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){let n=this.rules.block.paragraph.exec(t);if(n){let i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(t){let n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){let n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(t){let n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){let n=this.rules.inline.link.exec(t);if(n){let i=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let l=Ol(i.slice(0,-1),"\\");if((i.length-l.length)%2===0)return}else{let l=xG(n[2],"()");if(l===-2)return;if(l>-1){let c=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let a=n[2],s="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(a);l&&(a=l[1],s=l[3])}else s=n[3]?n[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?a=a.slice(1):a=a.slice(1,-1)),YT(n,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(t,n){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let a=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[a.toLowerCase()];if(!s){let l=i[0].charAt(0);return{type:"text",raw:l,text:l}}return YT(i,s,i[0],this.lexer,this.rules)}}emStrong(t,n,i=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!(!a||a[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!i||this.rules.inline.punctuation.exec(i))){let s=[...a[0]].length-1,l,c,f=s,h=0,d=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*t.length+s);(a=d.exec(n))!=null;){if(l=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!l)continue;if(c=[...l].length,a[3]||a[4]){f+=c;continue}else if((a[5]||a[6])&&s%3&&!((s+c)%3)){h+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+h);let m=[...a[0]][0].length,v=t.slice(0,s+a.index+m+c);if(Math.min(s,c)%2){let S=v.slice(1,-1);return{type:"em",raw:v,text:S,tokens:this.lexer.inlineTokens(S)}}let x=v.slice(2,-2);return{type:"strong",raw:v,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(t){let n=this.rules.inline.code.exec(t);if(n){let i=n[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(i),s=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return a&&s&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:n[0],text:i}}}br(t){let n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){let n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){let n=this.rules.inline.autolink.exec(t);if(n){let i,a;return n[2]==="@"?(i=n[1],a="mailto:"+i):(i=n[1],a=i),{type:"link",raw:n[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}url(t){var i;let n;if(n=this.rules.inline.url.exec(t)){let a,s;if(n[2]==="@")a=n[0],s="mailto:"+a;else{let l;do l=n[0],n[0]=((i=this.rules.inline._backpedal.exec(n[0]))==null?void 0:i[0])??"";while(l!==n[0]);a=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:a,href:s,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){let n=this.rules.inline.text.exec(t);if(n){let i=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:i}}}},gi=class Am{constructor(t){fe(this,"tokens");fe(this,"options");fe(this,"state");fe(this,"tokenizer");fe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||to,this.options.tokenizer=this.options.tokenizer||new af,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:mn,block:eh.normal,inline:Fl.normal};this.options.pedantic?(n.block=eh.pedantic,n.inline=Fl.pedantic):this.options.gfm&&(n.block=eh.gfm,this.options.breaks?n.inline=Fl.breaks:n.inline=Fl.gfm),this.tokenizer.rules=n}static get rules(){return{block:eh,inline:Fl}}static lex(t,n){return new Am(n).lex(t)}static lexInline(t,n){return new Am(n).inlineTokens(t)}lex(t){t=t.replace(mn.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){var a,s,l;for(this.options.pedantic&&(t=t.replace(mn.tabCharGlobal,"    ").replace(mn.spaceLine,""));t;){let c;if((s=(a=this.options.extensions)==null?void 0:a.block)!=null&&s.some(h=>(c=h.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.space(t)){t=t.substring(c.raw.length);let h=n.at(-1);c.raw.length===1&&h!==void 0?h.raw+=`
`:n.push(c);continue}if(c=this.tokenizer.code(t)){t=t.substring(c.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.at(-1).src=h.text):n.push(c);continue}if(c=this.tokenizer.fences(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.heading(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.hr(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.blockquote(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.list(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.html(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.def(t)){t=t.substring(c.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title},n.push(c));continue}if(c=this.tokenizer.table(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.lheading(t)){t=t.substring(c.raw.length),n.push(c);continue}let f=t;if((l=this.options.extensions)!=null&&l.startBlock){let h=1/0,d=t.slice(1),m;this.options.extensions.startBlock.forEach(v=>{m=v.call({lexer:this},d),typeof m=="number"&&m>=0&&(h=Math.min(h,m))}),h<1/0&&h>=0&&(f=t.substring(0,h+1))}if(this.state.top&&(c=this.tokenizer.paragraph(f))){let h=n.at(-1);i&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):n.push(c),i=f.length!==t.length,t=t.substring(c.raw.length);continue}if(c=this.tokenizer.text(t)){t=t.substring(c.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):n.push(c);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var f,h,d,m,v;let i=t,a=null;if(this.tokens.links){let x=Object.keys(this.tokens.links);if(x.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)x.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,a.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)s=a[2]?a[2].length:0,i=i.slice(0,a.index+s)+"["+"a".repeat(a[0].length-s-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=((h=(f=this.options.hooks)==null?void 0:f.emStrongMask)==null?void 0:h.call({lexer:this},i))??i;let l=!1,c="";for(;t;){l||(c=""),l=!1;let x;if((m=(d=this.options.extensions)==null?void 0:d.inline)!=null&&m.some(T=>(x=T.call({lexer:this},t,n))?(t=t.substring(x.raw.length),n.push(x),!0):!1))continue;if(x=this.tokenizer.escape(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.tag(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.link(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(x.raw.length);let T=n.at(-1);x.type==="text"&&(T==null?void 0:T.type)==="text"?(T.raw+=x.raw,T.text+=x.text):n.push(x);continue}if(x=this.tokenizer.emStrong(t,i,c)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.codespan(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.br(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.del(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.autolink(t)){t=t.substring(x.raw.length),n.push(x);continue}if(!this.state.inLink&&(x=this.tokenizer.url(t))){t=t.substring(x.raw.length),n.push(x);continue}let S=t;if((v=this.options.extensions)!=null&&v.startInline){let T=1/0,E=t.slice(1),A;this.options.extensions.startInline.forEach(k=>{A=k.call({lexer:this},E),typeof A=="number"&&A>=0&&(T=Math.min(T,A))}),T<1/0&&T>=0&&(S=t.substring(0,T+1))}if(x=this.tokenizer.inlineText(S)){t=t.substring(x.raw.length),x.raw.slice(-1)!=="_"&&(c=x.raw.slice(-1)),l=!0;let T=n.at(-1);(T==null?void 0:T.type)==="text"?(T.raw+=x.raw,T.text+=x.text):n.push(x);continue}if(t){let T="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(T);break}else throw new Error(T)}}return n}},of=class{constructor(t){fe(this,"options");fe(this,"parser");this.options=t||to}space(t){return""}code({text:t,lang:n,escaped:i}){var l;let a=(l=(n||"").match(mn.notSpaceStart))==null?void 0:l[0],s=t.replace(mn.endingNewline,"")+`
`;return a?'<pre><code class="language-'+Ni(a)+'">'+(i?s:Ni(s,!0))+`</code></pre>
`:"<pre><code>"+(i?s:Ni(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:n}){return`<h${n}>${this.parser.parseInline(t)}</h${n}>
`}hr(t){return`<hr>
`}list(t){let n=t.ordered,i=t.start,a="";for(let c=0;c<t.items.length;c++){let f=t.items[c];a+=this.listitem(f)}let s=n?"ol":"ul",l=n&&i!==1?' start="'+i+'"':"";return"<"+s+l+`>
`+a+"</"+s+`>
`}listitem(t){var i;let n="";if(t.task){let a=this.checkbox({checked:!!t.checked});t.loose?((i=t.tokens[0])==null?void 0:i.type)==="paragraph"?(t.tokens[0].text=a+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=a+" "+Ni(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:a+" ",text:a+" ",escaped:!0}):n+=a+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let n="",i="";for(let s=0;s<t.header.length;s++)i+=this.tablecell(t.header[s]);n+=this.tablerow({text:i});let a="";for(let s=0;s<t.rows.length;s++){let l=t.rows[s];i="";for(let c=0;c<l.length;c++)i+=this.tablecell(l[c]);a+=this.tablerow({text:i})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let n=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+n+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Ni(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:n,tokens:i}){let a=this.parser.parseInline(i),s=GT(t);if(s===null)return a;t=s;let l='<a href="'+t+'"';return n&&(l+=' title="'+Ni(n)+'"'),l+=">"+a+"</a>",l}image({href:t,title:n,text:i,tokens:a}){a&&(i=this.parser.parseInline(a,this.parser.textRenderer));let s=GT(t);if(s===null)return Ni(i);t=s;let l=`<img src="${t}" alt="${i}"`;return n&&(l+=` title="${Ni(n)}"`),l+=">",l}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Ni(t.text)}},Jy=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},mi=class km{constructor(t){fe(this,"options");fe(this,"renderer");fe(this,"textRenderer");this.options=t||to,this.options.renderer=this.options.renderer||new of,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Jy}static parse(t,n){return new km(n).parse(t)}static parseInline(t,n){return new km(n).parseInline(t)}parse(t,n=!0){var a,s;let i="";for(let l=0;l<t.length;l++){let c=t[l];if((s=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&s[c.type]){let h=c,d=this.options.extensions.renderers[h.type].call({parser:this},h);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(h.type)){i+=d||"";continue}}let f=c;switch(f.type){case"space":{i+=this.renderer.space(f);continue}case"hr":{i+=this.renderer.hr(f);continue}case"heading":{i+=this.renderer.heading(f);continue}case"code":{i+=this.renderer.code(f);continue}case"table":{i+=this.renderer.table(f);continue}case"blockquote":{i+=this.renderer.blockquote(f);continue}case"list":{i+=this.renderer.list(f);continue}case"html":{i+=this.renderer.html(f);continue}case"def":{i+=this.renderer.def(f);continue}case"paragraph":{i+=this.renderer.paragraph(f);continue}case"text":{let h=f,d=this.renderer.text(h);for(;l+1<t.length&&t[l+1].type==="text";)h=t[++l],d+=`
`+this.renderer.text(h);n?i+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):i+=d;continue}default:{let h='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return i}parseInline(t,n=this.renderer){var a,s;let i="";for(let l=0;l<t.length;l++){let c=t[l];if((s=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&s[c.type]){let h=this.options.extensions.renderers[c.type].call({parser:this},c);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){i+=h||"";continue}}let f=c;switch(f.type){case"escape":{i+=n.text(f);break}case"html":{i+=n.html(f);break}case"link":{i+=n.link(f);break}case"image":{i+=n.image(f);break}case"strong":{i+=n.strong(f);break}case"em":{i+=n.em(f);break}case"codespan":{i+=n.codespan(f);break}case"br":{i+=n.br(f);break}case"del":{i+=n.del(f);break}case"text":{i+=n.text(f);break}default:{let h='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return i}},sh,Yl=(sh=class{constructor(t){fe(this,"options");fe(this,"block");this.options=t||to}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?gi.lex:gi.lexInline}provideParser(){return this.block?mi.parse:mi.parseInline}},fe(sh,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),fe(sh,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),sh),SG=class{constructor(...t){fe(this,"defaults",zy());fe(this,"options",this.setOptions);fe(this,"parse",this.parseMarkdown(!0));fe(this,"parseInline",this.parseMarkdown(!1));fe(this,"Parser",mi);fe(this,"Renderer",of);fe(this,"TextRenderer",Jy);fe(this,"Lexer",gi);fe(this,"Tokenizer",af);fe(this,"Hooks",Yl);this.use(...t)}walkTokens(t,n){var a,s;let i=[];for(let l of t)switch(i=i.concat(n.call(this,l)),l.type){case"table":{let c=l;for(let f of c.header)i=i.concat(this.walkTokens(f.tokens,n));for(let f of c.rows)for(let h of f)i=i.concat(this.walkTokens(h.tokens,n));break}case"list":{let c=l;i=i.concat(this.walkTokens(c.items,n));break}default:{let c=l;(s=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&s[c.type]?this.defaults.extensions.childTokens[c.type].forEach(f=>{let h=c[f].flat(1/0);i=i.concat(this.walkTokens(h,n))}):c.tokens&&(i=i.concat(this.walkTokens(c.tokens,n)))}}return i}use(...t){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{let a={...i};if(a.async=this.defaults.async||a.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let l=n.renderers[s.name];l?n.renderers[s.name]=function(...c){let f=s.renderer.apply(this,c);return f===!1&&(f=l.apply(this,c)),f}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=n[s.level];l?l.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),a.extensions=n),i.renderer){let s=this.defaults.renderer||new of(this.defaults);for(let l in i.renderer){if(!(l in s))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let c=l,f=i.renderer[c],h=s[c];s[c]=(...d)=>{let m=f.apply(s,d);return m===!1&&(m=h.apply(s,d)),m||""}}a.renderer=s}if(i.tokenizer){let s=this.defaults.tokenizer||new af(this.defaults);for(let l in i.tokenizer){if(!(l in s))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let c=l,f=i.tokenizer[c],h=s[c];s[c]=(...d)=>{let m=f.apply(s,d);return m===!1&&(m=h.apply(s,d)),m}}a.tokenizer=s}if(i.hooks){let s=this.defaults.hooks||new Yl;for(let l in i.hooks){if(!(l in s))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let c=l,f=i.hooks[c],h=s[c];Yl.passThroughHooks.has(l)?s[c]=d=>{if(this.defaults.async&&Yl.passThroughHooksRespectAsync.has(l))return(async()=>{let v=await f.call(s,d);return h.call(s,v)})();let m=f.call(s,d);return h.call(s,m)}:s[c]=(...d)=>{if(this.defaults.async)return(async()=>{let v=await f.apply(s,d);return v===!1&&(v=await h.apply(s,d)),v})();let m=f.apply(s,d);return m===!1&&(m=h.apply(s,d)),m}}a.hooks=s}if(i.walkTokens){let s=this.defaults.walkTokens,l=i.walkTokens;a.walkTokens=function(c){let f=[];return f.push(l.call(this,c)),s&&(f=f.concat(s.call(this,c))),f}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return gi.lex(t,n??this.defaults)}parser(t,n){return mi.parse(t,n??this.defaults)}parseMarkdown(t){return(n,i)=>{let a={...i},s={...this.defaults,...a},l=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&a.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let c=s.hooks?await s.hooks.preprocess(n):n,f=await(s.hooks?await s.hooks.provideLexer():t?gi.lex:gi.lexInline)(c,s),h=s.hooks?await s.hooks.processAllTokens(f):f;s.walkTokens&&await Promise.all(this.walkTokens(h,s.walkTokens));let d=await(s.hooks?await s.hooks.provideParser():t?mi.parse:mi.parseInline)(h,s);return s.hooks?await s.hooks.postprocess(d):d})().catch(l);try{s.hooks&&(n=s.hooks.preprocess(n));let c=(s.hooks?s.hooks.provideLexer():t?gi.lex:gi.lexInline)(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let f=(s.hooks?s.hooks.provideParser():t?mi.parse:mi.parseInline)(c,s);return s.hooks&&(f=s.hooks.postprocess(f)),f}catch(c){return l(c)}}}onError(t,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let a="<p>An error occurred:</p><pre>"+Ni(i.message+"",!0)+"</pre>";return n?Promise.resolve(a):a}if(n)return Promise.reject(i);throw i}}},Wa=new SG;function ae(e,t){return Wa.parse(e,t)}ae.options=ae.setOptions=function(e){return Wa.setOptions(e),ae.defaults=Wa.defaults,Lw(ae.defaults),ae};ae.getDefaults=zy;ae.defaults=to;ae.use=function(...e){return Wa.use(...e),ae.defaults=Wa.defaults,Lw(ae.defaults),ae};ae.walkTokens=function(e,t){return Wa.walkTokens(e,t)};ae.parseInline=Wa.parseInline;ae.Parser=mi;ae.parser=mi.parse;ae.Renderer=of;ae.TextRenderer=Jy;ae.Lexer=gi;ae.lexer=gi.lex;ae.Tokenizer=af;ae.Hooks=Yl;ae.parse=ae;ae.options;ae.setOptions;ae.use;ae.walkTokens;ae.parseInline;mi.parse;gi.lex;function qw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var a=i.reduce(function(c,f){var h=f.match(/\n([\t ]+|(?!\s).)/g);return h?c.concat(h.map(function(d){var m,v;return(v=(m=d.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&v!==void 0?v:0})):c},[]);if(a.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");i=i.map(function(c){return c.replace(s,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var l=i[0];return t.forEach(function(c,f){var h=l.match(/(?:^|\n)( *)$/),d=h?h[1]:"",m=c;typeof c=="string"&&c.includes(`
`)&&(m=String(c).split(`
`).map(function(v,x){return x===0?v:""+d+v}).join(`
`)),l+=m+i[f+1]}),l}var TG={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Mm=new Map,Hw=new Map,bG=b(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ot.debug("Registering icon pack:",t.name),"loader"in t)Hw.set(t.name,t.loader);else if("icons"in t)Mm.set(t.name,t.icons);else throw ot.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Gw=b(async(e,t)=>{const n=E8(e,!0,t!==void 0);if(!n)throw new Error(`Invalid icon name: ${e}`);const i=n.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let a=Mm.get(i);if(!a){const l=Hw.get(i);if(!l)throw new Error(`Icon set not found: ${n.prefix}`);try{a={...await l(),prefix:i},Mm.set(i,a)}catch(c){throw ot.error(c),new Error(`Failed to load icon set: ${n.prefix}`)}}const s=k8(a,n.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),EG=b(async e=>{try{return await Gw(e),!0}catch{return!1}},"isIconAvailable"),Tc=b(async(e,t,n)=>{let i;try{i=await Gw(e,t==null?void 0:t.fallbackPrefix)}catch(l){ot.error(l),i=TG}const a=B8(i,t),s=U8(P8(a.body),{...a.attributes,...n});return si(s,an())},"getIconSVG");function Vw(e,{markdownAutoWrap:t}){const i=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=qw(i);return t===!1?a.replace(/ /g,"&nbsp;"):a}b(Vw,"preprocessMarkdown");function Yw(e,t={}){const n=Vw(e,t),i=ae.lexer(n),a=[[]];let s=0;function l(c,f="normal"){c.type==="text"?c.text.split(`
`).forEach((d,m)=>{m!==0&&(s++,a.push([])),d.split(" ").forEach(v=>{v=v.replace(/&#39;/g,"'"),v&&a[s].push({content:v,type:f})})}):c.type==="strong"||c.type==="em"?c.tokens.forEach(h=>{l(h,c.type)}):c.type==="html"&&a[s].push({content:c.text,type:"normal"})}return b(l,"processNode"),i.forEach(c=>{var f;c.type==="paragraph"?(f=c.tokens)==null||f.forEach(h=>{l(h)}):c.type==="html"?a[s].push({content:c.text,type:"normal"}):a[s].push({content:c.raw,type:"normal"})}),a}b(Yw,"markdownToLines");function Ww(e,{markdownAutoWrap:t}={}){const n=ae.lexer(e);function i(a){var s,l,c;return a.type==="text"?t===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${(s=a.tokens)==null?void 0:s.map(i).join("")}</strong>`:a.type==="em"?`<em>${(l=a.tokens)==null?void 0:l.map(i).join("")}</em>`:a.type==="paragraph"?`<p>${(c=a.tokens)==null?void 0:c.map(i).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:(ot.warn(`Unsupported markdown: ${a.type}`),a.raw)}return b(i,"output"),n.map(i).join("")}b(Ww,"markdownToHTML");function Xw(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}b(Xw,"splitTextToChars");function Jw(e,t){const n=Xw(t.content);return Ky(e,[],n,t.type)}b(Jw,"splitWordToFitWidth");function Ky(e,t,n,i){if(n.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];const[a,...s]=n,l=[...t,a];return e([{content:l.join(""),type:i}])?Ky(e,l,s,i):(t.length===0&&a&&(t.push(a),n.shift()),[{content:t.join(""),type:i},{content:n.join(""),type:i}])}b(Ky,"splitWordToFitWidthRecursion");function Kw(e,t){if(e.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return sf(e,t)}b(Kw,"splitLineToFitWidth");function sf(e,t,n=[],i=[]){if(e.length===0)return i.length>0&&n.push(i),n.length>0?n:[];let a="";e[0].content===" "&&(a=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},l=[...i];if(a!==""&&l.push({content:a,type:"normal"}),l.push(s),t(l))return sf(e,t,n,l);if(i.length>0)n.push(i),e.unshift(s);else if(s.content){const[c,f]=Jw(t,s);n.push([c]),f.content&&e.unshift(f)}return sf(e,t,n)}b(sf,"splitLineToFitWidthRecursion");function Rm(e,t){t&&e.attr("style",t)}b(Rm,"applyStyle");async function Qw(e,t,n,i,a=!1,s=an()){const l=e.append("foreignObject");l.attr("width",`${10*n}px`),l.attr("height",`${10*n}px`);const c=l.append("xhtml:div"),f=ls(t.label)?await ay(t.label.replace(vs.lineBreakRegex,`
`),s):si(t.label,s),h=t.isNode?"nodeLabel":"edgeLabel",d=c.append("span");d.html(f),Rm(d,t.labelStyle),d.attr("class",`${h} ${i}`),Rm(c,t.labelStyle),c.style("display","table-cell"),c.style("white-space","nowrap"),c.style("line-height","1.5"),c.style("max-width",n+"px"),c.style("text-align","center"),c.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&c.attr("class","labelBkg");let m=c.node().getBoundingClientRect();return m.width===n&&(c.style("display","table"),c.style("white-space","break-spaces"),c.style("width",n+"px"),m=c.node().getBoundingClientRect()),l.node()}b(Qw,"addHtmlSpan");function $f(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}b($f,"createTspan");function Zw(e,t,n){const i=e.append("text"),a=$f(i,1,t);zf(a,n);const s=a.node().getComputedTextLength();return i.remove(),s}b(Zw,"computeWidthOfText");function wG(e,t,n){var l;const i=e.append("text"),a=$f(i,1,t);zf(a,[{content:n,type:"normal"}]);const s=(l=a.node())==null?void 0:l.getBoundingClientRect();return s&&i.remove(),s}b(wG,"computeDimensionOfText");function jw(e,t,n,i=!1){const s=t.append("g"),l=s.insert("rect").attr("class","background").attr("style","stroke: none"),c=s.append("text").attr("y","-10.1");let f=0;for(const h of n){const d=b(v=>Zw(s,1.1,v)<=e,"checkWidth"),m=d(h)?[h]:Kw(h,d);for(const v of m){const x=$f(c,f,1.1);zf(x,v),f++}}if(i){const h=c.node().getBBox(),d=2;return l.attr("x",h.x-d).attr("y",h.y-d).attr("width",h.width+2*d).attr("height",h.height+2*d),s.node()}else return c.node()}b(jw,"createFormattedText");function zf(e,t){e.text(""),t.forEach((n,i)=>{const a=e.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");i===0?a.text(n.content):a.text(" "+n.content)})}b(zf,"updateTextContentAndStyles");async function tA(e,t={}){const n=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(a,s,l)=>(n.push((async()=>{const c=`${s}:${l}`;return await EG(c)?await Tc(c,void 0,{class:"label-icon"}):`<i class='${si(a,t).replace(":"," ")}'></i>`})()),a));const i=await Promise.all(n);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}b(tA,"replaceIconSubstring");var sa=b(async(e,t="",{style:n="",isTitle:i=!1,classes:a="",useHtmlLabels:s=!0,isNode:l=!0,width:c=200,addSvgBackground:f=!1}={},h)=>{if(ot.debug("XYZ createText",t,n,i,a,s,l,"addSvgBackground: ",f),s){const d=Ww(t,h),m=await tA(ja(d),h),v=t.replace(/\\\\/g,"\\"),x={isNode:l,label:ls(t)?v:m,labelStyle:n.replace("fill:","color:")};return await Qw(e,x,c,a,f,h)}else{const d=t.replace(/<br\s*\/?>/g,"<br/>"),m=Yw(d.replace("<br>","<br/>"),h),v=jw(c,e,m,t?f:!1);if(l){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const x=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Kt(v).attr("style",x)}else{const x=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Kt(v).select("rect").attr("style",x.replace(/background:/g,"fill:"));const S=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Kt(v).select("text").attr("style",S)}return v}},"createText");function bg(e,t,n){if(e&&e.length){const[i,a]=t,s=Math.PI/180*n,l=Math.cos(s),c=Math.sin(s);for(const f of e){const[h,d]=f;f[0]=(h-i)*l-(d-a)*c+i,f[1]=(h-i)*c+(d-a)*l+a}}}function AG(e,t){return e[0]===t[0]&&e[1]===t[1]}function kG(e,t,n,i=1){const a=n,s=Math.max(t,.1),l=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,c=[0,0];if(a)for(const h of l)bg(h,c,a);const f=(function(h,d,m){const v=[];for(const k of h){const R=[...k];AG(R[0],R[R.length-1])||R.push([R[0][0],R[0][1]]),R.length>2&&v.push(R)}const x=[];d=Math.max(d,.1);const S=[];for(const k of v)for(let R=0;R<k.length-1;R++){const I=k[R],B=k[R+1];if(I[1]!==B[1]){const L=Math.min(I[1],B[1]);S.push({ymin:L,ymax:Math.max(I[1],B[1]),x:L===I[1]?I[0]:B[0],islope:(B[0]-I[0])/(B[1]-I[1])})}}if(S.sort(((k,R)=>k.ymin<R.ymin?-1:k.ymin>R.ymin?1:k.x<R.x?-1:k.x>R.x?1:k.ymax===R.ymax?0:(k.ymax-R.ymax)/Math.abs(k.ymax-R.ymax))),!S.length)return x;let T=[],E=S[0].ymin,A=0;for(;T.length||S.length;){if(S.length){let k=-1;for(let R=0;R<S.length&&!(S[R].ymin>E);R++)k=R;S.splice(0,k+1).forEach((R=>{T.push({s:E,edge:R})}))}if(T=T.filter((k=>!(k.edge.ymax<=E))),T.sort(((k,R)=>k.edge.x===R.edge.x?0:(k.edge.x-R.edge.x)/Math.abs(k.edge.x-R.edge.x))),(m!==1||A%d==0)&&T.length>1)for(let k=0;k<T.length;k+=2){const R=k+1;if(R>=T.length)break;const I=T[k].edge,B=T[R].edge;x.push([[Math.round(I.x),E],[Math.round(B.x),E]])}E+=m,T.forEach((k=>{k.edge.x=k.edge.x+m*k.edge.islope})),A++}return x})(l,s,i);if(a){for(const h of l)bg(h,c,-a);(function(h,d,m){const v=[];h.forEach((x=>v.push(...x))),bg(v,d,m)})(f,c,-a)}return f}function bc(e,t){var n;const i=t.hachureAngle+90;let a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.round(Math.max(a,.1));let s=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=a),kG(e,a,i,s||1)}class Qy{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const i=bc(t,n);return{type:"fillSketch",ops:this.renderLines(i,n)}}renderLines(t,n){const i=[];for(const a of t)i.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],n));return i}}function qf(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class MG extends Qy{fillPolygons(t,n){let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);const a=bc(t,Object.assign({},n,{hachureGap:i})),s=Math.PI/180*n.hachureAngle,l=[],c=.5*i*Math.cos(s),f=.5*i*Math.sin(s);for(const[h,d]of a)qf([h,d])&&l.push([[h[0]-c,h[1]+f],[...d]],[[h[0]+c,h[1]-f],[...d]]);return{type:"fillSketch",ops:this.renderLines(l,n)}}}class RG extends Qy{fillPolygons(t,n){const i=this._fillPolygons(t,n),a=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(t,a);return i.ops=i.ops.concat(s.ops),i}}class LG{constructor(t){this.helper=t}fillPolygons(t,n){const i=bc(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(i,n)}dotsOnLines(t,n){const i=[];let a=n.hachureGap;a<0&&(a=4*n.strokeWidth),a=Math.max(a,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const l=a/4;for(const c of t){const f=qf(c),h=f/a,d=Math.ceil(h)-1,m=f-d*a,v=(c[0][0]+c[1][0])/2-a/4,x=Math.min(c[0][1],c[1][1]);for(let S=0;S<d;S++){const T=x+m+S*a,E=v-l+2*Math.random()*l,A=T-l+2*Math.random()*l,k=this.helper.ellipse(E,A,s,s,n);i.push(...k.ops)}}return{type:"fillSketch",ops:i}}}class DG{constructor(t){this.helper=t}fillPolygons(t,n){const i=bc(t,n);return{type:"fillSketch",ops:this.dashedLine(i,n)}}dashedLine(t,n){const i=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,a=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return t.forEach((l=>{const c=qf(l),f=Math.floor(c/(i+a)),h=(c+a-f*(i+a))/2;let d=l[0],m=l[1];d[0]>m[0]&&(d=l[1],m=l[0]);const v=Math.atan((m[1]-d[1])/(m[0]-d[0]));for(let x=0;x<f;x++){const S=x*(i+a),T=S+i,E=[d[0]+S*Math.cos(v)+h*Math.cos(v),d[1]+S*Math.sin(v)+h*Math.sin(v)],A=[d[0]+T*Math.cos(v)+h*Math.cos(v),d[1]+T*Math.sin(v)+h*Math.sin(v)];s.push(...this.helper.doubleLineOps(E[0],E[1],A[0],A[1],n))}})),s}}class NG{constructor(t){this.helper=t}fillPolygons(t,n){const i=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,a=n.zigzagOffset<0?i:n.zigzagOffset,s=bc(t,n=Object.assign({},n,{hachureGap:i+a}));return{type:"fillSketch",ops:this.zigzagLines(s,a,n)}}zigzagLines(t,n,i){const a=[];return t.forEach((s=>{const l=qf(s),c=Math.round(l/(2*n));let f=s[0],h=s[1];f[0]>h[0]&&(f=s[1],h=s[0]);const d=Math.atan((h[1]-f[1])/(h[0]-f[0]));for(let m=0;m<c;m++){const v=2*m*n,x=2*(m+1)*n,S=Math.sqrt(2*Math.pow(n,2)),T=[f[0]+v*Math.cos(d),f[1]+v*Math.sin(d)],E=[f[0]+x*Math.cos(d),f[1]+x*Math.sin(d)],A=[T[0]+S*Math.cos(d+Math.PI/4),T[1]+S*Math.sin(d+Math.PI/4)];a.push(...this.helper.doubleLineOps(T[0],T[1],A[0],A[1],i),...this.helper.doubleLineOps(A[0],A[1],E[0],E[1],i))}})),a}}const kn={};class IG{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const BG=0,Eg=1,WT=2,nh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function wg(e,t){return e.type===t}function Zy(e){const t=[],n=(function(l){const c=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:BG,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:Eg,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return c[c.length]={type:WT,text:""},c})(e);let i="BOD",a=0,s=n[a];for(;!wg(s,WT);){let l=0;const c=[];if(i==="BOD"){if(s.text!=="M"&&s.text!=="m")return Zy("M0,0"+e);a++,l=nh[s.text],i=s.text}else wg(s,Eg)?l=nh[i]:(a++,l=nh[s.text],i=s.text);if(!(a+l<n.length))throw new Error("Path data ended short");for(let f=a;f<a+l;f++){const h=n[f];if(!wg(h,Eg))throw new Error("Param not a number: "+i+","+h.text);c[c.length]=+h.text}if(typeof nh[i]!="number")throw new Error("Bad segment: "+i);{const f={key:i,data:c};t.push(f),a+=l,s=n[a],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function eA(e){let t=0,n=0,i=0,a=0;const s=[];for(const{key:l,data:c}of e)switch(l){case"M":s.push({key:"M",data:[...c]}),[t,n]=c,[i,a]=c;break;case"m":t+=c[0],n+=c[1],s.push({key:"M",data:[t,n]}),i=t,a=n;break;case"L":s.push({key:"L",data:[...c]}),[t,n]=c;break;case"l":t+=c[0],n+=c[1],s.push({key:"L",data:[t,n]});break;case"C":s.push({key:"C",data:[...c]}),t=c[4],n=c[5];break;case"c":{const f=c.map(((h,d)=>d%2?h+n:h+t));s.push({key:"C",data:f}),t=f[4],n=f[5];break}case"Q":s.push({key:"Q",data:[...c]}),t=c[2],n=c[3];break;case"q":{const f=c.map(((h,d)=>d%2?h+n:h+t));s.push({key:"Q",data:f}),t=f[2],n=f[3];break}case"A":s.push({key:"A",data:[...c]}),t=c[5],n=c[6];break;case"a":t+=c[5],n+=c[6],s.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],t,n]});break;case"H":s.push({key:"H",data:[...c]}),t=c[0];break;case"h":t+=c[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...c]}),n=c[0];break;case"v":n+=c[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...c]}),t=c[2],n=c[3];break;case"s":{const f=c.map(((h,d)=>d%2?h+n:h+t));s.push({key:"S",data:f}),t=f[2],n=f[3];break}case"T":s.push({key:"T",data:[...c]}),t=c[0],n=c[1];break;case"t":t+=c[0],n+=c[1],s.push({key:"T",data:[t,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=i,n=a}return s}function nA(e){const t=[];let n="",i=0,a=0,s=0,l=0,c=0,f=0;for(const{key:h,data:d}of e){switch(h){case"M":t.push({key:"M",data:[...d]}),[i,a]=d,[s,l]=d;break;case"C":t.push({key:"C",data:[...d]}),i=d[4],a=d[5],c=d[2],f=d[3];break;case"L":t.push({key:"L",data:[...d]}),[i,a]=d;break;case"H":i=d[0],t.push({key:"L",data:[i,a]});break;case"V":a=d[0],t.push({key:"L",data:[i,a]});break;case"S":{let m=0,v=0;n==="C"||n==="S"?(m=i+(i-c),v=a+(a-f)):(m=i,v=a),t.push({key:"C",data:[m,v,...d]}),c=d[0],f=d[1],i=d[2],a=d[3];break}case"T":{const[m,v]=d;let x=0,S=0;n==="Q"||n==="T"?(x=i+(i-c),S=a+(a-f)):(x=i,S=a);const T=i+2*(x-i)/3,E=a+2*(S-a)/3,A=m+2*(x-m)/3,k=v+2*(S-v)/3;t.push({key:"C",data:[T,E,A,k,m,v]}),c=x,f=S,i=m,a=v;break}case"Q":{const[m,v,x,S]=d,T=i+2*(m-i)/3,E=a+2*(v-a)/3,A=x+2*(m-x)/3,k=S+2*(v-S)/3;t.push({key:"C",data:[T,E,A,k,x,S]}),c=m,f=v,i=x,a=S;break}case"A":{const m=Math.abs(d[0]),v=Math.abs(d[1]),x=d[2],S=d[3],T=d[4],E=d[5],A=d[6];m===0||v===0?(t.push({key:"C",data:[i,a,E,A,E,A]}),i=E,a=A):(i!==E||a!==A)&&(iA(i,a,E,A,m,v,x,S,T).forEach((function(k){t.push({key:"C",data:k})})),i=E,a=A);break}case"Z":t.push({key:"Z",data:[]}),i=s,a=l}n=h}return t}function Pl(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function iA(e,t,n,i,a,s,l,c,f,h){const d=(m=l,Math.PI*m/180);var m;let v=[],x=0,S=0,T=0,E=0;if(h)[x,S,T,E]=h;else{[e,t]=Pl(e,t,-d),[n,i]=Pl(n,i,-d);const et=(e-n)/2,Y=(t-i)/2;let G=et*et/(a*a)+Y*Y/(s*s);G>1&&(G=Math.sqrt(G),a*=G,s*=G);const D=a*a,U=s*s,z=D*U-D*Y*Y-U*et*et,st=D*Y*Y+U*et*et,ht=(c===f?-1:1)*Math.sqrt(Math.abs(z/st));T=ht*a*Y/s+(e+n)/2,E=ht*-s*et/a+(t+i)/2,x=Math.asin(parseFloat(((t-E)/s).toFixed(9))),S=Math.asin(parseFloat(((i-E)/s).toFixed(9))),e<T&&(x=Math.PI-x),n<T&&(S=Math.PI-S),x<0&&(x=2*Math.PI+x),S<0&&(S=2*Math.PI+S),f&&x>S&&(x-=2*Math.PI),!f&&S>x&&(S-=2*Math.PI)}let A=S-x;if(Math.abs(A)>120*Math.PI/180){const et=S,Y=n,G=i;S=f&&S>x?x+120*Math.PI/180*1:x+120*Math.PI/180*-1,v=iA(n=T+a*Math.cos(S),i=E+s*Math.sin(S),Y,G,a,s,l,0,f,[S,et,T,E])}A=S-x;const k=Math.cos(x),R=Math.sin(x),I=Math.cos(S),B=Math.sin(S),L=Math.tan(A/4),N=4/3*a*L,Z=4/3*s*L,K=[e,t],tt=[e+N*R,t-Z*k],V=[n+N*B,i-Z*I],lt=[n,i];if(tt[0]=2*K[0]-tt[0],tt[1]=2*K[1]-tt[1],h)return[tt,V,lt].concat(v);{v=[tt,V,lt].concat(v);const et=[];for(let Y=0;Y<v.length;Y+=3){const G=Pl(v[Y][0],v[Y][1],d),D=Pl(v[Y+1][0],v[Y+1][1],d),U=Pl(v[Y+2][0],v[Y+2][1],d);et.push([G[0],G[1],D[0],D[1],U[0],U[1]])}return et}}const FG={randOffset:function(e,t){return It(e,t)},randOffsetWithRange:function(e,t,n){return lf(e,t,n)},ellipse:function(e,t,n,i,a){const s=aA(n,i,a);return Lm(e,t,a,s).opset},doubleLineOps:function(e,t,n,i,a){return ia(e,t,n,i,a,!0)}};function rA(e,t,n,i,a){return{type:"path",ops:ia(e,t,n,i,a)}}function xh(e,t,n){const i=(e||[]).length;if(i>2){const a=[];for(let s=0;s<i-1;s++)a.push(...ia(e[s][0],e[s][1],e[s+1][0],e[s+1][1],n));return t&&a.push(...ia(e[i-1][0],e[i-1][1],e[0][0],e[0][1],n)),{type:"path",ops:a}}return i===2?rA(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function OG(e,t,n,i,a){return(function(s,l){return xh(s,!0,l)})([[e,t],[e+n,t],[e+n,t+i],[e,t+i]],a)}function XT(e,t){if(e.length){const n=typeof e[0][0]=="number"?[e]:e,i=ih(n[0],1*(1+.2*t.roughness),t),a=t.disableMultiStroke?[]:ih(n[0],1.5*(1+.22*t.roughness),QT(t));for(let s=1;s<n.length;s++){const l=n[s];if(l.length){const c=ih(l,1*(1+.2*t.roughness),t),f=t.disableMultiStroke?[]:ih(l,1.5*(1+.22*t.roughness),QT(t));for(const h of c)h.op!=="move"&&i.push(h);for(const h of f)h.op!=="move"&&a.push(h)}}return{type:"path",ops:i.concat(a)}}return{type:"path",ops:[]}}function aA(e,t,n){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*i)),s=2*Math.PI/a;let l=Math.abs(e/2),c=Math.abs(t/2);const f=1-n.curveFitting;return l+=It(l*f,n),c+=It(c*f,n),{increment:s,rx:l,ry:c}}function Lm(e,t,n,i){const[a,s]=ZT(i.increment,e,t,i.rx,i.ry,1,i.increment*lf(.1,lf(.4,1,n),n),n);let l=cf(a,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[c]=ZT(i.increment,e,t,i.rx,i.ry,1.5,0,n),f=cf(c,null,n);l=l.concat(f)}return{estimatedPoints:s,opset:{type:"path",ops:l}}}function JT(e,t,n,i,a,s,l,c,f){const h=e,d=t;let m=Math.abs(n/2),v=Math.abs(i/2);m+=It(.01*m,f),v+=It(.01*v,f);let x=a,S=s;for(;x<0;)x+=2*Math.PI,S+=2*Math.PI;S-x>2*Math.PI&&(x=0,S=2*Math.PI);const T=2*Math.PI/f.curveStepCount,E=Math.min(T/2,(S-x)/2),A=jT(E,h,d,m,v,x,S,1,f);if(!f.disableMultiStroke){const k=jT(E,h,d,m,v,x,S,1.5,f);A.push(...k)}return l&&(c?A.push(...ia(h,d,h+m*Math.cos(x),d+v*Math.sin(x),f),...ia(h,d,h+m*Math.cos(S),d+v*Math.sin(S),f)):A.push({op:"lineTo",data:[h,d]},{op:"lineTo",data:[h+m*Math.cos(x),d+v*Math.sin(x)]})),{type:"path",ops:A}}function KT(e,t){const n=nA(eA(Zy(e))),i=[];let a=[0,0],s=[0,0];for(const{key:l,data:c}of n)switch(l){case"M":s=[c[0],c[1]],a=[c[0],c[1]];break;case"L":i.push(...ia(s[0],s[1],c[0],c[1],t)),s=[c[0],c[1]];break;case"C":{const[f,h,d,m,v,x]=c;i.push(...PG(f,h,d,m,v,x,s,t)),s=[v,x];break}case"Z":i.push(...ia(s[0],s[1],a[0],a[1],t)),s=[a[0],a[1]]}return{type:"path",ops:i}}function Ag(e,t){const n=[];for(const i of e)if(i.length){const a=t.maxRandomnessOffset||0,s=i.length;if(s>2){n.push({op:"move",data:[i[0][0]+It(a,t),i[0][1]+It(a,t)]});for(let l=1;l<s;l++)n.push({op:"lineTo",data:[i[l][0]+It(a,t),i[l][1]+It(a,t)]})}}return{type:"fillPath",ops:n}}function $o(e,t){return(function(n,i){let a=n.fillStyle||"hachure";if(!kn[a])switch(a){case"zigzag":kn[a]||(kn[a]=new MG(i));break;case"cross-hatch":kn[a]||(kn[a]=new RG(i));break;case"dots":kn[a]||(kn[a]=new LG(i));break;case"dashed":kn[a]||(kn[a]=new DG(i));break;case"zigzag-line":kn[a]||(kn[a]=new NG(i));break;default:a="hachure",kn[a]||(kn[a]=new Qy(i))}return kn[a]})(t,FG).fillPolygons(e,t)}function QT(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function oA(e){return e.randomizer||(e.randomizer=new IG(e.seed||0)),e.randomizer.next()}function lf(e,t,n,i=1){return n.roughness*i*(oA(n)*(t-e)+e)}function It(e,t,n=1){return lf(-e,e,t,n)}function ia(e,t,n,i,a,s=!1){const l=s?a.disableMultiStrokeFill:a.disableMultiStroke,c=Dm(e,t,n,i,a,!0,!1);if(l)return c;const f=Dm(e,t,n,i,a,!0,!0);return c.concat(f)}function Dm(e,t,n,i,a,s,l){const c=Math.pow(e-n,2)+Math.pow(t-i,2),f=Math.sqrt(c);let h=1;h=f<200?1:f>500?.4:-.0016668*f+1.233334;let d=a.maxRandomnessOffset||0;d*d*100>c&&(d=f/10);const m=d/2,v=.2+.2*oA(a);let x=a.bowing*a.maxRandomnessOffset*(i-t)/200,S=a.bowing*a.maxRandomnessOffset*(e-n)/200;x=It(x,a,h),S=It(S,a,h);const T=[],E=()=>It(m,a,h),A=()=>It(d,a,h),k=a.preserveVertices;return l?T.push({op:"move",data:[e+(k?0:E()),t+(k?0:E())]}):T.push({op:"move",data:[e+(k?0:It(d,a,h)),t+(k?0:It(d,a,h))]}),l?T.push({op:"bcurveTo",data:[x+e+(n-e)*v+E(),S+t+(i-t)*v+E(),x+e+2*(n-e)*v+E(),S+t+2*(i-t)*v+E(),n+(k?0:E()),i+(k?0:E())]}):T.push({op:"bcurveTo",data:[x+e+(n-e)*v+A(),S+t+(i-t)*v+A(),x+e+2*(n-e)*v+A(),S+t+2*(i-t)*v+A(),n+(k?0:A()),i+(k?0:A())]}),T}function ih(e,t,n){if(!e.length)return[];const i=[];i.push([e[0][0]+It(t,n),e[0][1]+It(t,n)]),i.push([e[0][0]+It(t,n),e[0][1]+It(t,n)]);for(let a=1;a<e.length;a++)i.push([e[a][0]+It(t,n),e[a][1]+It(t,n)]),a===e.length-1&&i.push([e[a][0]+It(t,n),e[a][1]+It(t,n)]);return cf(i,null,n)}function cf(e,t,n){const i=e.length,a=[];if(i>3){const s=[],l=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let c=1;c+2<i;c++){const f=e[c];s[0]=[f[0],f[1]],s[1]=[f[0]+(l*e[c+1][0]-l*e[c-1][0])/6,f[1]+(l*e[c+1][1]-l*e[c-1][1])/6],s[2]=[e[c+1][0]+(l*e[c][0]-l*e[c+2][0])/6,e[c+1][1]+(l*e[c][1]-l*e[c+2][1])/6],s[3]=[e[c+1][0],e[c+1][1]],a.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else i===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&a.push(...Dm(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return a}function ZT(e,t,n,i,a,s,l,c){const f=[],h=[];if(c.roughness===0){e/=4,h.push([t+i*Math.cos(-e),n+a*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){const m=[t+i*Math.cos(d),n+a*Math.sin(d)];f.push(m),h.push(m)}h.push([t+i*Math.cos(0),n+a*Math.sin(0)]),h.push([t+i*Math.cos(e),n+a*Math.sin(e)])}else{const d=It(.5,c)-Math.PI/2;h.push([It(s,c)+t+.9*i*Math.cos(d-e),It(s,c)+n+.9*a*Math.sin(d-e)]);const m=2*Math.PI+d-.01;for(let v=d;v<m;v+=e){const x=[It(s,c)+t+i*Math.cos(v),It(s,c)+n+a*Math.sin(v)];f.push(x),h.push(x)}h.push([It(s,c)+t+i*Math.cos(d+2*Math.PI+.5*l),It(s,c)+n+a*Math.sin(d+2*Math.PI+.5*l)]),h.push([It(s,c)+t+.98*i*Math.cos(d+l),It(s,c)+n+.98*a*Math.sin(d+l)]),h.push([It(s,c)+t+.9*i*Math.cos(d+.5*l),It(s,c)+n+.9*a*Math.sin(d+.5*l)])}return[h,f]}function jT(e,t,n,i,a,s,l,c,f){const h=s+It(.1,f),d=[];d.push([It(c,f)+t+.9*i*Math.cos(h-e),It(c,f)+n+.9*a*Math.sin(h-e)]);for(let m=h;m<=l;m+=e)d.push([It(c,f)+t+i*Math.cos(m),It(c,f)+n+a*Math.sin(m)]);return d.push([t+i*Math.cos(l),n+a*Math.sin(l)]),d.push([t+i*Math.cos(l),n+a*Math.sin(l)]),cf(d,null,f)}function PG(e,t,n,i,a,s,l,c){const f=[],h=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let d=[0,0];const m=c.disableMultiStroke?1:2,v=c.preserveVertices;for(let x=0;x<m;x++)x===0?f.push({op:"move",data:[l[0],l[1]]}):f.push({op:"move",data:[l[0]+(v?0:It(h[0],c)),l[1]+(v?0:It(h[0],c))]}),d=v?[a,s]:[a+It(h[x],c),s+It(h[x],c)],f.push({op:"bcurveTo",data:[e+It(h[x],c),t+It(h[x],c),n+It(h[x],c),i+It(h[x],c),d[0],d[1]]});return f}function Ul(e){return[...e]}function tb(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const i=[];if(n===3)i.push(Ul(e[0]),Ul(e[1]),Ul(e[2]),Ul(e[2]));else{const a=[];a.push(e[0],e[0]);for(let c=1;c<e.length;c++)a.push(e[c]),c===e.length-1&&a.push(e[c]);const s=[],l=1-t;i.push(Ul(a[0]));for(let c=1;c+2<a.length;c++){const f=a[c];s[0]=[f[0],f[1]],s[1]=[f[0]+(l*a[c+1][0]-l*a[c-1][0])/6,f[1]+(l*a[c+1][1]-l*a[c-1][1])/6],s[2]=[a[c+1][0]+(l*a[c][0]-l*a[c+2][0])/6,a[c+1][1]+(l*a[c][1]-l*a[c+2][1])/6],s[3]=[a[c+1][0],a[c+1][1]],i.push(s[1],s[2],s[3])}}return i}function Ch(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function UG(e,t,n){const i=Ch(t,n);if(i===0)return Ch(e,t);let a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return a=Math.max(0,Math.min(1,a)),Ch(e,Da(t,n,a))}function Da(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Nm(e,t,n,i){const a=i||[];if((function(c,f){const h=c[f+0],d=c[f+1],m=c[f+2],v=c[f+3];let x=3*d[0]-2*h[0]-v[0];x*=x;let S=3*d[1]-2*h[1]-v[1];S*=S;let T=3*m[0]-2*v[0]-h[0];T*=T;let E=3*m[1]-2*v[1]-h[1];return E*=E,x<T&&(x=T),S<E&&(S=E),x+S})(e,t)<n){const c=e[t+0];a.length?(s=a[a.length-1],l=c,Math.sqrt(Ch(s,l))>1&&a.push(c)):a.push(c),a.push(e[t+3])}else{const f=e[t+0],h=e[t+1],d=e[t+2],m=e[t+3],v=Da(f,h,.5),x=Da(h,d,.5),S=Da(d,m,.5),T=Da(v,x,.5),E=Da(x,S,.5),A=Da(T,E,.5);Nm([f,v,T,A],0,n,a),Nm([A,E,S,m],0,n,a)}var s,l;return a}function $G(e,t){return uf(e,0,e.length,t)}function uf(e,t,n,i,a){const s=a||[],l=e[t],c=e[n-1];let f=0,h=1;for(let d=t+1;d<n-1;++d){const m=UG(e[d],l,c);m>f&&(f=m,h=d)}return Math.sqrt(f)>i?(uf(e,t,h+1,i,s),uf(e,h,n,i,s)):(s.length||s.push(l),s.push(c)),s}function kg(e,t=.15,n){const i=[],a=(e.length-1)/3;for(let s=0;s<a;s++)Nm(e,3*s,t,i);return n&&n>0?uf(i,0,i.length,n):i}const zn="none";class hf{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,i){return{shape:t,sets:n||[],options:i||this.defaultOptions}}line(t,n,i,a,s){const l=this._o(s);return this._d("line",[rA(t,n,i,a,l)],l)}rectangle(t,n,i,a,s){const l=this._o(s),c=[],f=OG(t,n,i,a,l);if(l.fill){const h=[[t,n],[t+i,n],[t+i,n+a],[t,n+a]];l.fillStyle==="solid"?c.push(Ag([h],l)):c.push($o([h],l))}return l.stroke!==zn&&c.push(f),this._d("rectangle",c,l)}ellipse(t,n,i,a,s){const l=this._o(s),c=[],f=aA(i,a,l),h=Lm(t,n,l,f);if(l.fill)if(l.fillStyle==="solid"){const d=Lm(t,n,l,f).opset;d.type="fillPath",c.push(d)}else c.push($o([h.estimatedPoints],l));return l.stroke!==zn&&c.push(h.opset),this._d("ellipse",c,l)}circle(t,n,i,a){const s=this.ellipse(t,n,i,i,a);return s.shape="circle",s}linearPath(t,n){const i=this._o(n);return this._d("linearPath",[xh(t,!1,i)],i)}arc(t,n,i,a,s,l,c=!1,f){const h=this._o(f),d=[],m=JT(t,n,i,a,s,l,c,!0,h);if(c&&h.fill)if(h.fillStyle==="solid"){const v=Object.assign({},h);v.disableMultiStroke=!0;const x=JT(t,n,i,a,s,l,!0,!1,v);x.type="fillPath",d.push(x)}else d.push((function(v,x,S,T,E,A,k){const R=v,I=x;let B=Math.abs(S/2),L=Math.abs(T/2);B+=It(.01*B,k),L+=It(.01*L,k);let N=E,Z=A;for(;N<0;)N+=2*Math.PI,Z+=2*Math.PI;Z-N>2*Math.PI&&(N=0,Z=2*Math.PI);const K=(Z-N)/k.curveStepCount,tt=[];for(let V=N;V<=Z;V+=K)tt.push([R+B*Math.cos(V),I+L*Math.sin(V)]);return tt.push([R+B*Math.cos(Z),I+L*Math.sin(Z)]),tt.push([R,I]),$o([tt],k)})(t,n,i,a,s,l,h));return h.stroke!==zn&&d.push(m),this._d("arc",d,h)}curve(t,n){const i=this._o(n),a=[],s=XT(t,i);if(i.fill&&i.fill!==zn)if(i.fillStyle==="solid"){const l=XT(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],c=t;if(c.length){const f=typeof c[0][0]=="number"?[c]:c;for(const h of f)h.length<3?l.push(...h):h.length===3?l.push(...kg(tb([h[0],h[0],h[1],h[2]]),10,(1+i.roughness)/2)):l.push(...kg(tb(h),10,(1+i.roughness)/2))}l.length&&a.push($o([l],i))}return i.stroke!==zn&&a.push(s),this._d("curve",a,i)}polygon(t,n){const i=this._o(n),a=[],s=xh(t,!0,i);return i.fill&&(i.fillStyle==="solid"?a.push(Ag([t],i)):a.push($o([t],i))),i.stroke!==zn&&a.push(s),this._d("polygon",a,i)}path(t,n){const i=this._o(n),a=[];if(!t)return this._d("path",a,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=i.fill&&i.fill!=="transparent"&&i.fill!==zn,l=i.stroke!==zn,c=!!(i.simplification&&i.simplification<1),f=(function(d,m,v){const x=nA(eA(Zy(d))),S=[];let T=[],E=[0,0],A=[];const k=()=>{A.length>=4&&T.push(...kg(A,m)),A=[]},R=()=>{k(),T.length&&(S.push(T),T=[])};for(const{key:B,data:L}of x)switch(B){case"M":R(),E=[L[0],L[1]],T.push(E);break;case"L":k(),T.push([L[0],L[1]]);break;case"C":if(!A.length){const N=T.length?T[T.length-1]:E;A.push([N[0],N[1]])}A.push([L[0],L[1]]),A.push([L[2],L[3]]),A.push([L[4],L[5]]);break;case"Z":k(),T.push([E[0],E[1]])}if(R(),!v)return S;const I=[];for(const B of S){const L=$G(B,v);L.length&&I.push(L)}return I})(t,1,c?4-4*(i.simplification||1):(1+i.roughness)/2),h=KT(t,i);if(s)if(i.fillStyle==="solid")if(f.length===1){const d=KT(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else a.push(Ag(f,i));else a.push($o(f,i));return l&&(c?f.forEach((d=>{a.push(xh(d,!1,i))})):a.push(h)),this._d("path",a,i)}opsToPath(t,n){let i="";for(const a of t.ops){const s=typeof n=="number"&&n>=0?a.data.map((l=>+l.toFixed(n))):a.data;switch(a.op){case"move":i+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":i+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":i+=`L${s[0]} ${s[1]} `}}return i.trim()}toPaths(t){const n=t.sets||[],i=t.options||this.defaultOptions,a=[];for(const s of n){let l=null;switch(s.type){case"path":l={d:this.opsToPath(s),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:zn};break;case"fillPath":l={d:this.opsToPath(s),stroke:zn,strokeWidth:0,fill:i.fill||zn};break;case"fillSketch":l=this.fillSketch(s,i)}l&&a.push(l)}return a}fillSketch(t,n){let i=n.fillWeight;return i<0&&(i=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||zn,strokeWidth:i,fill:zn}}_mergedShape(t){return t.filter(((n,i)=>i===0||n.op!=="move"))}}class zG{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new hf(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),a=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const l of n)switch(l.type){case"path":a.save(),a.strokeStyle=i.stroke==="none"?"transparent":i.stroke,a.lineWidth=i.strokeWidth,i.strokeLineDash&&a.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(a.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(a,l,s),a.restore();break;case"fillPath":{a.save(),a.fillStyle=i.fill||"";const c=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,l,s,c),a.restore();break}case"fillSketch":this.fillSketch(a,l,i)}}fillSketch(t,n,i){let a=i.fillWeight;a<0&&(a=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=a,this._drawToContext(t,n,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,i,a="nonzero"){t.beginPath();for(const s of n.ops){const l=typeof i=="number"&&i>=0?s.data.map((c=>+c.toFixed(i))):s.data;switch(s.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1])}}n.type==="fillPath"?t.fill(a):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,i,a,s){const l=this.gen.line(t,n,i,a,s);return this.draw(l),l}rectangle(t,n,i,a,s){const l=this.gen.rectangle(t,n,i,a,s);return this.draw(l),l}ellipse(t,n,i,a,s){const l=this.gen.ellipse(t,n,i,a,s);return this.draw(l),l}circle(t,n,i,a){const s=this.gen.circle(t,n,i,a);return this.draw(s),s}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i),i}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i),i}arc(t,n,i,a,s,l,c=!1,f){const h=this.gen.arc(t,n,i,a,s,l,c,f);return this.draw(h),h}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i),i}path(t,n){const i=this.gen.path(t,n);return this.draw(i),i}}const rh="http://www.w3.org/2000/svg";class qG{constructor(t,n){this.svg=t,this.gen=new hf(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,s=a.createElementNS(rh,"g"),l=t.options.fixedDecimalPlaceDigits;for(const c of n){let f=null;switch(c.type){case"path":f=a.createElementNS(rh,"path"),f.setAttribute("d",this.opsToPath(c,l)),f.setAttribute("stroke",i.stroke),f.setAttribute("stroke-width",i.strokeWidth+""),f.setAttribute("fill","none"),i.strokeLineDash&&f.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&f.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":f=a.createElementNS(rh,"path"),f.setAttribute("d",this.opsToPath(c,l)),f.setAttribute("stroke","none"),f.setAttribute("stroke-width","0"),f.setAttribute("fill",i.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||f.setAttribute("fill-rule","evenodd");break;case"fillSketch":f=this.fillSketch(a,c,i)}f&&s.appendChild(f)}return s}fillSketch(t,n,i){let a=i.fillWeight;a<0&&(a=i.strokeWidth/2);const s=t.createElementNS(rh,"path");return s.setAttribute("d",this.opsToPath(n,i.fixedDecimalPlaceDigits)),s.setAttribute("stroke",i.fill||""),s.setAttribute("stroke-width",a+""),s.setAttribute("fill","none"),i.fillLineDash&&s.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,i,a,s){const l=this.gen.line(t,n,i,a,s);return this.draw(l)}rectangle(t,n,i,a,s){const l=this.gen.rectangle(t,n,i,a,s);return this.draw(l)}ellipse(t,n,i,a,s){const l=this.gen.ellipse(t,n,i,a,s);return this.draw(l)}circle(t,n,i,a){const s=this.gen.circle(t,n,i,a);return this.draw(s)}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i)}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i)}arc(t,n,i,a,s,l,c=!1,f){const h=this.gen.arc(t,n,i,a,s,l,c,f);return this.draw(h)}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i)}path(t,n){const i=this.gen.path(t,n);return this.draw(i)}}var St={canvas:(e,t)=>new zG(e,t),svg:(e,t)=>new qG(e,t),generator:e=>new hf(e),newSeed:()=>hf.newSeed()},Nt=b(async(e,t,n)=>{var m,v;let i;const a=t.useHtmlLabels||$e((m=re())==null?void 0:m.htmlLabels);n?i=n:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),l=s.insert("g").attr("class","label").attr("style",sn(t.labelStyle));let c;t.label===void 0?c="":c=typeof t.label=="string"?t.label:t.label[0];const f=await sa(l,si(ja(c),re()),{useHtmlLabels:a,width:t.width||((v=re().flowchart)==null?void 0:v.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let h=f.getBBox();const d=((t==null?void 0:t.padding)??0)/2;if(a){const x=f.children[0],S=Kt(f),T=x.getElementsByTagName("img");if(T){const E=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...T].map(A=>new Promise(k=>{function R(){if(A.style.display="flex",A.style.flexDirection="column",E){const I=re().fontSize?re().fontSize:window.getComputedStyle(document.body).fontSize,B=5,[L=x1.fontSize]=Of(I),N=L*B+"px";A.style.minWidth=N,A.style.maxWidth=N}else A.style.width="100%";k(A)}b(R,"setupImage"),setTimeout(()=>{A.complete&&R()}),A.addEventListener("error",R),A.addEventListener("load",R)})))}h=x.getBoundingClientRect(),S.attr("width",h.width),S.attr("height",h.height)}return a?l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):l.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:s,bbox:h,halfPadding:d,label:l}},"labelHelper"),Mg=b(async(e,t,n)=>{var f,h,d,m,v,x;const i=n.useHtmlLabels||$e((h=(f=re())==null?void 0:f.flowchart)==null?void 0:h.htmlLabels),a=e.insert("g").attr("class","label").attr("style",n.labelStyle||""),s=await sa(a,si(ja(t),re()),{useHtmlLabels:i,width:n.width||((m=(d=re())==null?void 0:d.flowchart)==null?void 0:m.wrappingWidth),style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let l=s.getBBox();const c=n.padding/2;if($e((x=(v=re())==null?void 0:v.flowchart)==null?void 0:x.htmlLabels)){const S=s.children[0],T=Kt(s);l=S.getBoundingClientRect(),T.attr("width",l.width),T.attr("height",l.height)}return i?a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"):a.attr("transform","translate(0, "+-l.height/2+")"),n.centerLabel&&a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:e,bbox:l,halfPadding:c,label:a}},"insertLabel"),Et=b((e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds"),Lt=b((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Yt(e){const t=e.map((n,i)=>`${i===0?"M":"L"}${n.x},${n.y}`);return t.push("Z"),t.join(" ")}b(Yt,"createPathFromPoints");function ra(e,t,n,i,a,s){const l=[],f=n-e,h=i-t,d=f/s,m=2*Math.PI/d,v=t+h/2;for(let x=0;x<=50;x++){const S=x/50,T=e+S*f,E=v+a*Math.sin(m*(T-e));l.push({x:T,y:E})}return l}b(ra,"generateFullSineWavePoints");function fc(e,t,n,i,a,s){const l=[],c=a*Math.PI/180,d=(s*Math.PI/180-c)/(i-1);for(let m=0;m<i;m++){const v=c+m*d,x=e+n*Math.cos(v),S=t+n*Math.sin(v);l.push({x:-x,y:-S})}return l}b(fc,"generateCirclePoints");var HG=b((e,t)=>{var n=e.x,i=e.y,a=t.x-n,s=t.y-i,l=e.width/2,c=e.height/2,f,h;return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),f=s===0?0:c*a/s,h=c):(a<0&&(l=-l),f=l,h=a===0?0:l*s/a),{x:n+f,y:i+h}},"intersectRect"),Ss=HG;function sA(e,t){t&&e.attr("style",t)}b(sA,"applyStyle");async function lA(e){const t=Kt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=t.append("xhtml:div"),i=re();let a=e.label;e.label&&ls(e.label)&&(a=await ay(e.label.replace(vs.lineBreakRegex,`
`),i));const l='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+a+"</span>";return n.html(si(l,i)),sA(n,e.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}b(lA,"addHtmlLabel");var GG=b(async(e,t,n,i)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),$e(re().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),ot.info("vertexText"+a);const s={isNode:i,label:ja(a).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await lA(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let l=[];typeof a=="string"?l=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?l=a:l=[];for(const c of l){const f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),n?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=c.trim(),s.appendChild(f)}return s}},"createLabel"),Pa=GG,la=b((e,t,n,i,a)=>["M",e+a,t,"H",e+n-a,"A",a,a,0,0,1,e+n,t+a,"V",t+i-a,"A",a,a,0,0,1,e+n-a,t+i,"H",e+a,"A",a,a,0,0,1,e,t+i-a,"V",t+a,"A",a,a,0,0,1,e+a,t,"Z"].join(" "),"createRoundedRectPathD"),cA=b(async(e,t)=>{ot.info("Creating subgraph rect for ",t.id,t);const n=re(),{themeVariables:i,handDrawnSeed:a}=n,{clusterBkg:s,clusterBorder:l}=i,{labelStyles:c,nodeStyles:f,borderStyles:h,backgroundStyles:d}=bt(t),m=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=$e(n.flowchart.htmlLabels),x=m.insert("g").attr("class","cluster-label "),S=await sa(x,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0});let T=S.getBBox();if($e(n.flowchart.htmlLabels)){const N=S.children[0],Z=Kt(S);T=N.getBoundingClientRect(),Z.attr("width",T.width),Z.attr("height",T.height)}const E=t.width<=T.width+t.padding?T.width+t.padding:t.width;t.width<=T.width+t.padding?t.diff=(E-t.width)/2-t.padding:t.diff=-t.padding;const A=t.height,k=t.x-E/2,R=t.y-A/2;ot.trace("Data ",t,JSON.stringify(t));let I;if(t.look==="handDrawn"){const N=St.svg(m),Z=Tt(t,{roughness:.7,fill:s,stroke:l,fillWeight:3,seed:a}),K=N.path(la(k,R,E,A,0),Z);I=m.insert(()=>(ot.debug("Rough node insert CXC",K),K),":first-child"),I.select("path:nth-child(2)").attr("style",h.join(";")),I.select("path").attr("style",d.join(";").replace("fill","stroke"))}else I=m.insert("rect",":first-child"),I.attr("style",f).attr("rx",t.rx).attr("ry",t.ry).attr("x",k).attr("y",R).attr("width",E).attr("height",A);const{subGraphTitleTopMargin:B}=Ry(n);if(x.attr("transform",`translate(${t.x-T.width/2}, ${t.y-t.height/2+B})`),c){const N=x.select("span");N&&N.attr("style",c)}const L=I.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=T.height-t.padding/2,t.intersect=function(N){return Ss(t,N)},{cluster:m,labelBBox:T}},"rect"),VG=b((e,t)=>{const n=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=n.insert("rect",":first-child"),a=0*t.padding,s=a/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+a).attr("height",t.height+a).attr("fill","none");const l=i.node().getBBox();return t.width=l.width,t.height=l.height,t.intersect=function(c){return Ss(t,c)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),YG=b(async(e,t)=>{const n=re(),{themeVariables:i,handDrawnSeed:a}=n,{altBackground:s,compositeBackground:l,compositeTitleBackground:c,nodeBorder:f}=i,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=h.insert("g",":first-child"),m=h.insert("g").attr("class","cluster-label");let v=h.append("rect");const x=m.node().appendChild(await Pa(t.label,t.labelStyle,void 0,!0));let S=x.getBBox();if($e(n.flowchart.htmlLabels)){const K=x.children[0],tt=Kt(x);S=K.getBoundingClientRect(),tt.attr("width",S.width),tt.attr("height",S.height)}const T=0*t.padding,E=T/2,A=(t.width<=S.width+t.padding?S.width+t.padding:t.width)+T;t.width<=S.width+t.padding?t.diff=(A-t.width)/2-t.padding:t.diff=-t.padding;const k=t.height+T,R=t.height+T-S.height-6,I=t.x-A/2,B=t.y-k/2;t.width=A;const L=t.y-t.height/2-E+S.height+2;let N;if(t.look==="handDrawn"){const K=t.cssClasses.includes("statediagram-cluster-alt"),tt=St.svg(h),V=t.rx||t.ry?tt.path(la(I,B,A,k,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:f,seed:a}):tt.rectangle(I,B,A,k,{seed:a});N=h.insert(()=>V,":first-child");const lt=tt.rectangle(I,L,A,R,{fill:K?s:l,fillStyle:K?"hachure":"solid",stroke:f,seed:a});N=h.insert(()=>V,":first-child"),v=h.insert(()=>lt)}else N=d.insert("rect",":first-child"),N.attr("class","outer").attr("x",I).attr("y",B).attr("width",A).attr("height",k).attr("data-look",t.look),v.attr("class","inner").attr("x",I).attr("y",L).attr("width",A).attr("height",R);m.attr("transform",`translate(${t.x-S.width/2}, ${B+1-($e(n.flowchart.htmlLabels)?0:3)})`);const Z=N.node().getBBox();return t.height=Z.height,t.offsetX=0,t.offsetY=S.height-t.padding/2,t.labelBBox=S,t.intersect=function(K){return Ss(t,K)},{cluster:h,labelBBox:S}},"roundedWithTitle"),WG=b(async(e,t)=>{ot.info("Creating subgraph rect for ",t.id,t);const n=re(),{themeVariables:i,handDrawnSeed:a}=n,{clusterBkg:s,clusterBorder:l}=i,{labelStyles:c,nodeStyles:f,borderStyles:h,backgroundStyles:d}=bt(t),m=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=$e(n.flowchart.htmlLabels),x=m.insert("g").attr("class","cluster-label "),S=await sa(x,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0,width:t.width});let T=S.getBBox();if($e(n.flowchart.htmlLabels)){const N=S.children[0],Z=Kt(S);T=N.getBoundingClientRect(),Z.attr("width",T.width),Z.attr("height",T.height)}const E=t.width<=T.width+t.padding?T.width+t.padding:t.width;t.width<=T.width+t.padding?t.diff=(E-t.width)/2-t.padding:t.diff=-t.padding;const A=t.height,k=t.x-E/2,R=t.y-A/2;ot.trace("Data ",t,JSON.stringify(t));let I;if(t.look==="handDrawn"){const N=St.svg(m),Z=Tt(t,{roughness:.7,fill:s,stroke:l,fillWeight:4,seed:a}),K=N.path(la(k,R,E,A,t.rx),Z);I=m.insert(()=>(ot.debug("Rough node insert CXC",K),K),":first-child"),I.select("path:nth-child(2)").attr("style",h.join(";")),I.select("path").attr("style",d.join(";").replace("fill","stroke"))}else I=m.insert("rect",":first-child"),I.attr("style",f).attr("rx",t.rx).attr("ry",t.ry).attr("x",k).attr("y",R).attr("width",E).attr("height",A);const{subGraphTitleTopMargin:B}=Ry(n);if(x.attr("transform",`translate(${t.x-T.width/2}, ${t.y-t.height/2+B})`),c){const N=x.select("span");N&&N.attr("style",c)}const L=I.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=T.height-t.padding/2,t.intersect=function(N){return Ss(t,N)},{cluster:m,labelBBox:T}},"kanbanSection"),XG=b((e,t)=>{const n=re(),{themeVariables:i,handDrawnSeed:a}=n,{nodeBorder:s}=i,l=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),c=l.insert("g",":first-child"),f=0*t.padding,h=t.width+f;t.diff=-t.padding;const d=t.height+f,m=t.x-h/2,v=t.y-d/2;t.width=h;let x;if(t.look==="handDrawn"){const E=St.svg(l).rectangle(m,v,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:a});x=l.insert(()=>E,":first-child")}else x=c.insert("rect",":first-child"),x.attr("class","divider").attr("x",m).attr("y",v).attr("width",h).attr("height",d).attr("data-look",t.look);const S=x.node().getBBox();return t.height=S.height,t.offsetX=0,t.offsetY=0,t.intersect=function(T){return Ss(t,T)},{cluster:l,labelBBox:{}}},"divider"),JG=cA,KG={rect:cA,squareRect:JG,roundedWithTitle:YG,noteGroup:VG,divider:XG,kanbanSection:WG},uA=new Map,QG=b(async(e,t)=>{const n=t.shape||"rect",i=await KG[n](e,t);return uA.set(t.id,i),i},"insertCluster"),AW=b(()=>{uA=new Map},"clear");function hA(e,t){return e.intersect(t)}b(hA,"intersectNode");var ZG=hA;function fA(e,t,n,i){var a=e.x,s=e.y,l=a-i.x,c=s-i.y,f=Math.sqrt(t*t*c*c+n*n*l*l),h=Math.abs(t*n*l/f);i.x<a&&(h=-h);var d=Math.abs(t*n*c/f);return i.y<s&&(d=-d),{x:a+h,y:s+d}}b(fA,"intersectEllipse");var dA=fA;function pA(e,t,n){return dA(e,t,t,n)}b(pA,"intersectCircle");var jG=pA;function gA(e,t,n,i){{const a=t.y-e.y,s=e.x-t.x,l=t.x*e.y-e.x*t.y,c=a*n.x+s*n.y+l,f=a*i.x+s*i.y+l,h=1e-6;if(c!==0&&f!==0&&Im(c,f))return;const d=i.y-n.y,m=n.x-i.x,v=i.x*n.y-n.x*i.y,x=d*e.x+m*e.y+v,S=d*t.x+m*t.y+v;if(Math.abs(x)<h&&Math.abs(S)<h&&Im(x,S))return;const T=a*m-d*s;if(T===0)return;const E=Math.abs(T/2);let A=s*v-m*l;const k=A<0?(A-E)/T:(A+E)/T;A=d*l-a*v;const R=A<0?(A-E)/T:(A+E)/T;return{x:k,y:R}}}b(gA,"intersectLine");function Im(e,t){return e*t>0}b(Im,"sameSign");var t9=gA;function mA(e,t,n){let i=e.x,a=e.y,s=[],l=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){l=Math.min(l,d.x),c=Math.min(c,d.y)}):(l=Math.min(l,t.x),c=Math.min(c,t.y));let f=i-e.width/2-l,h=a-e.height/2-c;for(let d=0;d<t.length;d++){let m=t[d],v=t[d<t.length-1?d+1:0],x=t9(e,n,{x:f+m.x,y:h+m.y},{x:f+v.x,y:h+v.y});x&&s.push(x)}return s.length?(s.length>1&&s.sort(function(d,m){let v=d.x-n.x,x=d.y-n.y,S=Math.sqrt(v*v+x*x),T=m.x-n.x,E=m.y-n.y,A=Math.sqrt(T*T+E*E);return S<A?-1:S===A?0:1}),s[0]):e}b(mA,"intersectPolygon");var e9=mA,yt={node:ZG,circle:jG,ellipse:dA,polygon:e9,rect:Ss};function yA(e,t){const{labelStyles:n}=bt(t);t.labelStyle=n;const i=Lt(t);let a=i;i||(a="anchor");const s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=1,{cssStyles:c}=t,f=St.svg(s),h=Tt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const d=f.circle(0,0,l*2,h),m=s.insert(()=>d,":first-child");return m.attr("class","anchor").attr("style",sn(c)),Et(t,m),t.intersect=function(v){return ot.info("Circle intersect",t,l,v),yt.circle(t,l,v)},s}b(yA,"anchor");function Bm(e,t,n,i,a,s,l){const f=(e+n)/2,h=(t+i)/2,d=Math.atan2(i-t,n-e),m=(n-e)/2,v=(i-t)/2,x=m/a,S=v/s,T=Math.sqrt(x**2+S**2);if(T>1)throw new Error("The given radii are too small to create an arc between the points.");const E=Math.sqrt(1-T**2),A=f+E*s*Math.sin(d)*(l?-1:1),k=h-E*a*Math.cos(d)*(l?-1:1),R=Math.atan2((t-k)/s,(e-A)/a);let B=Math.atan2((i-k)/s,(n-A)/a)-R;l&&B<0&&(B+=2*Math.PI),!l&&B>0&&(B-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const Z=N/19,K=R+Z*B,tt=A+a*Math.cos(K),V=k+s*Math.sin(K);L.push({x:tt,y:V})}return L}b(Bm,"generateArcPoints");async function vA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=s.width+t.padding+20,c=s.height+t.padding,f=c/2,h=f/(2.5+c/50),{cssStyles:d}=t,m=[{x:l/2,y:-c/2},{x:-l/2,y:-c/2},...Bm(-l/2,-c/2,-l/2,c/2,h,f,!1),{x:l/2,y:c/2},...Bm(l/2,c/2,l/2,-c/2,h,f,!0)],v=St.svg(a),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=Yt(m),T=v.path(S,x),E=a.insert(()=>T,":first-child");return E.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(${h/2}, 0)`),Et(t,E),t.intersect=function(A){return yt.polygon(t,m,A)},a}b(vA,"bowTieRect");function ca(e,t,n,i){return e.insert("polygon",":first-child").attr("points",i.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}b(ca,"insertPolygonShape");async function _A(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=s.height+t.padding,c=12,f=s.width+t.padding+c,h=0,d=f,m=-l,v=0,x=[{x:h+c,y:m},{x:d,y:m},{x:d,y:v},{x:h,y:v},{x:h,y:m+c},{x:h+c,y:m}];let S;const{cssStyles:T}=t;if(t.look==="handDrawn"){const E=St.svg(a),A=Tt(t,{}),k=Yt(x),R=E.path(k,A);S=a.insert(()=>R,":first-child").attr("transform",`translate(${-f/2}, ${l/2})`),T&&S.attr("style",T)}else S=ca(a,f,l,x);return i&&S.attr("style",i),Et(t,S),t.intersect=function(E){return yt.polygon(t,x,E)},a}b(_A,"card");function xA(e,t){const{nodeStyles:n}=bt(t);t.label="";const i=e.insert("g").attr("class",Lt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,s=Math.max(28,t.width??0),l=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],c=St.svg(i),f=Tt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const h=Yt(l),d=c.path(h,f),m=i.insert(()=>d,":first-child");return a&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),t.width=28,t.height=28,t.intersect=function(v){return yt.polygon(t,l,v)},i}b(xA,"choice");async function jy(e,t,n){const{labelStyles:i,nodeStyles:a}=bt(t);t.labelStyle=i;const{shapeSvg:s,bbox:l,halfPadding:c}=await Nt(e,t,Lt(t)),f=(n==null?void 0:n.padding)??c,h=l.width/2+f;let d;const{cssStyles:m}=t;if(t.look==="handDrawn"){const v=St.svg(s),x=Tt(t,{}),S=v.circle(0,0,h*2,x);d=s.insert(()=>S,":first-child"),d.attr("class","basic label-container").attr("style",sn(m))}else d=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",a).attr("r",h).attr("cx",0).attr("cy",0);return Et(t,d),t.calcIntersect=function(v,x){const S=v.width/2;return yt.circle(v,S,x)},t.intersect=function(v){return ot.info("Circle intersect",t,h,v),yt.circle(t,h,v)},s}b(jy,"circle");function CA(e){const t=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),i=e*2,a={x:i/2*t,y:i/2*n},s={x:-(i/2)*t,y:i/2*n},l={x:-(i/2)*t,y:-(i/2)*n},c={x:i/2*t,y:-(i/2)*n};return`M ${s.x},${s.y} L ${c.x},${c.y}
                   M ${a.x},${a.y} L ${l.x},${l.y}`}b(CA,"createLine");function SA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n,t.label="";const a=e.insert("g").attr("class",Lt(t)).attr("id",t.domId??t.id),s=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:l}=t,c=St.svg(a),f=Tt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const h=c.circle(0,0,s*2,f),d=CA(s),m=c.path(d,f),v=a.insert(()=>h,":first-child");return v.insert(()=>m),l&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",l),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),Et(t,v),t.intersect=function(x){return ot.info("crossedCircle intersect",t,{radius:s,point:x}),yt.circle(t,s,x)},a}b(SA,"crossedCircle");function dr(e,t,n,i=100,a=0,s=180){const l=[],c=a*Math.PI/180,d=(s*Math.PI/180-c)/(i-1);for(let m=0;m<i;m++){const v=c+m*d,x=e+n*Math.cos(v),S=t+n*Math.sin(v);l.push({x:-x,y:-S})}return l}b(dr,"generateCirclePoints");async function TA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=s.width+(t.padding??0),f=s.height+(t.padding??0),h=Math.max(5,f*.1),{cssStyles:d}=t,m=[...dr(c/2,-f/2,h,30,-90,0),{x:-c/2-h,y:h},...dr(c/2+h*2,-h,h,20,-180,-270),...dr(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-f/2},...dr(c/2,f/2,h,20,0,90)],v=[{x:c/2,y:-f/2-h},{x:-c/2,y:-f/2-h},...dr(c/2,-f/2,h,20,-90,0),{x:-c/2-h,y:-h},...dr(c/2+c*.1,-h,h,20,-180,-270),...dr(c/2+c*.1,h,h,20,-90,-180),{x:-c/2-h,y:f/2},...dr(c/2,f/2,h,20,0,90),{x:-c/2,y:f/2+h},{x:c/2,y:f/2+h}],x=St.svg(a),S=Tt(t,{fill:"none"});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const E=Yt(m).replace("Z",""),A=x.path(E,S),k=Yt(v),R=x.path(k,{...S}),I=a.insert("g",":first-child");return I.insert(()=>R,":first-child").attr("stroke-opacity",0),I.insert(()=>A,":first-child"),I.attr("class","text"),d&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",i),I.attr("transform",`translate(${h}, 0)`),l.attr("transform",`translate(${-c/2+h-(s.x-(s.left??0))},${-f/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Et(t,I),t.intersect=function(B){return yt.polygon(t,v,B)},a}b(TA,"curlyBraceLeft");function pr(e,t,n,i=100,a=0,s=180){const l=[],c=a*Math.PI/180,d=(s*Math.PI/180-c)/(i-1);for(let m=0;m<i;m++){const v=c+m*d,x=e+n*Math.cos(v),S=t+n*Math.sin(v);l.push({x,y:S})}return l}b(pr,"generateCirclePoints");async function bA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=s.width+(t.padding??0),f=s.height+(t.padding??0),h=Math.max(5,f*.1),{cssStyles:d}=t,m=[...pr(c/2,-f/2,h,20,-90,0),{x:c/2+h,y:-h},...pr(c/2+h*2,-h,h,20,-180,-270),...pr(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:f/2},...pr(c/2,f/2,h,20,0,90)],v=[{x:-c/2,y:-f/2-h},{x:c/2,y:-f/2-h},...pr(c/2,-f/2,h,20,-90,0),{x:c/2+h,y:-h},...pr(c/2+h*2,-h,h,20,-180,-270),...pr(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:f/2},...pr(c/2,f/2,h,20,0,90),{x:c/2,y:f/2+h},{x:-c/2,y:f/2+h}],x=St.svg(a),S=Tt(t,{fill:"none"});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const E=Yt(m).replace("Z",""),A=x.path(E,S),k=Yt(v),R=x.path(k,{...S}),I=a.insert("g",":first-child");return I.insert(()=>R,":first-child").attr("stroke-opacity",0),I.insert(()=>A,":first-child"),I.attr("class","text"),d&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",i),I.attr("transform",`translate(${-h}, 0)`),l.attr("transform",`translate(${-c/2+(t.padding??0)/2-(s.x-(s.left??0))},${-f/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Et(t,I),t.intersect=function(B){return yt.polygon(t,v,B)},a}b(bA,"curlyBraceRight");function Qe(e,t,n,i=100,a=0,s=180){const l=[],c=a*Math.PI/180,d=(s*Math.PI/180-c)/(i-1);for(let m=0;m<i;m++){const v=c+m*d,x=e+n*Math.cos(v),S=t+n*Math.sin(v);l.push({x:-x,y:-S})}return l}b(Qe,"generateCirclePoints");async function EA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=s.width+(t.padding??0),f=s.height+(t.padding??0),h=Math.max(5,f*.1),{cssStyles:d}=t,m=[...Qe(c/2,-f/2,h,30,-90,0),{x:-c/2-h,y:h},...Qe(c/2+h*2,-h,h,20,-180,-270),...Qe(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-f/2},...Qe(c/2,f/2,h,20,0,90)],v=[...Qe(-c/2+h+h/2,-f/2,h,20,-90,-180),{x:c/2-h/2,y:h},...Qe(-c/2-h/2,-h,h,20,0,90),...Qe(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...Qe(-c/2+h+h/2,f/2,h,30,-180,-270)],x=[{x:c/2,y:-f/2-h},{x:-c/2,y:-f/2-h},...Qe(c/2,-f/2,h,20,-90,0),{x:-c/2-h,y:-h},...Qe(c/2+h*2,-h,h,20,-180,-270),...Qe(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:f/2},...Qe(c/2,f/2,h,20,0,90),{x:-c/2,y:f/2+h},{x:c/2-h-h/2,y:f/2+h},...Qe(-c/2+h+h/2,-f/2,h,20,-90,-180),{x:c/2-h/2,y:h},...Qe(-c/2-h/2,-h,h,20,0,90),...Qe(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...Qe(-c/2+h+h/2,f/2,h,30,-180,-270)],S=St.svg(a),T=Tt(t,{fill:"none"});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const A=Yt(m).replace("Z",""),k=S.path(A,T),I=Yt(v).replace("Z",""),B=S.path(I,T),L=Yt(x),N=S.path(L,{...T}),Z=a.insert("g",":first-child");return Z.insert(()=>N,":first-child").attr("stroke-opacity",0),Z.insert(()=>k,":first-child"),Z.insert(()=>B,":first-child"),Z.attr("class","text"),d&&t.look!=="handDrawn"&&Z.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&Z.selectAll("path").attr("style",i),Z.attr("transform",`translate(${h-h/4}, 0)`),l.attr("transform",`translate(${-c/2+(t.padding??0)/2-(s.x-(s.left??0))},${-f/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Et(t,Z),t.intersect=function(K){return yt.polygon(t,x,K)},a}b(EA,"curlyBraces");async function wA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=80,c=20,f=Math.max(l,(s.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),h=Math.max(c,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=h/2,{cssStyles:m}=t,v=St.svg(a),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=f,T=h,E=S-d,A=T/4,k=[{x:E,y:0},{x:A,y:0},{x:0,y:T/2},{x:A,y:T},{x:E,y:T},...fc(-E,-T/2,d,50,270,90)],R=Yt(k),I=v.path(R,x),B=a.insert(()=>I,":first-child");return B.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&B.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&B.selectChildren("path").attr("style",i),B.attr("transform",`translate(${-f/2}, ${-h/2})`),Et(t,B),t.intersect=function(L){return yt.polygon(t,k,L)},a}b(wA,"curvedTrapezoid");var n9=b((e,t,n,i,a,s)=>[`M${e},${t+s}`,`a${a},${s} 0,0,0 ${n},0`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${i}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),i9=b((e,t,n,i,a,s)=>[`M${e},${t+s}`,`M${e+n},${t+s}`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${i}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),r9=b((e,t,n,i,a,s)=>[`M${e-n/2},${-i/2}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function AA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+t.padding,t.width??0),f=c/2,h=f/(2.5+c/50),d=Math.max(s.height+h+t.padding,t.height??0);let m;const{cssStyles:v}=t;if(t.look==="handDrawn"){const x=St.svg(a),S=i9(0,0,c,d,f,h),T=r9(0,h,c,d,f,h),E=x.path(S,Tt(t,{})),A=x.path(T,Tt(t,{fill:"none"}));m=a.insert(()=>A,":first-child"),m=a.insert(()=>E,":first-child"),m.attr("class","basic label-container"),v&&m.attr("style",v)}else{const x=n9(0,0,c,d,f,h);m=a.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",sn(v)).attr("style",i)}return m.attr("label-offset-y",h),m.attr("transform",`translate(${-c/2}, ${-(d/2+h)})`),Et(t,m),l.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(x){const S=yt.rect(t,x),T=S.x-(t.x??0);if(f!=0&&(Math.abs(T)<(t.width??0)/2||Math.abs(T)==(t.width??0)/2&&Math.abs(S.y-(t.y??0))>(t.height??0)/2-h)){let E=h*h*(1-T*T/(f*f));E>0&&(E=Math.sqrt(E)),E=h-E,x.y-(t.y??0)>0&&(E=-E),S.y+=E}return S},a}b(AA,"cylinder");async function kA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=s.width+t.padding,f=s.height+t.padding,h=f*.2,d=-c/2,m=-f/2-h/2,{cssStyles:v}=t,x=St.svg(a),S=Tt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=[{x:d,y:m+h},{x:-d,y:m+h},{x:-d,y:-m},{x:d,y:-m},{x:d,y:m},{x:-d,y:m},{x:-d,y:m+h}],E=x.polygon(T.map(k=>[k.x,k.y]),S),A=a.insert(()=>E,":first-child");return A.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",i),l.attr("transform",`translate(${d+(t.padding??0)/2-(s.x-(s.left??0))}, ${m+h+(t.padding??0)/2-(s.y-(s.top??0))})`),Et(t,A),t.intersect=function(k){return yt.rect(t,k)},a}b(kA,"dividedRectangle");async function MA(e,t){var v,x;const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:l}=await Nt(e,t,Lt(t)),f=s.width/2+l+5,h=s.width/2+l;let d;const{cssStyles:m}=t;if(t.look==="handDrawn"){const S=St.svg(a),T=Tt(t,{roughness:.2,strokeWidth:2.5}),E=Tt(t,{roughness:.2,strokeWidth:1.5}),A=S.circle(0,0,f*2,T),k=S.circle(0,0,h*2,E);d=a.insert("g",":first-child"),d.attr("class",sn(t.cssClasses)).attr("style",sn(m)),(v=d.node())==null||v.appendChild(A),(x=d.node())==null||x.appendChild(k)}else{d=a.insert("g",":first-child");const S=d.insert("circle",":first-child"),T=d.insert("circle");d.attr("class","basic label-container").attr("style",i),S.attr("class","outer-circle").attr("style",i).attr("r",f).attr("cx",0).attr("cy",0),T.attr("class","inner-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0)}return Et(t,d),t.intersect=function(S){return ot.info("DoubleCircle intersect",t,f,S),yt.circle(t,f,S)},a}b(MA,"doublecircle");function RA(e,t,{config:{themeVariables:n}}){const{labelStyles:i,nodeStyles:a}=bt(t);t.label="",t.labelStyle=i;const s=e.insert("g").attr("class",Lt(t)).attr("id",t.domId??t.id),l=7,{cssStyles:c}=t,f=St.svg(s),{nodeBorder:h}=n,d=Tt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const m=f.circle(0,0,l*2,d),v=s.insert(()=>m,":first-child");return v.selectAll("path").attr("style",`fill: ${h} !important;`),c&&c.length>0&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",c),a&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",a),Et(t,v),t.intersect=function(x){return ot.info("filledCircle intersect",t,{radius:l,point:x}),yt.circle(t,l,x)},s}b(RA,"filledCircle");async function LA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=s.width+(t.padding??0),f=c+s.height,h=c+s.height,d=[{x:0,y:-f},{x:h,y:-f},{x:h/2,y:0}],{cssStyles:m}=t,v=St.svg(a),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=Yt(d),T=v.path(S,x),E=a.insert(()=>T,":first-child").attr("transform",`translate(${-f/2}, ${f/2})`);return m&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",i),t.width=c,t.height=f,Et(t,E),l.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-f/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(A){return ot.info("Triangle intersect",t,d,A),yt.polygon(t,d,A)},a}b(LA,"flippedTriangle");function DA(e,t,{dir:n,config:{state:i,themeVariables:a}}){const{nodeStyles:s}=bt(t);t.label="";const l=e.insert("g").attr("class",Lt(t)).attr("id",t.domId??t.id),{cssStyles:c}=t;let f=Math.max(70,(t==null?void 0:t.width)??0),h=Math.max(10,(t==null?void 0:t.height)??0);n==="LR"&&(f=Math.max(10,(t==null?void 0:t.width)??0),h=Math.max(70,(t==null?void 0:t.height)??0));const d=-1*f/2,m=-1*h/2,v=St.svg(l),x=Tt(t,{stroke:a.lineColor,fill:a.lineColor});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=v.rectangle(d,m,f,h,x),T=l.insert(()=>S,":first-child");c&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",c),s&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",s),Et(t,T);const E=(i==null?void 0:i.padding)??0;return t.width&&t.height&&(t.width+=E/2||0,t.height+=E/2||0),t.intersect=function(A){return yt.rect(t,A)},l}b(DA,"forkJoin");async function NA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const a=80,s=50,{shapeSvg:l,bbox:c}=await Nt(e,t,Lt(t)),f=Math.max(a,c.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(s,c.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=h/2,{cssStyles:m}=t,v=St.svg(l),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=[{x:-f/2,y:-h/2},{x:f/2-d,y:-h/2},...fc(-f/2+d,0,d,50,90,270),{x:f/2-d,y:h/2},{x:-f/2,y:h/2}],T=Yt(S),E=v.path(T,x),A=l.insert(()=>E,":first-child");return A.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",i),Et(t,A),t.intersect=function(k){return ot.info("Pill intersect",t,{radius:d,point:k}),yt.polygon(t,S,k)},l}b(NA,"halfRoundedRectangle");async function IA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=s.height+(t.padding??0),c=s.width+(t.padding??0)*2.5,{cssStyles:f}=t,h=St.svg(a),d=Tt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let m=c/2;const v=m/6;m=m+v;const x=l/2,S=x/2,T=m-S,E=[{x:-T,y:-x},{x:0,y:-x},{x:T,y:-x},{x:m,y:0},{x:T,y:x},{x:0,y:x},{x:-T,y:x},{x:-m,y:0}],A=Yt(E),k=h.path(A,d),R=a.insert(()=>k,":first-child");return R.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&R.selectChildren("path").attr("style",f),i&&t.look!=="handDrawn"&&R.selectChildren("path").attr("style",i),t.width=c,t.height=l,Et(t,R),t.intersect=function(I){return yt.polygon(t,E,I)},a}b(IA,"hexagon");async function BA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.label="",t.labelStyle=n;const{shapeSvg:a}=await Nt(e,t,Lt(t)),s=Math.max(30,(t==null?void 0:t.width)??0),l=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:c}=t,f=St.svg(a),h=Tt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=[{x:0,y:0},{x:s,y:0},{x:0,y:l},{x:s,y:l}],m=Yt(d),v=f.path(m,h),x=a.insert(()=>v,":first-child");return x.attr("class","basic label-container"),c&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",c),i&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",i),x.attr("transform",`translate(${-s/2}, ${-l/2})`),Et(t,x),t.intersect=function(S){return ot.info("Pill intersect",t,{points:d}),yt.polygon(t,d,S)},a}b(BA,"hourglass");async function FA(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:a}=bt(t);t.labelStyle=a;const s=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(s,l),f=i==null?void 0:i.wrappingWidth;t.width=Math.max(c,f??0);const{shapeSvg:h,bbox:d,label:m}=await Nt(e,t,"icon-shape default"),v=t.pos==="t",x=c,S=c,{nodeBorder:T}=n,{stylesMap:E}=_s(t),A=-S/2,k=-x/2,R=t.label?8:0,I=St.svg(h),B=Tt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(B.roughness=0,B.fillStyle="solid");const L=I.rectangle(A,k,S,x,B),N=Math.max(S,d.width),Z=x+d.height+R,K=I.rectangle(-N/2,-Z/2,N,Z,{...B,fill:"transparent",stroke:"none"}),tt=h.insert(()=>L,":first-child"),V=h.insert(()=>K);if(t.icon){const lt=h.append("g");lt.html(`<g>${await Tc(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const et=lt.node().getBBox(),Y=et.width,G=et.height,D=et.x,U=et.y;lt.attr("transform",`translate(${-Y/2-D},${v?d.height/2+R/2-G/2-U:-d.height/2-R/2-G/2-U})`),lt.attr("style",`color: ${E.get("stroke")??T};`)}return m.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${v?-Z/2:Z/2-d.height})`),tt.attr("transform",`translate(0,${v?d.height/2+R/2:-d.height/2-R/2})`),Et(t,V),t.intersect=function(lt){if(ot.info("iconSquare intersect",t,lt),!t.label)return yt.rect(t,lt);const et=t.x??0,Y=t.y??0,G=t.height??0;let D=[];return v?D=[{x:et-d.width/2,y:Y-G/2},{x:et+d.width/2,y:Y-G/2},{x:et+d.width/2,y:Y-G/2+d.height+R},{x:et+S/2,y:Y-G/2+d.height+R},{x:et+S/2,y:Y+G/2},{x:et-S/2,y:Y+G/2},{x:et-S/2,y:Y-G/2+d.height+R},{x:et-d.width/2,y:Y-G/2+d.height+R}]:D=[{x:et-S/2,y:Y-G/2},{x:et+S/2,y:Y-G/2},{x:et+S/2,y:Y-G/2+x},{x:et+d.width/2,y:Y-G/2+x},{x:et+d.width/2/2,y:Y+G/2},{x:et-d.width/2,y:Y+G/2},{x:et-d.width/2,y:Y-G/2+x},{x:et-S/2,y:Y-G/2+x}],yt.polygon(t,D,lt)},h}b(FA,"icon");async function OA(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:a}=bt(t);t.labelStyle=a;const s=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(s,l),f=i==null?void 0:i.wrappingWidth;t.width=Math.max(c,f??0);const{shapeSvg:h,bbox:d,label:m}=await Nt(e,t,"icon-shape default"),v=20,x=t.label?8:0,S=t.pos==="t",{nodeBorder:T,mainBkg:E}=n,{stylesMap:A}=_s(t),k=St.svg(h),R=Tt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=A.get("fill");R.stroke=I??E;const B=h.append("g");t.icon&&B.html(`<g>${await Tc(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const L=B.node().getBBox(),N=L.width,Z=L.height,K=L.x,tt=L.y,V=Math.max(N,Z)*Math.SQRT2+v*2,lt=k.circle(0,0,V,R),et=Math.max(V,d.width),Y=V+d.height+x,G=k.rectangle(-et/2,-Y/2,et,Y,{...R,fill:"transparent",stroke:"none"}),D=h.insert(()=>lt,":first-child"),U=h.insert(()=>G);return B.attr("transform",`translate(${-N/2-K},${S?d.height/2+x/2-Z/2-tt:-d.height/2-x/2-Z/2-tt})`),B.attr("style",`color: ${A.get("stroke")??T};`),m.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${S?-Y/2:Y/2-d.height})`),D.attr("transform",`translate(0,${S?d.height/2+x/2:-d.height/2-x/2})`),Et(t,U),t.intersect=function(z){return ot.info("iconSquare intersect",t,z),yt.rect(t,z)},h}b(OA,"iconCircle");async function PA(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:a}=bt(t);t.labelStyle=a;const s=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(s,l),f=i==null?void 0:i.wrappingWidth;t.width=Math.max(c,f??0);const{shapeSvg:h,bbox:d,halfPadding:m,label:v}=await Nt(e,t,"icon-shape default"),x=t.pos==="t",S=c+m*2,T=c+m*2,{nodeBorder:E,mainBkg:A}=n,{stylesMap:k}=_s(t),R=-T/2,I=-S/2,B=t.label?8:0,L=St.svg(h),N=Tt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const Z=k.get("fill");N.stroke=Z??A;const K=L.path(la(R,I,T,S,5),N),tt=Math.max(T,d.width),V=S+d.height+B,lt=L.rectangle(-tt/2,-V/2,tt,V,{...N,fill:"transparent",stroke:"none"}),et=h.insert(()=>K,":first-child").attr("class","icon-shape2"),Y=h.insert(()=>lt);if(t.icon){const G=h.append("g");G.html(`<g>${await Tc(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const D=G.node().getBBox(),U=D.width,z=D.height,st=D.x,ht=D.y;G.attr("transform",`translate(${-U/2-st},${x?d.height/2+B/2-z/2-ht:-d.height/2-B/2-z/2-ht})`),G.attr("style",`color: ${k.get("stroke")??E};`)}return v.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${x?-V/2:V/2-d.height})`),et.attr("transform",`translate(0,${x?d.height/2+B/2:-d.height/2-B/2})`),Et(t,Y),t.intersect=function(G){if(ot.info("iconSquare intersect",t,G),!t.label)return yt.rect(t,G);const D=t.x??0,U=t.y??0,z=t.height??0;let st=[];return x?st=[{x:D-d.width/2,y:U-z/2},{x:D+d.width/2,y:U-z/2},{x:D+d.width/2,y:U-z/2+d.height+B},{x:D+T/2,y:U-z/2+d.height+B},{x:D+T/2,y:U+z/2},{x:D-T/2,y:U+z/2},{x:D-T/2,y:U-z/2+d.height+B},{x:D-d.width/2,y:U-z/2+d.height+B}]:st=[{x:D-T/2,y:U-z/2},{x:D+T/2,y:U-z/2},{x:D+T/2,y:U-z/2+S},{x:D+d.width/2,y:U-z/2+S},{x:D+d.width/2/2,y:U+z/2},{x:D-d.width/2,y:U+z/2},{x:D-d.width/2,y:U-z/2+S},{x:D-T/2,y:U-z/2+S}],yt.polygon(t,st,G)},h}b(PA,"iconRounded");async function UA(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:a}=bt(t);t.labelStyle=a;const s=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(s,l),f=i==null?void 0:i.wrappingWidth;t.width=Math.max(c,f??0);const{shapeSvg:h,bbox:d,halfPadding:m,label:v}=await Nt(e,t,"icon-shape default"),x=t.pos==="t",S=c+m*2,T=c+m*2,{nodeBorder:E,mainBkg:A}=n,{stylesMap:k}=_s(t),R=-T/2,I=-S/2,B=t.label?8:0,L=St.svg(h),N=Tt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const Z=k.get("fill");N.stroke=Z??A;const K=L.path(la(R,I,T,S,.1),N),tt=Math.max(T,d.width),V=S+d.height+B,lt=L.rectangle(-tt/2,-V/2,tt,V,{...N,fill:"transparent",stroke:"none"}),et=h.insert(()=>K,":first-child"),Y=h.insert(()=>lt);if(t.icon){const G=h.append("g");G.html(`<g>${await Tc(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const D=G.node().getBBox(),U=D.width,z=D.height,st=D.x,ht=D.y;G.attr("transform",`translate(${-U/2-st},${x?d.height/2+B/2-z/2-ht:-d.height/2-B/2-z/2-ht})`),G.attr("style",`color: ${k.get("stroke")??E};`)}return v.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${x?-V/2:V/2-d.height})`),et.attr("transform",`translate(0,${x?d.height/2+B/2:-d.height/2-B/2})`),Et(t,Y),t.intersect=function(G){if(ot.info("iconSquare intersect",t,G),!t.label)return yt.rect(t,G);const D=t.x??0,U=t.y??0,z=t.height??0;let st=[];return x?st=[{x:D-d.width/2,y:U-z/2},{x:D+d.width/2,y:U-z/2},{x:D+d.width/2,y:U-z/2+d.height+B},{x:D+T/2,y:U-z/2+d.height+B},{x:D+T/2,y:U+z/2},{x:D-T/2,y:U+z/2},{x:D-T/2,y:U-z/2+d.height+B},{x:D-d.width/2,y:U-z/2+d.height+B}]:st=[{x:D-T/2,y:U-z/2},{x:D+T/2,y:U-z/2},{x:D+T/2,y:U-z/2+S},{x:D+d.width/2,y:U-z/2+S},{x:D+d.width/2/2,y:U+z/2},{x:D-d.width/2,y:U+z/2},{x:D-d.width/2,y:U-z/2+S},{x:D-T/2,y:U-z/2+S}],yt.polygon(t,st,G)},h}b(UA,"iconSquare");async function $A(e,t,{config:{flowchart:n}}){const i=new Image;i.src=(t==null?void 0:t.img)??"",await i.decode();const a=Number(i.naturalWidth.toString().replace("px","")),s=Number(i.naturalHeight.toString().replace("px",""));t.imageAspectRatio=a/s;const{labelStyles:l}=bt(t);t.labelStyle=l;const c=n==null?void 0:n.wrappingWidth;t.defaultWidth=n==null?void 0:n.wrappingWidth;const f=Math.max(t.label?c??0:0,(t==null?void 0:t.assetWidth)??a),h=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:f,d=t.constraint==="on"?h/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??s;t.width=Math.max(h,c??0);const{shapeSvg:m,bbox:v,label:x}=await Nt(e,t,"image-shape default"),S=t.pos==="t",T=-h/2,E=-d/2,A=t.label?8:0,k=St.svg(m),R=Tt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=k.rectangle(T,E,h,d,R),B=Math.max(h,v.width),L=d+v.height+A,N=k.rectangle(-B/2,-L/2,B,L,{...R,fill:"none",stroke:"none"}),Z=m.insert(()=>I,":first-child"),K=m.insert(()=>N);if(t.img){const tt=m.append("image");tt.attr("href",t.img),tt.attr("width",h),tt.attr("height",d),tt.attr("preserveAspectRatio","none"),tt.attr("transform",`translate(${-h/2},${S?L/2-d:-L/2})`)}return x.attr("transform",`translate(${-v.width/2-(v.x-(v.left??0))},${S?-d/2-v.height/2-A/2:d/2-v.height/2+A/2})`),Z.attr("transform",`translate(0,${S?v.height/2+A/2:-v.height/2-A/2})`),Et(t,K),t.intersect=function(tt){if(ot.info("iconSquare intersect",t,tt),!t.label)return yt.rect(t,tt);const V=t.x??0,lt=t.y??0,et=t.height??0;let Y=[];return S?Y=[{x:V-v.width/2,y:lt-et/2},{x:V+v.width/2,y:lt-et/2},{x:V+v.width/2,y:lt-et/2+v.height+A},{x:V+h/2,y:lt-et/2+v.height+A},{x:V+h/2,y:lt+et/2},{x:V-h/2,y:lt+et/2},{x:V-h/2,y:lt-et/2+v.height+A},{x:V-v.width/2,y:lt-et/2+v.height+A}]:Y=[{x:V-h/2,y:lt-et/2},{x:V+h/2,y:lt-et/2},{x:V+h/2,y:lt-et/2+d},{x:V+v.width/2,y:lt-et/2+d},{x:V+v.width/2/2,y:lt+et/2},{x:V-v.width/2,y:lt+et/2},{x:V-v.width/2,y:lt-et/2+d},{x:V-h/2,y:lt-et/2+d}],yt.polygon(t,Y,tt)},m}b($A,"imageSquare");async function zA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=[{x:0,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:-3*c/6,y:-c}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=St.svg(a),v=Tt(t,{}),x=Yt(f),S=m.path(x,v);h=a.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),d&&h.attr("style",d)}else h=ca(a,l,c,f);return i&&h.attr("style",i),t.width=l,t.height=c,Et(t,h),t.intersect=function(m){return yt.polygon(t,f,m)},a}b(zA,"inv_trapezoid");async function Hf(e,t,n){const{labelStyles:i,nodeStyles:a}=bt(t);t.labelStyle=i;const{shapeSvg:s,bbox:l}=await Nt(e,t,Lt(t)),c=Math.max(l.width+n.labelPaddingX*2,(t==null?void 0:t.width)||0),f=Math.max(l.height+n.labelPaddingY*2,(t==null?void 0:t.height)||0),h=-c/2,d=-f/2;let m,{rx:v,ry:x}=t;const{cssStyles:S}=t;if(n!=null&&n.rx&&n.ry&&(v=n.rx,x=n.ry),t.look==="handDrawn"){const T=St.svg(s),E=Tt(t,{}),A=v||x?T.path(la(h,d,c,f,v||0),E):T.rectangle(h,d,c,f,E);m=s.insert(()=>A,":first-child"),m.attr("class","basic label-container").attr("style",sn(S))}else m=s.insert("rect",":first-child"),m.attr("class","basic label-container").attr("style",a).attr("rx",sn(v)).attr("ry",sn(x)).attr("x",h).attr("y",d).attr("width",c).attr("height",f);return Et(t,m),t.calcIntersect=function(T,E){return yt.rect(T,E)},t.intersect=function(T){return yt.rect(t,T)},s}b(Hf,"drawRect");async function qA(e,t){const{shapeSvg:n,bbox:i,label:a}=await Nt(e,t,"label"),s=n.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Et(t,s),t.intersect=function(f){return yt.rect(t,f)},n}b(qA,"labelRect");async function HA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),f=[{x:0,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:-(3*c)/6,y:-c}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=St.svg(a),v=Tt(t,{}),x=Yt(f),S=m.path(x,v);h=a.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),d&&h.attr("style",d)}else h=ca(a,l,c,f);return i&&h.attr("style",i),t.width=l,t.height=c,Et(t,h),t.intersect=function(m){return yt.polygon(t,f,m)},a}b(HA,"lean_left");async function GA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),f=[{x:-3*c/6,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:0,y:-c}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=St.svg(a),v=Tt(t,{}),x=Yt(f),S=m.path(x,v);h=a.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),d&&h.attr("style",d)}else h=ca(a,l,c,f);return i&&h.attr("style",i),t.width=l,t.height=c,Et(t,h),t.intersect=function(m){return yt.polygon(t,f,m)},a}b(GA,"lean_right");function VA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.label="",t.labelStyle=n;const a=e.insert("g").attr("class",Lt(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,l=Math.max(35,(t==null?void 0:t.width)??0),c=Math.max(35,(t==null?void 0:t.height)??0),f=7,h=[{x:l,y:0},{x:0,y:c+f/2},{x:l-2*f,y:c+f/2},{x:0,y:2*c},{x:l,y:c-f/2},{x:2*f,y:c-f/2}],d=St.svg(a),m=Tt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=Yt(h),x=d.path(v,m),S=a.insert(()=>x,":first-child");return s&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",s),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(-${l/2},${-c})`),Et(t,S),t.intersect=function(T){return ot.info("lightningBolt intersect",t,T),yt.polygon(t,h,T)},a}b(VA,"lightningBolt");var a9=b((e,t,n,i,a,s,l)=>[`M${e},${t+s}`,`a${a},${s} 0,0,0 ${n},0`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${i}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-i}`,`M${e},${t+s+l}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),o9=b((e,t,n,i,a,s,l)=>[`M${e},${t+s}`,`M${e+n},${t+s}`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${i}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-i}`,`M${e},${t+s+l}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),s9=b((e,t,n,i,a,s)=>[`M${e-n/2},${-i/2}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function YA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0),t.width??0),f=c/2,h=f/(2.5+c/50),d=Math.max(s.height+h+(t.padding??0),t.height??0),m=d*.1;let v;const{cssStyles:x}=t;if(t.look==="handDrawn"){const S=St.svg(a),T=o9(0,0,c,d,f,h,m),E=s9(0,h,c,d,f,h),A=Tt(t,{}),k=S.path(T,A),R=S.path(E,A);a.insert(()=>R,":first-child").attr("class","line"),v=a.insert(()=>k,":first-child"),v.attr("class","basic label-container"),x&&v.attr("style",x)}else{const S=a9(0,0,c,d,f,h,m);v=a.insert("path",":first-child").attr("d",S).attr("class","basic label-container").attr("style",sn(x)).attr("style",i)}return v.attr("label-offset-y",h),v.attr("transform",`translate(${-c/2}, ${-(d/2+h)})`),Et(t,v),l.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),t.intersect=function(S){const T=yt.rect(t,S),E=T.x-(t.x??0);if(f!=0&&(Math.abs(E)<(t.width??0)/2||Math.abs(E)==(t.width??0)/2&&Math.abs(T.y-(t.y??0))>(t.height??0)/2-h)){let A=h*h*(1-E*E/(f*f));A>0&&(A=Math.sqrt(A)),A=h-A,S.y-(t.y??0)>0&&(A=-A),T.y+=A}return T},a}b(YA,"linedCylinder");async function WA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=f/4,d=f+h,{cssStyles:m}=t,v=St.svg(a),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=[{x:-c/2-c/2*.1,y:-d/2},{x:-c/2-c/2*.1,y:d/2},...ra(-c/2-c/2*.1,d/2,c/2+c/2*.1,d/2,h,.8),{x:c/2+c/2*.1,y:-d/2},{x:-c/2-c/2*.1,y:-d/2},{x:-c/2,y:-d/2},{x:-c/2,y:d/2*1.1},{x:-c/2,y:-d/2}],T=v.polygon(S.map(A=>[A.x,A.y]),x),E=a.insert(()=>T,":first-child");return E.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)+c/2*.1/2-(s.x-(s.left??0))},${-f/2+(t.padding??0)-h/2-(s.y-(s.top??0))})`),Et(t,E),t.intersect=function(A){return yt.polygon(t,S,A)},a}b(WA,"linedWaveEdgedRect");async function XA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=5,d=-c/2,m=-f/2,{cssStyles:v}=t,x=St.svg(a),S=Tt(t,{}),T=[{x:d-h,y:m+h},{x:d-h,y:m+f+h},{x:d+c-h,y:m+f+h},{x:d+c-h,y:m+f},{x:d+c,y:m+f},{x:d+c,y:m+f-h},{x:d+c+h,y:m+f-h},{x:d+c+h,y:m-h},{x:d+h,y:m-h},{x:d+h,y:m},{x:d,y:m},{x:d,y:m+h}],E=[{x:d,y:m+h},{x:d+c-h,y:m+h},{x:d+c-h,y:m+f},{x:d+c,y:m+f},{x:d+c,y:m},{x:d,y:m}];t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const A=Yt(T),k=x.path(A,S),R=Yt(E),I=x.path(R,{...S,fill:"none"}),B=a.insert(()=>I,":first-child");return B.insert(()=>k,":first-child"),B.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),l.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),Et(t,B),t.intersect=function(L){return yt.polygon(t,T,L)},a}b(XA,"multiRect");async function JA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=f/4,d=f+h,m=-c/2,v=-d/2,x=5,{cssStyles:S}=t,T=ra(m-x,v+d+x,m+c-x,v+d+x,h,.8),E=T==null?void 0:T[T.length-1],A=[{x:m-x,y:v+x},{x:m-x,y:v+d+x},...T,{x:m+c-x,y:E.y-x},{x:m+c,y:E.y-x},{x:m+c,y:E.y-2*x},{x:m+c+x,y:E.y-2*x},{x:m+c+x,y:v-x},{x:m+x,y:v-x},{x:m+x,y:v},{x:m,y:v},{x:m,y:v+x}],k=[{x:m,y:v+x},{x:m+c-x,y:v+x},{x:m+c-x,y:E.y-x},{x:m+c,y:E.y-x},{x:m+c,y:v},{x:m,y:v}],R=St.svg(a),I=Tt(t,{});t.look!=="handDrawn"&&(I.roughness=0,I.fillStyle="solid");const B=Yt(A),L=R.path(B,I),N=Yt(k),Z=R.path(N,I),K=a.insert(()=>L,":first-child");return K.insert(()=>Z),K.attr("class","basic label-container"),S&&t.look!=="handDrawn"&&K.selectAll("path").attr("style",S),i&&t.look!=="handDrawn"&&K.selectAll("path").attr("style",i),K.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-(s.width/2)-x-(s.x-(s.left??0))}, ${-(s.height/2)+x-h/2-(s.y-(s.top??0))})`),Et(t,K),t.intersect=function(tt){return yt.polygon(t,A,tt)},a}b(JA,"multiWaveEdgedRectangle");async function KA(e,t,{config:{themeVariables:n}}){var k;const{labelStyles:i,nodeStyles:a}=bt(t);t.labelStyle=i,t.useHtmlLabels||((k=an().flowchart)==null?void 0:k.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:l,bbox:c,label:f}=await Nt(e,t,Lt(t)),h=Math.max(c.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),d=Math.max(c.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),m=-h/2,v=-d/2,{cssStyles:x}=t,S=St.svg(l),T=Tt(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=S.rectangle(m,v,h,d,T),A=l.insert(()=>E,":first-child");return A.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",x),a&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",a),f.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))}, ${-(c.height/2)-(c.y-(c.top??0))})`),Et(t,A),t.intersect=function(R){return yt.rect(t,R)},l}b(KA,"note");var l9=b((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function QA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=s.width+t.padding,c=s.height+t.padding,f=l+c,h=.5,d=[{x:f/2,y:0},{x:f,y:-f/2},{x:f/2,y:-f},{x:0,y:-f/2}];let m;const{cssStyles:v}=t;if(t.look==="handDrawn"){const x=St.svg(a),S=Tt(t,{}),T=l9(0,0,f),E=x.path(T,S);m=a.insert(()=>E,":first-child").attr("transform",`translate(${-f/2+h}, ${f/2})`),v&&m.attr("style",v)}else m=ca(a,f,f,d),m.attr("transform",`translate(${-f/2+h}, ${f/2})`);return i&&m.attr("style",i),Et(t,m),t.calcIntersect=function(x,S){const T=x.width,E=[{x:T/2,y:0},{x:T,y:-T/2},{x:T/2,y:-T},{x:0,y:-T/2}],A=yt.polygon(x,E,S);return{x:A.x-.5,y:A.y-.5}},t.intersect=function(x){return this.calcIntersect(t,x)},a}b(QA,"question");async function ZA(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),h=-c/2,d=-f/2,m=d/2,v=[{x:h+m,y:d},{x:h,y:0},{x:h+m,y:-d},{x:-h,y:-d},{x:-h,y:d}],{cssStyles:x}=t,S=St.svg(a),T=Tt(t,{});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=Yt(v),A=S.path(E,T),k=a.insert(()=>A,":first-child");return k.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),k.attr("transform",`translate(${-m/2},0)`),l.attr("transform",`translate(${-m/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Et(t,k),t.intersect=function(R){return yt.polygon(t,v,R)},a}b(ZA,"rect_left_inv_arrow");async function jA(e,t){var Z,K;const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;let a;t.cssClasses?a="node "+t.cssClasses:a="node default";const s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=s.insert("g"),c=s.insert("g").attr("class","label").attr("style",i),f=t.description,h=t.label,d=c.node().appendChild(await Pa(h,t.labelStyle,!0,!0));let m={width:0,height:0};if($e((K=(Z=re())==null?void 0:Z.flowchart)==null?void 0:K.htmlLabels)){const tt=d.children[0],V=Kt(d);m=tt.getBoundingClientRect(),V.attr("width",m.width),V.attr("height",m.height)}ot.info("Text 2",f);const v=f||[],x=d.getBBox(),S=c.node().appendChild(await Pa(v.join?v.join("<br/>"):v,t.labelStyle,!0,!0)),T=S.children[0],E=Kt(S);m=T.getBoundingClientRect(),E.attr("width",m.width),E.attr("height",m.height);const A=(t.padding||0)/2;Kt(S).attr("transform","translate( "+(m.width>x.width?0:(x.width-m.width)/2)+", "+(x.height+A+5)+")"),Kt(d).attr("transform","translate( "+(m.width<x.width?0:-(x.width-m.width)/2)+", 0)"),m=c.node().getBBox(),c.attr("transform","translate("+-m.width/2+", "+(-m.height/2-A+3)+")");const k=m.width+(t.padding||0),R=m.height+(t.padding||0),I=-m.width/2-A,B=-m.height/2-A;let L,N;if(t.look==="handDrawn"){const tt=St.svg(s),V=Tt(t,{}),lt=tt.path(la(I,B,k,R,t.rx||0),V),et=tt.line(-m.width/2-A,-m.height/2-A+x.height+A,m.width/2+A,-m.height/2-A+x.height+A,V);N=s.insert(()=>(ot.debug("Rough node insert CXC",lt),et),":first-child"),L=s.insert(()=>(ot.debug("Rough node insert CXC",lt),lt),":first-child")}else L=l.insert("rect",":first-child"),N=l.insert("line"),L.attr("class","outer title-state").attr("style",i).attr("x",-m.width/2-A).attr("y",-m.height/2-A).attr("width",m.width+(t.padding||0)).attr("height",m.height+(t.padding||0)),N.attr("class","divider").attr("x1",-m.width/2-A).attr("x2",m.width/2+A).attr("y1",-m.height/2-A+x.height+A).attr("y2",-m.height/2-A+x.height+A);return Et(t,L),t.intersect=function(tt){return yt.rect(t,tt)},s}b(jA,"rectWithTitle");function Wl(e,t,n,i,a,s,l){const f=(e+n)/2,h=(t+i)/2,d=Math.atan2(i-t,n-e),m=(n-e)/2,v=(i-t)/2,x=m/a,S=v/s,T=Math.sqrt(x**2+S**2);if(T>1)throw new Error("The given radii are too small to create an arc between the points.");const E=Math.sqrt(1-T**2),A=f+E*s*Math.sin(d)*(l?-1:1),k=h-E*a*Math.cos(d)*(l?-1:1),R=Math.atan2((t-k)/s,(e-A)/a);let B=Math.atan2((i-k)/s,(n-A)/a)-R;l&&B<0&&(B+=2*Math.PI),!l&&B>0&&(B-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const Z=N/19,K=R+Z*B,tt=A+a*Math.cos(K),V=k+s*Math.sin(K);L.push({x:tt,y:V})}return L}b(Wl,"generateArcPoints");async function tk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=(t==null?void 0:t.padding)??0,c=(t==null?void 0:t.padding)??0,f=(t!=null&&t.width?t==null?void 0:t.width:s.width)+l*2,h=(t!=null&&t.height?t==null?void 0:t.height:s.height)+c*2,d=t.radius||5,m=t.taper||5,{cssStyles:v}=t,x=St.svg(a),S=Tt(t,{});t.stroke&&(S.stroke=t.stroke),t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=[{x:-f/2+m,y:-h/2},{x:f/2-m,y:-h/2},...Wl(f/2-m,-h/2,f/2,-h/2+m,d,d,!0),{x:f/2,y:-h/2+m},{x:f/2,y:h/2-m},...Wl(f/2,h/2-m,f/2-m,h/2,d,d,!0),{x:f/2-m,y:h/2},{x:-f/2+m,y:h/2},...Wl(-f/2+m,h/2,-f/2,h/2-m,d,d,!0),{x:-f/2,y:h/2-m},{x:-f/2,y:-h/2+m},...Wl(-f/2,-h/2+m,-f/2+m,-h/2,d,d,!0)],E=Yt(T),A=x.path(E,S),k=a.insert(()=>A,":first-child");return k.attr("class","basic label-container outer-path"),v&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",v),i&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",i),Et(t,k),t.intersect=function(R){return yt.polygon(t,T,R)},a}b(tk,"roundedRect");async function ek(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=(t==null?void 0:t.padding)??0,f=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=-s.width/2-c,m=-s.height/2-c,{cssStyles:v}=t,x=St.svg(a),S=Tt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=[{x:d,y:m},{x:d+f+8,y:m},{x:d+f+8,y:m+h},{x:d-8,y:m+h},{x:d-8,y:m},{x:d,y:m},{x:d,y:m+h}],E=x.polygon(T.map(k=>[k.x,k.y]),S),A=a.insert(()=>E,":first-child");return A.attr("class","basic label-container").attr("style",sn(v)),i&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",i),v&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",i),l.attr("transform",`translate(${-f/2+4+(t.padding??0)-(s.x-(s.left??0))},${-h/2+(t.padding??0)-(s.y-(s.top??0))})`),Et(t,A),t.intersect=function(k){return yt.rect(t,k)},a}b(ek,"shadedProcess");async function nk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-c/2,d=-f/2,{cssStyles:m}=t,v=St.svg(a),x=Tt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=[{x:h,y:d},{x:h,y:d+f},{x:h+c,y:d+f},{x:h+c,y:d-f/2}],T=Yt(S),E=v.path(T,x),A=a.insert(()=>E,":first-child");return A.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",i),A.attr("transform",`translate(0, ${f/4})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(s.x-(s.left??0))}, ${-f/4+(t.padding??0)-(s.y-(s.top??0))})`),Et(t,A),t.intersect=function(k){return yt.polygon(t,S,k)},a}b(nk,"slopedRect");async function ik(e,t){const n={rx:0,ry:0,labelPaddingX:t.labelPaddingX??((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Hf(e,t,n)}b(ik,"squareRect");async function rk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=s.height+t.padding,c=s.width+l/4+t.padding,f=l/2,{cssStyles:h}=t,d=St.svg(a),m=Tt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=[{x:-c/2+f,y:-l/2},{x:c/2-f,y:-l/2},...fc(-c/2+f,0,f,50,90,270),{x:c/2-f,y:l/2},...fc(c/2-f,0,f,50,270,450)],x=Yt(v),S=d.path(x,m),T=a.insert(()=>S,":first-child");return T.attr("class","basic label-container outer-path"),h&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),Et(t,T),t.intersect=function(E){return yt.polygon(t,v,E)},a}b(rk,"stadium");async function ak(e,t){return Hf(e,t,{rx:5,ry:5})}b(ak,"state");function ok(e,t,{config:{themeVariables:n}}){const{labelStyles:i,nodeStyles:a}=bt(t);t.labelStyle=i;const{cssStyles:s}=t,{lineColor:l,stateBorder:c,nodeBorder:f}=n,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=St.svg(h),m=Tt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=d.circle(0,0,14,{...m,stroke:l,strokeWidth:2}),x=c??f,S=d.circle(0,0,5,{...m,fill:x,stroke:x,strokeWidth:2,fillStyle:"solid"}),T=h.insert(()=>v,":first-child");return T.insert(()=>S),s&&T.selectAll("path").attr("style",s),a&&T.selectAll("path").attr("style",a),Et(t,T),t.intersect=function(E){return yt.circle(t,7,E)},h}b(ok,"stateEnd");function sk(e,t,{config:{themeVariables:n}}){const{lineColor:i}=n,a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const c=St.svg(a).circle(0,0,14,Tz(i));s=a.insert(()=>c),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=a.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Et(t,s),t.intersect=function(l){return yt.circle(t,7,l)},a}b(sk,"stateStart");async function lk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=((t==null?void 0:t.padding)||0)/2,c=s.width+t.padding,f=s.height+t.padding,h=-s.width/2-l,d=-s.height/2-l,m=[{x:0,y:0},{x:c,y:0},{x:c,y:-f},{x:0,y:-f},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-f},{x:-8,y:-f},{x:-8,y:0}];if(t.look==="handDrawn"){const v=St.svg(a),x=Tt(t,{}),S=v.rectangle(h-8,d,c+16,f,x),T=v.line(h,d,h,d+f,x),E=v.line(h+c,d,h+c,d+f,x);a.insert(()=>T,":first-child"),a.insert(()=>E,":first-child");const A=a.insert(()=>S,":first-child"),{cssStyles:k}=t;A.attr("class","basic label-container").attr("style",sn(k)),Et(t,A)}else{const v=ca(a,c,f,m);i&&v.attr("style",i),Et(t,v)}return t.intersect=function(v){return yt.polygon(t,m,v)},a}b(lk,"subroutine");async function ck(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=-l/2,h=-c/2,d=.2*c,m=.2*c,{cssStyles:v}=t,x=St.svg(a),S=Tt(t,{}),T=[{x:f-d/2,y:h},{x:f+l+d/2,y:h},{x:f+l+d/2,y:h+c},{x:f-d/2,y:h+c}],E=[{x:f+l-d/2,y:h+c},{x:f+l+d/2,y:h+c},{x:f+l+d/2,y:h+c-m}];t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const A=Yt(T),k=x.path(A,S),R=Yt(E),I=x.path(R,{...S,fillStyle:"solid"}),B=a.insert(()=>I,":first-child");return B.insert(()=>k,":first-child"),B.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),Et(t,B),t.intersect=function(L){return yt.polygon(t,T,L)},a}b(ck,"taggedRect");async function uk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=f/4,d=.2*c,m=.2*f,v=f+h,{cssStyles:x}=t,S=St.svg(a),T=Tt(t,{});t.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=[{x:-c/2-c/2*.1,y:v/2},...ra(-c/2-c/2*.1,v/2,c/2+c/2*.1,v/2,h,.8),{x:c/2+c/2*.1,y:-v/2},{x:-c/2-c/2*.1,y:-v/2}],A=-c/2+c/2*.1,k=-v/2-m*.4,R=[{x:A+c-d,y:(k+f)*1.4},{x:A+c,y:k+f-m},{x:A+c,y:(k+f)*.9},...ra(A+c,(k+f)*1.3,A+c-d,(k+f)*1.5,-f*.03,.5)],I=Yt(E),B=S.path(I,T),L=Yt(R),N=S.path(L,{...T,fillStyle:"solid"}),Z=a.insert(()=>N,":first-child");return Z.insert(()=>B,":first-child"),Z.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&Z.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&Z.selectAll("path").attr("style",i),Z.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(s.x-(s.left??0))},${-f/2+(t.padding??0)-h/2-(s.y-(s.top??0))})`),Et(t,Z),t.intersect=function(K){return yt.polygon(t,E,K)},a}b(uk,"taggedWaveEdgedRectangle");async function hk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=Math.max(s.width+t.padding,(t==null?void 0:t.width)||0),c=Math.max(s.height+t.padding,(t==null?void 0:t.height)||0),f=-l/2,h=-c/2,d=a.insert("rect",":first-child");return d.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",f).attr("y",h).attr("width",l).attr("height",c),Et(t,d),t.intersect=function(m){return yt.rect(t,m)},a}b(hk,"text");var c9=b((e,t,n,i,a,s)=>`M${e},${t}
    a${a},${s} 0,0,1 0,${-i}
    l${n},0
    a${a},${s} 0,0,1 0,${i}
    M${n},${-i}
    a${a},${s} 0,0,0 0,${i}
    l${-n},0`,"createCylinderPathD"),u9=b((e,t,n,i,a,s)=>[`M${e},${t}`,`M${e+n},${t}`,`a${a},${s} 0,0,0 0,${-i}`,`l${-n},0`,`a${a},${s} 0,0,0 0,${i}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),h9=b((e,t,n,i,a,s)=>[`M${e+n/2},${-i/2}`,`a${a},${s} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function fk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l,halfPadding:c}=await Nt(e,t,Lt(t)),f=t.look==="neo"?c*2:c,h=s.height+f,d=h/2,m=d/(2.5+h/50),v=s.width+m+f,{cssStyles:x}=t;let S;if(t.look==="handDrawn"){const T=St.svg(a),E=u9(0,0,v,h,m,d),A=h9(0,0,v,h,m,d),k=T.path(E,Tt(t,{})),R=T.path(A,Tt(t,{fill:"none"}));S=a.insert(()=>R,":first-child"),S=a.insert(()=>k,":first-child"),S.attr("class","basic label-container"),x&&S.attr("style",x)}else{const T=c9(0,0,v,h,m,d);S=a.insert("path",":first-child").attr("d",T).attr("class","basic label-container").attr("style",sn(x)).attr("style",i),S.attr("class","basic label-container"),x&&S.selectAll("path").attr("style",x),i&&S.selectAll("path").attr("style",i)}return S.attr("label-offset-x",m),S.attr("transform",`translate(${-v/2}, ${h/2} )`),l.attr("transform",`translate(${-(s.width/2)-m-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Et(t,S),t.intersect=function(T){const E=yt.rect(t,T),A=E.y-(t.y??0);if(d!=0&&(Math.abs(A)<(t.height??0)/2||Math.abs(A)==(t.height??0)/2&&Math.abs(E.x-(t.x??0))>(t.width??0)/2-m)){let k=m*m*(1-A*A/(d*d));k!=0&&(k=Math.sqrt(Math.abs(k))),k=m-k,T.x-(t.x??0)>0&&(k=-k),E.x+=k}return E},a}b(fk,"tiltedCylinder");async function dk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=s.width+t.padding,c=s.height+t.padding,f=[{x:-3*c/6,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:0,y:-c}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=St.svg(a),v=Tt(t,{}),x=Yt(f),S=m.path(x,v);h=a.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),d&&h.attr("style",d)}else h=ca(a,l,c,f);return i&&h.attr("style",i),t.width=l,t.height=c,Et(t,h),t.intersect=function(m){return yt.polygon(t,f,m)},a}b(dk,"trapezoid");async function pk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=60,c=20,f=Math.max(l,s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(c,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:d}=t,m=St.svg(a),v=Tt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=[{x:-f/2*.8,y:-h/2},{x:f/2*.8,y:-h/2},{x:f/2,y:-h/2*.6},{x:f/2,y:h/2},{x:-f/2,y:h/2},{x:-f/2,y:-h/2*.6}],S=Yt(x),T=m.path(S,v),E=a.insert(()=>T,":first-child");return E.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",d),i&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",i),Et(t,E),t.intersect=function(A){return yt.polygon(t,x,A)},a}b(pk,"trapezoidalPentagon");async function gk(e,t){var k;const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=$e((k=re().flowchart)==null?void 0:k.htmlLabels),f=s.width+(t.padding??0),h=f+s.height,d=f+s.height,m=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-h}],{cssStyles:v}=t,x=St.svg(a),S=Tt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=Yt(m),E=x.path(T,S),A=a.insert(()=>E,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return v&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",v),i&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",i),t.width=f,t.height=h,Et(t,A),l.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${h/2-(s.height+(t.padding??0)/(c?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(R){return ot.info("Triangle intersect",t,m,R),yt.polygon(t,m,R)},a}b(gk,"triangle");async function mk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=f/8,d=f+h,{cssStyles:m}=t,x=70-c,S=x>0?x/2:0,T=St.svg(a),E=Tt(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const A=[{x:-c/2-S,y:d/2},...ra(-c/2-S,d/2,c/2+S,d/2,h,.8),{x:c/2+S,y:-d/2},{x:-c/2-S,y:-d/2}],k=Yt(A),R=T.path(k,E),I=a.insert(()=>R,":first-child");return I.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",i),I.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(s.x-(s.left??0))},${-f/2+(t.padding??0)-h-(s.y-(s.top??0))})`),Et(t,I),t.intersect=function(B){return yt.polygon(t,A,B)},a}b(mk,"waveEdgedRectangle");async function yk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Nt(e,t,Lt(t)),l=100,c=50,f=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=f/h;let m=f,v=h;m>v*d?v=m/d:m=v*d,m=Math.max(m,l),v=Math.max(v,c);const x=Math.min(v*.2,v/4),S=v+x*2,{cssStyles:T}=t,E=St.svg(a),A=Tt(t,{});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const k=[{x:-m/2,y:S/2},...ra(-m/2,S/2,m/2,S/2,x,1),{x:m/2,y:-S/2},...ra(m/2,-S/2,-m/2,-S/2,x,-1)],R=Yt(k),I=E.path(R,A),B=a.insert(()=>I,":first-child");return B.attr("class","basic label-container"),T&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",T),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),Et(t,B),t.intersect=function(L){return yt.polygon(t,k,L)},a}b(yk,"waveRectangle");async function vk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Nt(e,t,Lt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=5,d=-c/2,m=-f/2,{cssStyles:v}=t,x=St.svg(a),S=Tt(t,{}),T=[{x:d-h,y:m-h},{x:d-h,y:m+f},{x:d+c,y:m+f},{x:d+c,y:m-h}],E=`M${d-h},${m-h} L${d+c},${m-h} L${d+c},${m+f} L${d-h},${m+f} L${d-h},${m-h}
                M${d-h},${m} L${d+c},${m}
                M${d},${m-h} L${d},${m+f}`;t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const A=x.path(E,S),k=a.insert(()=>A,":first-child");return k.attr("transform",`translate(${h/2}, ${h/2})`),k.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),l.attr("transform",`translate(${-(s.width/2)+h/2-(s.x-(s.left??0))}, ${-(s.height/2)+h/2-(s.y-(s.top??0))})`),Et(t,k),t.intersect=function(R){return yt.polygon(t,T,R)},a}b(vk,"windowPane");async function t0(e,t){var Q,rt,ut,ft;const n=t;if(n.alias&&(t.label=n.alias),t.look==="handDrawn"){const{themeVariables:dt}=an(),{background:_t}=dt,Ut={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${_t}`]};await t0(e,Ut)}const i=an();t.useHtmlLabels=i.htmlLabels;let a=((Q=i.er)==null?void 0:Q.diagramPadding)??10,s=((rt=i.er)==null?void 0:rt.entityPadding)??6;const{cssStyles:l}=t,{labelStyles:c,nodeStyles:f}=bt(t);if(n.attributes.length===0&&t.label){const dt={rx:0,ry:0,labelPaddingX:a,labelPaddingY:a*1.5};_r(t.label,i)+dt.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);const _t=await Hf(e,t,dt);if(!$e(i.htmlLabels)){const Ut=_t.select("text"),Ft=(ut=Ut.node())==null?void 0:ut.getBBox();Ut.attr("transform",`translate(${-Ft.width/2}, 0)`)}return _t}i.htmlLabels||(a*=1.25,s*=1.25);let h=Lt(t);h||(h="node default");const d=e.insert("g").attr("class",h).attr("id",t.domId||t.id),m=await Ho(d,t.label??"",i,0,0,["name"],c);m.height+=s;let v=0;const x=[],S=[];let T=0,E=0,A=0,k=0,R=!0,I=!0;for(const dt of n.attributes){const _t=await Ho(d,dt.type,i,0,v,["attribute-type"],c);T=Math.max(T,_t.width+a);const Ut=await Ho(d,dt.name,i,0,v,["attribute-name"],c);E=Math.max(E,Ut.width+a);const Ft=await Ho(d,dt.keys.join(),i,0,v,["attribute-keys"],c);A=Math.max(A,Ft.width+a);const Qt=await Ho(d,dt.comment,i,0,v,["attribute-comment"],c);k=Math.max(k,Qt.width+a);const pe=Math.max(_t.height,Ut.height,Ft.height,Qt.height)+s;S.push({yOffset:v,rowHeight:pe}),v+=pe}let B=4;A<=a&&(R=!1,A=0,B--),k<=a&&(I=!1,k=0,B--);const L=d.node().getBBox();if(m.width+a*2-(T+E+A+k)>0){const dt=m.width+a*2-(T+E+A+k);T+=dt/B,E+=dt/B,A>0&&(A+=dt/B),k>0&&(k+=dt/B)}const N=T+E+A+k,Z=St.svg(d),K=Tt(t,{});t.look!=="handDrawn"&&(K.roughness=0,K.fillStyle="solid");let tt=0;S.length>0&&(tt=S.reduce((dt,_t)=>dt+((_t==null?void 0:_t.rowHeight)??0),0));const V=Math.max(L.width+a*2,(t==null?void 0:t.width)||0,N),lt=Math.max((tt??0)+m.height,(t==null?void 0:t.height)||0),et=-V/2,Y=-lt/2;d.selectAll("g:not(:first-child)").each((dt,_t,Ut)=>{const Ft=Kt(Ut[_t]),Qt=Ft.attr("transform");let pe=0,cn=0;if(Qt){const je=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Qt);je&&(pe=parseFloat(je[1]),cn=parseFloat(je[2]),Ft.attr("class").includes("attribute-name")?pe+=T:Ft.attr("class").includes("attribute-keys")?pe+=T+E:Ft.attr("class").includes("attribute-comment")&&(pe+=T+E+A))}Ft.attr("transform",`translate(${et+a/2+pe}, ${cn+Y+m.height+s/2})`)}),d.select(".name").attr("transform","translate("+-m.width/2+", "+(Y+s/2)+")");const G=Z.rectangle(et,Y,V,lt,K),D=d.insert(()=>G,":first-child").attr("style",l.join("")),{themeVariables:U}=an(),{rowEven:z,rowOdd:st,nodeBorder:ht}=U;x.push(0);for(const[dt,_t]of S.entries()){const Ft=(dt+1)%2===0&&_t.yOffset!==0,Qt=Z.rectangle(et,m.height+Y+(_t==null?void 0:_t.yOffset),V,_t==null?void 0:_t.rowHeight,{...K,fill:Ft?z:st,stroke:ht});d.insert(()=>Qt,"g.label").attr("style",l.join("")).attr("class",`row-rect-${Ft?"even":"odd"}`)}let F=Z.line(et,m.height+Y,V+et,m.height+Y,K);d.insert(()=>F).attr("class","divider"),F=Z.line(T+et,m.height+Y,T+et,lt+Y,K),d.insert(()=>F).attr("class","divider"),R&&(F=Z.line(T+E+et,m.height+Y,T+E+et,lt+Y,K),d.insert(()=>F).attr("class","divider")),I&&(F=Z.line(T+E+A+et,m.height+Y,T+E+A+et,lt+Y,K),d.insert(()=>F).attr("class","divider"));for(const dt of x)F=Z.line(et,m.height+Y+dt,V+et,m.height+Y+dt,K),d.insert(()=>F).attr("class","divider");if(Et(t,D),f&&t.look!=="handDrawn"){const dt=f.split(";"),_t=(ft=dt==null?void 0:dt.filter(Ut=>Ut.includes("stroke")))==null?void 0:ft.map(Ut=>`${Ut}`).join("; ");d.selectAll("path").attr("style",_t??""),d.selectAll(".row-rect-even path").attr("style",f)}return t.intersect=function(dt){return yt.rect(t,dt)},d}b(t0,"erBox");async function Ho(e,t,n,i=0,a=0,s=[],l=""){const c=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${i}, ${a})`).attr("style",l);t!==YS(t)&&(t=YS(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const f=c.node().appendChild(await sa(c,t,{width:_r(t,n)+100,style:l,useHtmlLabels:n.htmlLabels},n));if(t.includes("&lt;")||t.includes("&gt;")){let d=f.children[0];for(d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");d.childNodes[0];)d=d.childNodes[0],d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let h=f.getBBox();if($e(n.htmlLabels)){const d=f.children[0];d.style.textAlign="start";const m=Kt(f);h=d.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}return h}b(Ho,"addText");async function _k(e,t,n,i,a=n.class.padding??12){const s=i?0:3,l=e.insert("g").attr("class",Lt(t)).attr("id",t.domId||t.id);let c=null,f=null,h=null,d=null,m=0,v=0,x=0;if(c=l.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const k=t.annotations[0];await Xl(c,{text:`${k}`},0),m=c.node().getBBox().height}f=l.insert("g").attr("class","label-group text"),await Xl(f,t,0,["font-weight: bolder"]);const S=f.node().getBBox();v=S.height,h=l.insert("g").attr("class","members-group text");let T=0;for(const k of t.members){const R=await Xl(h,k,T,[k.parseClassifier()]);T+=R+s}x=h.node().getBBox().height,x<=0&&(x=a/2),d=l.insert("g").attr("class","methods-group text");let E=0;for(const k of t.methods){const R=await Xl(d,k,E,[k.parseClassifier()]);E+=R+s}let A=l.node().getBBox();if(c!==null){const k=c.node().getBBox();c.attr("transform",`translate(${-k.width/2})`)}return f.attr("transform",`translate(${-S.width/2}, ${m})`),A=l.node().getBBox(),h.attr("transform",`translate(0, ${m+v+a*2})`),A=l.node().getBBox(),d.attr("transform",`translate(0, ${m+v+(x?x+a*4:a*2)})`),A=l.node().getBBox(),{shapeSvg:l,bbox:A}}b(_k,"textHelper");async function Xl(e,t,n,i=[]){const a=e.insert("g").attr("class","label").attr("style",i.join("; ")),s=an();let l="useHtmlLabels"in t?t.useHtmlLabels:$e(s.htmlLabels)??!0,c="";"text"in t?c=t.text:c=t.label,!l&&c.startsWith("\\")&&(c=c.substring(1)),ls(c)&&(l=!0);const f=await sa(a,uy(ja(c)),{width:_r(c,s)+50,classes:"markdown-node-label",useHtmlLabels:l},s);let h,d=1;if(l){const m=f.children[0],v=Kt(f);d=m.innerHTML.split("<br>").length,m.innerHTML.includes("</math>")&&(d+=m.innerHTML.split("<mrow>").length-1);const x=m.getElementsByTagName("img");if(x){const S=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(T=>new Promise(E=>{function A(){var k;if(T.style.display="flex",T.style.flexDirection="column",S){const R=((k=s.fontSize)==null?void 0:k.toString())??window.getComputedStyle(document.body).fontSize,B=parseInt(R,10)*5+"px";T.style.minWidth=B,T.style.maxWidth=B}else T.style.width="100%";E(T)}b(A,"setupImage"),setTimeout(()=>{T.complete&&A()}),T.addEventListener("error",A),T.addEventListener("load",A)})))}h=m.getBoundingClientRect(),v.attr("width",h.width),v.attr("height",h.height)}else{i.includes("font-weight: bolder")&&Kt(f).selectAll("tspan").attr("font-weight",""),d=f.children.length;const m=f.children[0];(f.textContent===""||f.textContent.includes("&gt"))&&(m.textContent=c[0]+c.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),c[1]===" "&&(m.textContent=m.textContent[0]+" "+m.textContent.substring(1))),m.textContent==="undefined"&&(m.textContent=""),h=f.getBBox()}return a.attr("transform","translate(0,"+(-h.height/(2*d)+n)+")"),h.height}b(Xl,"addText");async function xk(e,t){var K,tt;const n=re(),i=n.class.padding??12,a=i,s=t.useHtmlLabels??$e(n.htmlLabels)??!0,l=t;l.annotations=l.annotations??[],l.members=l.members??[],l.methods=l.methods??[];const{shapeSvg:c,bbox:f}=await _k(e,t,n,s,a),{labelStyles:h,nodeStyles:d}=bt(t);t.labelStyle=h,t.cssStyles=l.styles||"";const m=((K=l.styles)==null?void 0:K.join(";"))||d||"";t.cssStyles||(t.cssStyles=m.replaceAll("!important","").split(";"));const v=l.members.length===0&&l.methods.length===0&&!((tt=n.class)!=null&&tt.hideEmptyMembersBox),x=St.svg(c),S=Tt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=f.width;let E=f.height;l.members.length===0&&l.methods.length===0?E+=a:l.members.length>0&&l.methods.length===0&&(E+=a*2);const A=-T/2,k=-E/2,R=x.rectangle(A-i,k-i-(v?i:l.members.length===0&&l.methods.length===0?-i/2:0),T+2*i,E+2*i+(v?i*2:l.members.length===0&&l.methods.length===0?-i:0),S),I=c.insert(()=>R,":first-child");I.attr("class","basic label-container");const B=I.node().getBBox();c.selectAll(".text").each((V,lt,et)=>{var st;const Y=Kt(et[lt]),G=Y.attr("transform");let D=0;if(G){const F=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(G);F&&(D=parseFloat(F[2]))}let U=D+k+i-(v?i:l.members.length===0&&l.methods.length===0?-i/2:0);s||(U-=4);let z=A;(Y.attr("class").includes("label-group")||Y.attr("class").includes("annotation-group"))&&(z=-((st=Y.node())==null?void 0:st.getBBox().width)/2||0,c.selectAll("text").each(function(ht,F,Q){window.getComputedStyle(Q[F]).textAnchor==="middle"&&(z=0)})),Y.attr("transform",`translate(${z}, ${U})`)});const L=c.select(".annotation-group").node().getBBox().height-(v?i/2:0)||0,N=c.select(".label-group").node().getBBox().height-(v?i/2:0)||0,Z=c.select(".members-group").node().getBBox().height-(v?i/2:0)||0;if(l.members.length>0||l.methods.length>0||v){const V=x.line(B.x,L+N+k+i,B.x+B.width,L+N+k+i,S);c.insert(()=>V).attr("class","divider").attr("style",m)}if(v||l.members.length>0||l.methods.length>0){const V=x.line(B.x,L+N+Z+k+a*2+i,B.x+B.width,L+N+Z+k+i+a*2,S);c.insert(()=>V).attr("class","divider").attr("style",m)}if(l.look!=="handDrawn"&&c.selectAll("path").attr("style",m),I.select(":nth-child(2)").attr("style",m),c.selectAll(".divider").select("path").attr("style",m),t.labelStyle?c.selectAll("span").attr("style",t.labelStyle):c.selectAll("span").attr("style",m),!s){const V=RegExp(/color\s*:\s*([^;]*)/),lt=V.exec(m);if(lt){const et=lt[0].replace("color","fill");c.selectAll("tspan").attr("style",et)}else if(h){const et=V.exec(h);if(et){const Y=et[0].replace("color","fill");c.selectAll("tspan").attr("style",Y)}}}return Et(t,I),t.intersect=function(V){return yt.rect(t,V)},c}b(xk,"classBox");async function Ck(e,t){var L,N;const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const a=t,s=t,l=20,c=20,f="verifyMethod"in t,h=Lt(t),d=e.insert("g").attr("class",h).attr("id",t.domId??t.id);let m;f?m=await Ii(d,`&lt;&lt;${a.type}&gt;&gt;`,0,t.labelStyle):m=await Ii(d,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let v=m;const x=await Ii(d,a.name,v,t.labelStyle+"; font-weight: bold;");if(v+=x+c,f){const Z=await Ii(d,`${a.requirementId?`ID: ${a.requirementId}`:""}`,v,t.labelStyle);v+=Z;const K=await Ii(d,`${a.text?`Text: ${a.text}`:""}`,v,t.labelStyle);v+=K;const tt=await Ii(d,`${a.risk?`Risk: ${a.risk}`:""}`,v,t.labelStyle);v+=tt,await Ii(d,`${a.verifyMethod?`Verification: ${a.verifyMethod}`:""}`,v,t.labelStyle)}else{const Z=await Ii(d,`${s.type?`Type: ${s.type}`:""}`,v,t.labelStyle);v+=Z,await Ii(d,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,v,t.labelStyle)}const S=(((L=d.node())==null?void 0:L.getBBox().width)??200)+l,T=(((N=d.node())==null?void 0:N.getBBox().height)??200)+l,E=-S/2,A=-T/2,k=St.svg(d),R=Tt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=k.rectangle(E,A,S,T,R),B=d.insert(()=>I,":first-child");if(B.attr("class","basic label-container").attr("style",i),d.selectAll(".label").each((Z,K,tt)=>{const V=Kt(tt[K]),lt=V.attr("transform");let et=0,Y=0;if(lt){const z=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(lt);z&&(et=parseFloat(z[1]),Y=parseFloat(z[2]))}const G=Y-T/2;let D=E+l/2;(K===0||K===1)&&(D=et),V.attr("transform",`translate(${D}, ${G+l})`)}),v>m+x+c){const Z=k.line(E,A+m+x+c,E+S,A+m+x+c,R);d.insert(()=>Z).attr("style",i)}return Et(t,B),t.intersect=function(Z){return yt.rect(t,Z)},d}b(Ck,"requirementBox");async function Ii(e,t,n,i=""){if(t==="")return 0;const a=e.insert("g").attr("class","label").attr("style",i),s=re(),l=s.htmlLabels??!0,c=await sa(a,uy(ja(t)),{width:_r(t,s)+50,classes:"markdown-node-label",useHtmlLabels:l,style:i},s);let f;if(l){const h=c.children[0],d=Kt(c);f=h.getBoundingClientRect(),d.attr("width",f.width),d.attr("height",f.height)}else{const h=c.children[0];for(const d of h.children)d.textContent=d.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&d.setAttribute("style",i);f=c.getBBox(),f.height+=6}return a.attr("transform",`translate(${-f.width/2},${-f.height/2+n})`),f.height}b(Ii,"addText");var f9=b(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function Sk(e,t,{config:n}){var lt,et;const{labelStyles:i,nodeStyles:a}=bt(t);t.labelStyle=i||"";const s=10,l=t.width;t.width=(t.width??200)-10;const{shapeSvg:c,bbox:f,label:h}=await Nt(e,t,Lt(t)),d=t.padding||10;let m="",v;"ticket"in t&&t.ticket&&((lt=n==null?void 0:n.kanban)!=null&&lt.ticketBaseUrl)&&(m=(et=n==null?void 0:n.kanban)==null?void 0:et.ticketBaseUrl.replace("#TICKET#",t.ticket),v=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",m).attr("target","_blank"));const x={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let S,T;v?{label:S,bbox:T}=await Mg(v,"ticket"in t&&t.ticket||"",x):{label:S,bbox:T}=await Mg(c,"ticket"in t&&t.ticket||"",x);const{label:E,bbox:A}=await Mg(c,"assigned"in t&&t.assigned||"",x);t.width=l;const k=10,R=(t==null?void 0:t.width)||0,I=Math.max(T.height,A.height)/2,B=Math.max(f.height+k*2,(t==null?void 0:t.height)||0)+I,L=-R/2,N=-B/2;h.attr("transform","translate("+(d-R/2)+", "+(-I-f.height/2)+")"),S.attr("transform","translate("+(d-R/2)+", "+(-I+f.height/2)+")"),E.attr("transform","translate("+(d+R/2-A.width-2*s)+", "+(-I+f.height/2)+")");let Z;const{rx:K,ry:tt}=t,{cssStyles:V}=t;if(t.look==="handDrawn"){const Y=St.svg(c),G=Tt(t,{}),D=K||tt?Y.path(la(L,N,R,B,K||0),G):Y.rectangle(L,N,R,B,G);Z=c.insert(()=>D,":first-child"),Z.attr("class","basic label-container").attr("style",V||null)}else{Z=c.insert("rect",":first-child"),Z.attr("class","basic label-container __APA__").attr("style",a).attr("rx",K??5).attr("ry",tt??5).attr("x",L).attr("y",N).attr("width",R).attr("height",B);const Y="priority"in t&&t.priority;if(Y){const G=c.append("line"),D=L+2,U=N+Math.floor((K??0)/2),z=N+B-Math.floor((K??0)/2);G.attr("x1",D).attr("y1",U).attr("x2",D).attr("y2",z).attr("stroke-width","4").attr("stroke",f9(Y))}}return Et(t,Z),t.height=B,t.intersect=function(Y){return yt.rect(t,Y)},c}b(Sk,"kanbanItem");async function Tk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:l,label:c}=await Nt(e,t,Lt(t)),f=s.width+10*l,h=s.height+8*l,d=.15*f,{cssStyles:m}=t,v=s.width+20,x=s.height+20,S=Math.max(f,v),T=Math.max(h,x);c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let E;const A=`M0 0 
    a${d},${d} 1 0,0 ${S*.25},${-1*T*.1}
    a${d},${d} 1 0,0 ${S*.25},0
    a${d},${d} 1 0,0 ${S*.25},0
    a${d},${d} 1 0,0 ${S*.25},${T*.1}

    a${d},${d} 1 0,0 ${S*.15},${T*.33}
    a${d*.8},${d*.8} 1 0,0 0,${T*.34}
    a${d},${d} 1 0,0 ${-1*S*.15},${T*.33}

    a${d},${d} 1 0,0 ${-1*S*.25},${T*.15}
    a${d},${d} 1 0,0 ${-1*S*.25},0
    a${d},${d} 1 0,0 ${-1*S*.25},0
    a${d},${d} 1 0,0 ${-1*S*.25},${-1*T*.15}

    a${d},${d} 1 0,0 ${-1*S*.1},${-1*T*.33}
    a${d*.8},${d*.8} 1 0,0 0,${-1*T*.34}
    a${d},${d} 1 0,0 ${S*.1},${-1*T*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const k=St.svg(a),R=Tt(t,{}),I=k.path(A,R);E=a.insert(()=>I,":first-child"),E.attr("class","basic label-container").attr("style",sn(m))}else E=a.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",A);return E.attr("transform",`translate(${-S/2}, ${-T/2})`),Et(t,E),t.calcIntersect=function(k,R){return yt.rect(k,R)},t.intersect=function(k){return ot.info("Bang intersect",t,k),yt.rect(t,k)},a}b(Tk,"bang");async function bk(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:l,label:c}=await Nt(e,t,Lt(t)),f=s.width+2*l,h=s.height+2*l,d=.15*f,m=.25*f,v=.35*f,x=.2*f,{cssStyles:S}=t;let T;const E=`M0 0 
    a${d},${d} 0 0,1 ${f*.25},${-1*f*.1}
    a${v},${v} 1 0,1 ${f*.4},${-1*f*.1}
    a${m},${m} 1 0,1 ${f*.35},${f*.2}

    a${d},${d} 1 0,1 ${f*.15},${h*.35}
    a${x},${x} 1 0,1 ${-1*f*.15},${h*.65}

    a${m},${d} 1 0,1 ${-1*f*.25},${f*.15}
    a${v},${v} 1 0,1 ${-1*f*.5},0
    a${d},${d} 1 0,1 ${-1*f*.25},${-1*f*.15}

    a${d},${d} 1 0,1 ${-1*f*.1},${-1*h*.35}
    a${x},${x} 1 0,1 ${f*.1},${-1*h*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const A=St.svg(a),k=Tt(t,{}),R=A.path(E,k);T=a.insert(()=>R,":first-child"),T.attr("class","basic label-container").attr("style",sn(S))}else T=a.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",E);return c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),T.attr("transform",`translate(${-f/2}, ${-h/2})`),Et(t,T),t.calcIntersect=function(A,k){return yt.rect(A,k)},t.intersect=function(A){return ot.info("Cloud intersect",t,A),yt.rect(t,A)},a}b(bk,"cloud");async function Ek(e,t){const{labelStyles:n,nodeStyles:i}=bt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:l,label:c}=await Nt(e,t,Lt(t)),f=s.width+8*l,h=s.height+2*l,d=5,m=`
    M${-f/2} ${h/2-d}
    v${-h+2*d}
    q0,-${d} ${d},-${d}
    h${f-2*d}
    q${d},0 ${d},${d}
    v${h-2*d}
    q0,${d} -${d},${d}
    h${-f+2*d}
    q-${d},0 -${d},-${d}
    Z
  `,v=a.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",i).attr("d",m);return a.append("line").attr("class","node-line-").attr("x1",-f/2).attr("y1",h/2).attr("x2",f/2).attr("y2",h/2),c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),a.append(()=>c.node()),Et(t,v),t.calcIntersect=function(x,S){return yt.rect(x,S)},t.intersect=function(x){return yt.rect(t,x)},a}b(Ek,"defaultMindmapNode");async function wk(e,t){const n={padding:t.padding??0};return jy(e,t,n)}b(wk,"mindmapCircle");var d9=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:ik},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:tk},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:rk},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:lk},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:AA},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:jy},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:Tk},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:bk},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:QA},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:IA},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:GA},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:HA},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:dk},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:zA},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:MA},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:hk},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:_A},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:ek},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:sk},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:ok},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:DA},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:BA},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:TA},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:bA},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:EA},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:VA},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:mk},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:NA},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:fk},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:YA},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:wA},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:kA},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:gk},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:vk},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:RA},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:pk},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:LA},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:nk},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:JA},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:XA},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:vA},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:SA},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:uk},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:ck},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:yk},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:ZA},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:WA}],p9=b(()=>{const t=[...Object.entries({state:ak,choice:xA,note:KA,rectWithTitle:jA,labelRect:qA,iconSquare:UA,iconCircle:OA,icon:FA,iconRounded:PA,imageSquare:$A,anchor:yA,kanbanItem:Sk,mindmapCircle:wk,defaultMindmapNode:Ek,classBox:xk,erBox:t0,requirementBox:Ck}),...d9.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(a=>[a,n.handler]))];return Object.fromEntries(t)},"generateShapeMap"),Ak=p9();function g9(e){return e in Ak}b(g9,"isValidShape");var Gf=new Map;async function kk(e,t,n){let i,a;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?Ak[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let l;n.config.securityLevel==="sandbox"?l="_top":t.linkTarget&&(l=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",l??null),a=await s(i,t,n)}else a=await s(e,t,n),i=a;return t.tooltip&&a.attr("title",t.tooltip),Gf.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}b(kk,"insertNode");var kW=b((e,t)=>{Gf.set(t.id,e)},"setNodeElem"),MW=b(()=>{Gf.clear()},"clear"),RW=b(e=>{const t=Gf.get(e.id);ot.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-n)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode"),m9=b((e,t,n,i,a,s)=>{t.arrowTypeStart&&eb(e,"start",t.arrowTypeStart,n,i,a,s),t.arrowTypeEnd&&eb(e,"end",t.arrowTypeEnd,n,i,a,s)},"addEdgeMarkers"),y9={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},eb=b((e,t,n,i,a,s,l)=>{var m;const c=y9[n];if(!c){ot.warn(`Unknown arrow type: ${n}`);return}const f=c.type,d=`${a}_${s}-${f}${t==="start"?"Start":"End"}`;if(l&&l.trim()!==""){const v=l.replace(/[^\dA-Za-z]/g,"_"),x=`${d}_${v}`;if(!document.getElementById(x)){const S=document.getElementById(d);if(S){const T=S.cloneNode(!0);T.id=x,T.querySelectorAll("path, circle, line").forEach(A=>{A.setAttribute("stroke",l),c.fill&&A.setAttribute("fill",l)}),(m=S.parentNode)==null||m.appendChild(T)}}e.attr(`marker-${t}`,`url(${i}#${x})`)}else e.attr(`marker-${t}`,`url(${i}#${d})`)},"addEdgeMarker"),ff=new Map,Ze=new Map,LW=b(()=>{ff.clear(),Ze.clear()},"clear"),ah=b(e=>e?e.reduce((n,i)=>n+";"+i,""):"","getLabelStyles"),v9=b(async(e,t)=>{let n=$e(re().flowchart.htmlLabels);const{labelStyles:i}=bt(t);t.labelStyle=i;const a=await sa(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});ot.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),l=s.insert("g").attr("class","label").attr("data-id",t.id);l.node().appendChild(a);let c=a.getBBox();if(n){const h=a.children[0],d=Kt(a);c=h.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}l.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),ff.set(t.id,s),t.width=c.width,t.height=c.height;let f;if(t.startLabelLeft){const h=await Pa(t.startLabelLeft,ah(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");f=m.node().appendChild(h);const v=h.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),Ze.get(t.id)||Ze.set(t.id,{}),Ze.get(t.id).startLeft=d,Jl(f,t.startLabelLeft)}if(t.startLabelRight){const h=await Pa(t.startLabelRight,ah(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");f=d.node().appendChild(h),m.node().appendChild(h);const v=h.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),Ze.get(t.id)||Ze.set(t.id,{}),Ze.get(t.id).startRight=d,Jl(f,t.startLabelRight)}if(t.endLabelLeft){const h=await Pa(t.endLabelLeft,ah(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");f=m.node().appendChild(h);const v=h.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),d.node().appendChild(h),Ze.get(t.id)||Ze.set(t.id,{}),Ze.get(t.id).endLeft=d,Jl(f,t.endLabelLeft)}if(t.endLabelRight){const h=await Pa(t.endLabelRight,ah(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");f=m.node().appendChild(h);const v=h.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),d.node().appendChild(h),Ze.get(t.id)||Ze.set(t.id,{}),Ze.get(t.id).endRight=d,Jl(f,t.endLabelRight)}return a},"insertEdgeLabel");function Jl(e,t){re().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}b(Jl,"setTerminalWidth");var _9=b((e,t)=>{ot.debug("Moving label abc88 ",e.id,e.label,ff.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath;const i=re(),{subGraphTitleTotalMargin:a}=Ry(i);if(e.label){const s=ff.get(e.id);let l=e.x,c=e.y;if(n){const f=vi.calcLabelPosition(n);ot.debug("Moving label "+e.label+" from (",l,",",c,") to (",f.x,",",f.y,") abc88"),t.updatedPath&&(l=f.x,c=f.y)}s.attr("transform",`translate(${l}, ${c+a/2})`)}if(e.startLabelLeft){const s=Ze.get(e.id).startLeft;let l=e.x,c=e.y;if(n){const f=vi.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);l=f.x,c=f.y}s.attr("transform",`translate(${l}, ${c})`)}if(e.startLabelRight){const s=Ze.get(e.id).startRight;let l=e.x,c=e.y;if(n){const f=vi.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);l=f.x,c=f.y}s.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelLeft){const s=Ze.get(e.id).endLeft;let l=e.x,c=e.y;if(n){const f=vi.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);l=f.x,c=f.y}s.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelRight){const s=Ze.get(e.id).endRight;let l=e.x,c=e.y;if(n){const f=vi.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);l=f.x,c=f.y}s.attr("transform",`translate(${l}, ${c})`)}},"positionEdgeLabel"),x9=b((e,t)=>{const n=e.x,i=e.y,a=Math.abs(t.x-n),s=Math.abs(t.y-i),l=e.width/2,c=e.height/2;return a>=l||s>=c},"outsideNode"),C9=b((e,t,n)=>{ot.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const i=e.x,a=e.y,s=Math.abs(i-n.x),l=e.width/2;let c=n.x<t.x?l-s:l+s;const f=e.height/2,h=Math.abs(t.y-n.y),d=Math.abs(t.x-n.x);if(Math.abs(a-t.y)*l>Math.abs(i-t.x)*f){let m=n.y<t.y?t.y-f-a:a-f-t.y;c=d*m/h;const v={x:n.x<t.x?n.x+c:n.x-d+c,y:n.y<t.y?n.y+h-m:n.y-h+m};return c===0&&(v.x=t.x,v.y=t.y),d===0&&(v.x=t.x),h===0&&(v.y=t.y),ot.debug(`abc89 top/bottom calc, Q ${h}, q ${m}, R ${d}, r ${c}`,v),v}else{n.x<t.x?c=t.x-l-i:c=i-l-t.x;let m=h*c/d,v=n.x<t.x?n.x+d-c:n.x-d+c,x=n.y<t.y?n.y+m:n.y-m;return ot.debug(`sides calc abc89, Q ${h}, q ${m}, R ${d}, r ${c}`,{_x:v,_y:x}),c===0&&(v=t.x,x=t.y),d===0&&(v=t.x),h===0&&(x=t.y),{x:v,y:x}}},"intersection"),nb=b((e,t)=>{ot.warn("abc88 cutPathAtIntersect",e,t);let n=[],i=e[0],a=!1;return e.forEach(s=>{if(ot.info("abc88 checking point",s,t),!x9(t,s)&&!a){const l=C9(t,i,s);ot.debug("abc88 inside",s,i,l),ot.debug("abc88 intersection",l,t);let c=!1;n.forEach(f=>{c=c||f.x===l.x&&f.y===l.y}),n.some(f=>f.x===l.x&&f.y===l.y)?ot.warn("abc88 no intersect",l,n):n.push(l),a=!0}else ot.warn("abc88 outside",s,i),i=s,a||n.push(s)}),ot.debug("returning points",n),n},"cutPathAtIntersect");function Mk(e){const t=[],n=[];for(let i=1;i<e.length-1;i++){const a=e[i-1],s=e[i],l=e[i+1];(a.x===s.x&&s.y===l.y&&Math.abs(s.x-l.x)>5&&Math.abs(s.y-a.y)>5||a.y===s.y&&s.x===l.x&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-l.y)>5)&&(t.push(s),n.push(i))}return{cornerPoints:t,cornerPointPositions:n}}b(Mk,"extractCornerPoints");var ib=b(function(e,t,n){const i=t.x-e.x,a=t.y-e.y,s=Math.sqrt(i*i+a*a),l=n/s;return{x:t.x-l*i,y:t.y-l*a}},"findAdjacentPoint"),S9=b(function(e){const{cornerPointPositions:t}=Mk(e),n=[];for(let i=0;i<e.length;i++)if(t.includes(i)){const a=e[i-1],s=e[i+1],l=e[i],c=ib(a,l,5),f=ib(s,l,5),h=f.x-c.x,d=f.y-c.y;n.push(c);const m=Math.sqrt(2)*2;let v={x:l.x,y:l.y};if(Math.abs(s.x-a.x)>10&&Math.abs(s.y-a.y)>=10){ot.debug("Corner point fixing",Math.abs(s.x-a.x),Math.abs(s.y-a.y));const x=5;l.x===c.x?v={x:h<0?c.x-x+m:c.x+x-m,y:d<0?c.y-m:c.y+m}:v={x:h<0?c.x-m:c.x+m,y:d<0?c.y-x+m:c.y+x-m}}else ot.debug("Corner point skipping fixing",Math.abs(s.x-a.x),Math.abs(s.y-a.y));n.push(v,f)}else n.push(e[i]);return n},"fixCorners"),T9=b((e,t,n)=>{const i=e-t-n,a=2,s=2,l=a+s,c=Math.floor(i/l),f=Array(c).fill(`${a} ${s}`).join(" ");return`0 ${t} ${f} ${n}`},"generateDashArray"),b9=b(function(e,t,n,i,a,s,l,c=!1){var Y;const{handDrawnSeed:f}=re();let h=t.points,d=!1;const m=a;var v=s;const x=[];for(const G in t.cssCompiledStyles)ow(G)||x.push(t.cssCompiledStyles[G]);ot.debug("UIO intersect check",t.points,v.x,m.x),v.intersect&&m.intersect&&!c&&(h=h.slice(1,t.points.length-1),h.unshift(m.intersect(h[0])),ot.debug("Last point UIO",t.start,"-->",t.end,h[h.length-1],v,v.intersect(h[h.length-1])),h.push(v.intersect(h[h.length-1])));const S=btoa(JSON.stringify(h));t.toCluster&&(ot.info("to cluster abc88",n.get(t.toCluster)),h=nb(t.points,n.get(t.toCluster).node),d=!0),t.fromCluster&&(ot.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(h,null,2)),h=nb(h.reverse(),n.get(t.fromCluster).node).reverse(),d=!0);let T=h.filter(G=>!Number.isNaN(G.y));T=S9(T);let E=yh;switch(E=qh,t.curve){case"linear":E=qh;break;case"basis":E=yh;break;case"cardinal":E=u2;break;case"bumpX":E=a2;break;case"bumpY":E=o2;break;case"catmullRom":E=f2;break;case"monotoneX":E=v2;break;case"monotoneY":E=_2;break;case"natural":E=C2;break;case"step":E=S2;break;case"stepAfter":E=b2;break;case"stepBefore":E=T2;break;default:E=yh}const{x:A,y:k}=Sz(t),R=a6().x(A).y(k).curve(E);let I;switch(t.thickness){case"normal":I="edge-thickness-normal";break;case"thick":I="edge-thickness-thick";break;case"invisible":I="edge-thickness-invisible";break;default:I="edge-thickness-normal"}switch(t.pattern){case"solid":I+=" edge-pattern-solid";break;case"dotted":I+=" edge-pattern-dotted";break;case"dashed":I+=" edge-pattern-dashed";break;default:I+=" edge-pattern-solid"}let B,L=t.curve==="rounded"?Rk(Lk(T,t),5):R(T);const N=Array.isArray(t.style)?t.style:[t.style];let Z=N.find(G=>G==null?void 0:G.startsWith("stroke:")),K=!1;if(t.look==="handDrawn"){const G=St.svg(e);Object.assign([],T);const D=G.path(L,{roughness:.3,seed:f});I+=" transition",B=Kt(D).select("path").attr("id",t.id).attr("class"," "+I+(t.classes?" "+t.classes:"")).attr("style",N?N.reduce((z,st)=>z+";"+st,""):"");let U=B.attr("d");B.attr("d",U),e.node().appendChild(B.node())}else{const G=x.join(";"),D=N?N.reduce((rt,ut)=>rt+ut+";",""):"";let U="";t.animate&&(U=" edge-animation-fast"),t.animation&&(U=" edge-animation-"+t.animation);const z=(G?G+";"+D+";":D)+";"+(N?N.reduce((rt,ut)=>rt+";"+ut,""):"");B=e.append("path").attr("d",L).attr("id",t.id).attr("class"," "+I+(t.classes?" "+t.classes:"")+(U??"")).attr("style",z),Z=(Y=z.match(/stroke:([^;]+)/))==null?void 0:Y[1],K=t.animate===!0||!!t.animation||G.includes("animation");const st=B.node(),ht=typeof st.getTotalLength=="function"?st.getTotalLength():0,F=_T[t.arrowTypeStart]||0,Q=_T[t.arrowTypeEnd]||0;if(t.look==="neo"&&!K){const ut=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?T9(ht,F,Q):`0 ${F} ${ht-F-Q} ${Q}`}; stroke-dashoffset: 0;`;B.attr("style",ut+B.attr("style"))}}B.attr("data-edge",!0),B.attr("data-et","edge"),B.attr("data-id",t.id),B.attr("data-points",S),t.showPoints&&T.forEach(G=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",G.x).attr("cy",G.y)});let tt="";(re().flowchart.arrowMarkerAbsolute||re().state.arrowMarkerAbsolute)&&(tt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,tt=tt.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),ot.info("arrowTypeStart",t.arrowTypeStart),ot.info("arrowTypeEnd",t.arrowTypeEnd),m9(B,t,tt,l,i,Z);const V=Math.floor(h.length/2),lt=h[V];vi.isLabelCoordinateInPath(lt,B.attr("d"))||(d=!0);let et={};return d&&(et.updatedPath=h),et.originalPath=t.points,et},"insertEdge");function Rk(e,t){if(e.length<2)return"";let n="";const i=e.length,a=1e-5;for(let s=0;s<i;s++){const l=e[s],c=e[s-1],f=e[s+1];if(s===0)n+=`M${l.x},${l.y}`;else if(s===i-1)n+=`L${l.x},${l.y}`;else{const h=l.x-c.x,d=l.y-c.y,m=f.x-l.x,v=f.y-l.y,x=Math.hypot(h,d),S=Math.hypot(m,v);if(x<a||S<a){n+=`L${l.x},${l.y}`;continue}const T=h/x,E=d/x,A=m/S,k=v/S,R=T*A+E*k,I=Math.max(-1,Math.min(1,R)),B=Math.acos(I);if(B<a||Math.abs(Math.PI-B)<a){n+=`L${l.x},${l.y}`;continue}const L=Math.min(t/Math.sin(B/2),x/2,S/2),N=l.x-T*L,Z=l.y-E*L,K=l.x+A*L,tt=l.y+k*L;n+=`L${N},${Z}`,n+=`Q${l.x},${l.y} ${K},${tt}`}}return n}b(Rk,"generateRoundedPath");function Fm(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const n=t.x-e.x,i=t.y-e.y;return{angle:Math.atan2(i,n),deltaX:n,deltaY:i}}b(Fm,"calculateDeltaAndAngle");function Lk(e,t){const n=e.map(a=>({...a}));if(e.length>=2&&nn[t.arrowTypeStart]){const a=nn[t.arrowTypeStart],s=e[0],l=e[1],{angle:c}=Fm(s,l),f=a*Math.cos(c),h=a*Math.sin(c);n[0].x=s.x+f,n[0].y=s.y+h}const i=e.length;if(i>=2&&nn[t.arrowTypeEnd]){const a=nn[t.arrowTypeEnd],s=e[i-1],l=e[i-2],{angle:c}=Fm(l,s),f=a*Math.cos(c),h=a*Math.sin(c);n[i-1].x=s.x-f,n[i-1].y=s.y-h}return n}b(Lk,"applyMarkerOffsetsToPoints");var E9=b((e,t,n,i)=>{t.forEach(a=>{z9[a](e,n,i)})},"insertMarkers"),w9=b((e,t,n)=>{ot.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),A9=b((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),k9=b((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),M9=b((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),R9=b((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),L9=b((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),D9=b((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),N9=b((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),I9=b((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),B9=b((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),F9=b((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),a.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),O9=b((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),P9=b((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),U9=b((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),$9=b((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),z9={extension:w9,composition:A9,aggregation:k9,dependency:M9,lollipop:R9,point:L9,circle:D9,cross:N9,barb:I9,only_one:B9,zero_or_one:F9,one_or_more:O9,zero_or_more:P9,requirement_arrow:U9,requirement_contains:$9},q9=E9,H9={common:vs,getConfig:an,insertCluster:QG,insertEdge:b9,insertEdgeLabel:v9,insertMarkers:q9,insertNode:kk,interpolateToCurve:By,labelHelper:Nt,log:ot,positionEdgeLabel:_9},dc={},Dk=b(e=>{for(const t of e)dc[t.name]=t},"registerLayoutLoaders"),G9=b(()=>{Dk([{name:"dagre",loader:b(async()=>await oe(()=>import("./dagre-6UL2VRFP-w8RvGsQy.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:b(async()=>await oe(()=>import("./cose-bilkent-S5V4N54A-DjlALA1u.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");G9();var DW=b(async(e,t)=>{if(!(e.layoutAlgorithm in dc))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const n=dc[e.layoutAlgorithm];return(await n.loader()).render(e,t,H9,{algorithm:n.algorithm})},"render"),NW=b((e="",{fallback:t="dagre"}={})=>{if(e in dc)return e;if(t in dc)return ot.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),Nk="comm",Ik="rule",Bk="decl",V9="@import",Y9="@namespace",W9="@keyframes",X9="@layer",Fk=Math.abs,e0=String.fromCharCode;function Ok(e){return e.trim()}function Sh(e,t,n){return e.replace(t,n)}function J9(e,t,n){return e.indexOf(t,n)}function Qo(e,t){return e.charCodeAt(t)|0}function ds(e,t,n){return e.slice(t,n)}function Bi(e){return e.length}function K9(e){return e.length}function oh(e,t){return t.push(e),e}var Vf=1,ps=1,Pk=0,li=0,Ie=0,Ts="";function n0(e,t,n,i,a,s,l,c){return{value:e,root:t,parent:n,type:i,props:a,children:s,line:Vf,column:ps,length:l,return:"",siblings:c}}function Q9(){return Ie}function Z9(){return Ie=li>0?Qo(Ts,--li):0,ps--,Ie===10&&(ps=1,Vf--),Ie}function Si(){return Ie=li<Pk?Qo(Ts,li++):0,ps++,Ie===10&&(ps=1,Vf++),Ie}function jr(){return Qo(Ts,li)}function Th(){return li}function Yf(e,t){return ds(Ts,e,t)}function pc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j9(e){return Vf=ps=1,Pk=Bi(Ts=e),li=0,[]}function tV(e){return Ts="",e}function Rg(e){return Ok(Yf(li-1,Om(e===91?e+2:e===40?e+1:e)))}function eV(e){for(;(Ie=jr())&&Ie<33;)Si();return pc(e)>2||pc(Ie)>3?"":" "}function nV(e,t){for(;--t&&Si()&&!(Ie<48||Ie>102||Ie>57&&Ie<65||Ie>70&&Ie<97););return Yf(e,Th()+(t<6&&jr()==32&&Si()==32))}function Om(e){for(;Si();)switch(Ie){case e:return li;case 34:case 39:e!==34&&e!==39&&Om(Ie);break;case 40:e===41&&Om(e);break;case 92:Si();break}return li}function iV(e,t){for(;Si()&&e+Ie!==57;)if(e+Ie===84&&jr()===47)break;return"/*"+Yf(t,li-1)+"*"+e0(e===47?e:Si())}function rV(e){for(;!pc(jr());)Si();return Yf(e,li)}function aV(e){return tV(bh("",null,null,null,[""],e=j9(e),0,[0],e))}function bh(e,t,n,i,a,s,l,c,f){for(var h=0,d=0,m=l,v=0,x=0,S=0,T=1,E=1,A=1,k=0,R="",I=a,B=s,L=i,N=R;E;)switch(S=k,k=Si()){case 40:if(S!=108&&Qo(N,m-1)==58){J9(N+=Sh(Rg(k),"&","&\f"),"&\f",Fk(h?c[h-1]:0))!=-1&&(A=-1);break}case 34:case 39:case 91:N+=Rg(k);break;case 9:case 10:case 13:case 32:N+=eV(S);break;case 92:N+=nV(Th()-1,7);continue;case 47:switch(jr()){case 42:case 47:oh(oV(iV(Si(),Th()),t,n,f),f),(pc(S||1)==5||pc(jr()||1)==5)&&Bi(N)&&ds(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*T:c[h++]=Bi(N)*A;case 125*T:case 59:case 0:switch(k){case 0:case 125:E=0;case 59+d:A==-1&&(N=Sh(N,/\f/g,"")),x>0&&(Bi(N)-m||T===0&&S===47)&&oh(x>32?ab(N+";",i,n,m-1,f):ab(Sh(N," ","")+";",i,n,m-2,f),f);break;case 59:N+=";";default:if(oh(L=rb(N,t,n,h,d,a,c,R,I=[],B=[],m,s),s),k===123)if(d===0)bh(N,t,L,L,I,s,m,c,B);else{switch(v){case 99:if(Qo(N,3)===110)break;case 108:if(Qo(N,2)===97)break;default:d=0;case 100:case 109:case 115:}d?bh(e,L,L,i&&oh(rb(e,L,L,0,0,a,c,R,a,I=[],m,B),B),a,B,m,c,i?I:B):bh(N,L,L,L,[""],B,0,c,B)}}h=d=x=0,T=A=1,R=N="",m=l;break;case 58:m=1+Bi(N),x=S;default:if(T<1){if(k==123)--T;else if(k==125&&T++==0&&Z9()==125)continue}switch(N+=e0(k),k*T){case 38:A=d>0?1:(N+="\f",-1);break;case 44:c[h++]=(Bi(N)-1)*A,A=1;break;case 64:jr()===45&&(N+=Rg(Si())),v=jr(),d=m=Bi(R=N+=rV(Th())),k++;break;case 45:S===45&&Bi(N)==2&&(T=0)}}return s}function rb(e,t,n,i,a,s,l,c,f,h,d,m){for(var v=a-1,x=a===0?s:[""],S=K9(x),T=0,E=0,A=0;T<i;++T)for(var k=0,R=ds(e,v+1,v=Fk(E=l[T])),I=e;k<S;++k)(I=Ok(E>0?x[k]+" "+R:Sh(R,/&\f/g,x[k])))&&(f[A++]=I);return n0(e,t,n,a===0?Ik:c,f,h,d,m)}function oV(e,t,n,i){return n0(e,t,n,Nk,e0(Q9()),ds(e,2,-2),0,i)}function ab(e,t,n,i,a){return n0(e,t,n,Bk,ds(e,0,i),ds(e,i+1,-1),i,a)}function Pm(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function sV(e,t,n,i){switch(e.type){case X9:if(e.children.length)break;case V9:case Y9:case Bk:return e.return=e.return||e.value;case Nk:return"";case W9:return e.return=e.value+"{"+Pm(e.children,i)+"}";case Ik:if(!Bi(e.value=e.props.join(",")))return""}return Bi(n=Pm(e.children,i))?e.return=e.value+"{"+n+"}":""}var lV=uw(Object.keys,Object),cV=Object.prototype,uV=cV.hasOwnProperty;function hV(e){if(!Bf(e))return lV(e);var t=[];for(var n in Object(e))uV.call(e,n)&&n!="constructor"&&t.push(n);return t}var Um=Za($i,"DataView"),$m=Za($i,"Promise"),zm=Za($i,"Set"),qm=Za($i,"WeakMap"),ob="[object Map]",fV="[object Object]",sb="[object Promise]",lb="[object Set]",cb="[object WeakMap]",ub="[object DataView]",dV=Qa(Um),pV=Qa(hc),gV=Qa($m),mV=Qa(zm),yV=Qa(qm),Na=xs;(Um&&Na(new Um(new ArrayBuffer(1)))!=ub||hc&&Na(new hc)!=ob||$m&&Na($m.resolve())!=sb||zm&&Na(new zm)!=lb||qm&&Na(new qm)!=cb)&&(Na=function(e){var t=xs(e),n=t==fV?e.constructor:void 0,i=n?Qa(n):"";if(i)switch(i){case dV:return ub;case pV:return ob;case gV:return sb;case mV:return lb;case yV:return cb}return t});var vV="[object Map]",_V="[object Set]",xV=Object.prototype,CV=xV.hasOwnProperty;function hb(e){if(e==null)return!0;if(Ff(e)&&(ef(e)||typeof e=="string"||typeof e.splice=="function"||Ny(e)||Iy(e)||tf(e)))return!e.length;var t=Na(e);if(t==vV||t==_V)return!e.size;if(Bf(e))return!hV(e).length;for(var n in e)if(CV.call(e,n))return!1;return!0}var Uk="c4",SV=b(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),TV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-Df_5OQf9.js");return{diagram:t}},__vite__mapDeps([8,9]));return{id:Uk,diagram:e}},"loader"),bV={id:Uk,detector:SV,loader:TV},EV=bV,$k="flowchart",wV=b((e,t)=>{var n,i;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),AV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-CZbBU1DY.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:$k,diagram:e}},"loader"),kV={id:$k,detector:wV,loader:AV},MV=kV,zk="flowchart-v2",RV=b((e,t)=>{var n,i,a;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"?!1:(((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((a=t==null?void 0:t.flowchart)==null?void 0:a.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),LV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-CZbBU1DY.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:zk,diagram:e}},"loader"),DV={id:zk,detector:RV,loader:LV},NV=DV,qk="er",IV=b(e=>/^\s*erDiagram/.test(e),"detector"),BV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-Ccua0Qst.js");return{diagram:t}},__vite__mapDeps([15,12,13,14]));return{id:qk,diagram:e}},"loader"),FV={id:qk,detector:IV,loader:BV},OV=FV,Hk="gitGraph",PV=b(e=>/^\s*gitGraph/.test(e),"detector"),UV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-Bz78UDfO.js");return{diagram:t}},__vite__mapDeps([16,17,18,19,4,2]));return{id:Hk,diagram:e}},"loader"),$V={id:Hk,detector:PV,loader:UV},zV=$V,Gk="gantt",qV=b(e=>/^\s*gantt/.test(e),"detector"),HV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./ganttDiagram-JELNMOA3-DKzG6Rpl.js");return{diagram:t}},__vite__mapDeps([20,21,22,23]));return{id:Gk,diagram:e}},"loader"),GV={id:Gk,detector:qV,loader:HV},VV=GV,Vk="info",YV=b(e=>/^\s*info/.test(e),"detector"),WV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./infoDiagram-WHAUD3N6-DX19Sj23.js");return{diagram:t}},__vite__mapDeps([24,19,4,2]));return{id:Vk,diagram:e}},"loader"),XV={id:Vk,detector:YV,loader:WV},Yk="pie",JV=b(e=>/^\s*pie/.test(e),"detector"),KV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-Bd89r8SY.js");return{diagram:t}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:Yk,diagram:e}},"loader"),QV={id:Yk,detector:JV,loader:KV},Wk="quadrantChart",ZV=b(e=>/^\s*quadrantChart/.test(e),"detector"),jV=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-8MdvYr83.js");return{diagram:t}},__vite__mapDeps([28,21,22,23]));return{id:Wk,diagram:e}},"loader"),t7={id:Wk,detector:ZV,loader:jV},e7=t7,Xk="xychart",n7=b(e=>/^\s*xychart(-beta)?/.test(e),"detector"),i7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-DVx6cdua.js");return{diagram:t}},__vite__mapDeps([29,22,27,21,23]));return{id:Xk,diagram:e}},"loader"),r7={id:Xk,detector:n7,loader:i7},a7=r7,Jk="requirement",o7=b(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),s7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-BlrV4mse.js");return{diagram:t}},__vite__mapDeps([30,12,13]));return{id:Jk,diagram:e}},"loader"),l7={id:Jk,detector:o7,loader:s7},c7=l7,Kk="sequence",u7=b(e=>/^\s*sequenceDiagram/.test(e),"detector"),h7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-DZIMjbr_.js");return{diagram:t}},__vite__mapDeps([31,9,18]));return{id:Kk,diagram:e}},"loader"),f7={id:Kk,detector:u7,loader:h7},d7=f7,Qk="class",p7=b((e,t)=>{var n;return((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),g7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-PkFWnEbv.js");return{diagram:t}},__vite__mapDeps([32,33,11,12,13]));return{id:Qk,diagram:e}},"loader"),m7={id:Qk,detector:p7,loader:g7},y7=m7,Zk="classDiagram",v7=b((e,t)=>{var n;return/^\s*classDiagram/.test(e)&&((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),_7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-PkFWnEbv.js");return{diagram:t}},__vite__mapDeps([34,33,11,12,13]));return{id:Zk,diagram:e}},"loader"),x7={id:Zk,detector:v7,loader:_7},C7=x7,jk="state",S7=b((e,t)=>{var n;return((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),T7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-CZ2M5rns.js");return{diagram:t}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:jk,diagram:e}},"loader"),b7={id:jk,detector:S7,loader:T7},E7=b7,tM="stateDiagram",w7=b((e,t)=>{var n;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},"detector"),A7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-DmrrDZX5.js");return{diagram:t}},__vite__mapDeps([37,36,12,13]));return{id:tM,diagram:e}},"loader"),k7={id:tM,detector:w7,loader:A7},M7=k7,eM="journey",R7=b(e=>/^\s*journey/.test(e),"detector"),L7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-EpBe51ip.js");return{diagram:t}},__vite__mapDeps([38,9,11,26]));return{id:eM,diagram:e}},"loader"),D7={id:eM,detector:R7,loader:L7},N7=D7,I7=b((e,t,n)=>{ot.debug(`rendering svg for syntax error
`);const i=p6(t),a=i.append("g");i.attr("viewBox","0 0 2412 512"),k1(i,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),nM={draw:I7},B7=nM,F7={db:{},renderer:nM,parser:{parse:b(()=>{},"parse")}},O7=F7,iM="flowchart-elk",P7=b((e,t={})=>{var n;return/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),U7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-CZbBU1DY.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:iM,diagram:e}},"loader"),$7={id:iM,detector:P7,loader:U7},z7=$7,rM="timeline",q7=b(e=>/^\s*timeline/.test(e),"detector"),H7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-IGwOuD4u.js");return{diagram:t}},__vite__mapDeps([39,26]));return{id:rM,diagram:e}},"loader"),G7={id:rM,detector:q7,loader:H7},V7=G7,aM="mindmap",Y7=b(e=>/^\s*mindmap/.test(e),"detector"),W7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-CkBmUuHx.js");return{diagram:t}},__vite__mapDeps([40,12,13]));return{id:aM,diagram:e}},"loader"),X7={id:aM,detector:Y7,loader:W7},J7=X7,oM="kanban",K7=b(e=>/^\s*kanban/.test(e),"detector"),Q7=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-BsVw4Xxh.js");return{diagram:t}},__vite__mapDeps([41,11]));return{id:oM,diagram:e}},"loader"),Z7={id:oM,detector:K7,loader:Q7},j7=Z7,sM="sankey",tY=b(e=>/^\s*sankey(-beta)?/.test(e),"detector"),eY=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-D1BH0azT.js");return{diagram:t}},__vite__mapDeps([42,27,22]));return{id:sM,diagram:e}},"loader"),nY={id:sM,detector:tY,loader:eY},iY=nY,lM="packet",rY=b(e=>/^\s*packet(-beta)?/.test(e),"detector"),aY=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-DzckhVUL.js");return{diagram:t}},__vite__mapDeps([43,17,19,4,2]));return{id:lM,diagram:e}},"loader"),oY={id:lM,detector:rY,loader:aY},cM="radar",sY=b(e=>/^\s*radar-beta/.test(e),"detector"),lY=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-DJzNZrFX.js");return{diagram:t}},__vite__mapDeps([44,17,19,4,2]));return{id:cM,diagram:e}},"loader"),cY={id:cM,detector:sY,loader:lY},uM="block",uY=b(e=>/^\s*block(-beta)?/.test(e),"detector"),hY=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-CSwU9Ogq.js");return{diagram:t}},__vite__mapDeps([45,11,5,1,2,14]));return{id:uM,diagram:e}},"loader"),fY={id:uM,detector:uY,loader:hY},dY=fY,hM="architecture",pY=b(e=>/^\s*architecture/.test(e),"detector"),gY=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-QvwA-8vr.js");return{diagram:t}},__vite__mapDeps([46,17,19,4,2,7]));return{id:hM,diagram:e}},"loader"),mY={id:hM,detector:pY,loader:gY},yY=mY,fM="treemap",vY=b(e=>/^\s*treemap/.test(e),"detector"),_Y=b(async()=>{const{diagram:e}=await oe(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-C23YAiUP.js");return{diagram:t}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:fM,diagram:e}},"loader"),xY={id:fM,detector:vY,loader:_Y},fb=!1,Wf=b(()=>{fb||(fb=!0,Bh("error",O7,e=>e.toLowerCase().trim()==="error"),Bh("---",{db:{clear:b(()=>{},"clear")},styles:{},renderer:{draw:b(()=>{},"draw")},parser:{parse:b(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:b(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Jg(z7,J7,yY),Jg(EV,j7,C7,y7,OV,VV,XV,QV,c7,d7,NV,MV,V7,zV,M7,E7,N7,e7,iY,oY,a7,dY,cY,xY))},"addDiagrams"),CY=b(async()=>{ot.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(qa).map(async([n,{detector:i,loader:a}])=>{if(a)try{jg(n)}catch{try{const{diagram:s,id:l}=await a();Bh(l,s,i)}catch(s){throw ot.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete qa[n],s}}}))).filter(n=>n.status==="rejected");if(t.length>0){ot.error(`Failed to load ${t.length} external diagrams`);for(const n of t)ot.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),SY="graphics-document document";function dM(e,t){e.attr("role",SY),t!==""&&e.attr("aria-roledescription",t)}b(dM,"setA11yDiagramInfo");function pM(e,t,n,i){if(e.insert!==void 0){if(n){const a=`chart-desc-${i}`;e.attr("aria-describedby",a),e.insert("desc",":first-child").attr("id",a).text(n)}if(t){const a=`chart-title-${i}`;e.attr("aria-labelledby",a),e.insert("title",":first-child").attr("id",a).text(t)}}}b(pM,"addSVGa11yTitleDescription");var za,Hm=(za=class{constructor(t,n,i,a,s){this.type=t,this.text=n,this.db=i,this.parser=a,this.renderer=s}static async fromText(t,n={}){var h,d;const i=an(),a=ry(t,i);t=x8(t)+`
`;try{jg(a)}catch{const m=GO(a);if(!m)throw new m1(`Diagram ${a} not found.`);const{id:v,diagram:x}=await m();Bh(v,x)}const{db:s,parser:l,renderer:c,init:f}=jg(a);return l.parser&&(l.parser.yy=s),(h=s.clear)==null||h.call(s),f==null||f(i),n.title&&((d=s.setDiagramTitle)==null||d.call(s,n.title)),await l.parse(t),new za(a,t,s,l,c)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}},b(za,"Diagram"),za),db=[],TY=b(()=>{db.forEach(e=>{e()}),db=[]},"attachFunctions"),bY=b(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function gM(e){const t=e.match(g1);if(!t)return{text:e,metadata:{}};let n=Cz(t[1],{schema:xz})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const i={};return n.displayMode&&(i.displayMode=n.displayMode.toString()),n.title&&(i.title=n.title.toString()),n.config&&(i.config=n.config),{text:e.slice(t[0].length),metadata:i}}b(gM,"extractFrontMatter");var EY=b(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,n,i)=>"<"+n+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),wY=b(e=>{const{text:t,metadata:n}=gM(e),{displayMode:i,title:a,config:s={}}=n;return i&&(s.gantt||(s.gantt={}),s.gantt.displayMode=i),{title:a,config:s,text:t}},"processFrontmatter"),AY=b(e=>{const t=vi.detectInit(e)??{},n=vi.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:i})=>i==="wrap"):(n==null?void 0:n.type)==="wrap"&&(t.wrap=!0),{text:s8(e),directive:t}},"processDirectives");function i0(e){const t=EY(e),n=wY(t),i=AY(n.text),a=$y(n.config,i.directive);return e=bY(i.text),{code:e,title:n.title,config:a}}b(i0,"preprocessDiagram");function mM(e){const t=new TextEncoder().encode(e),n=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(n)}b(mM,"toBase64");var kY=5e4,MY="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",RY="sandbox",LY="loose",DY="http://www.w3.org/2000/svg",NY="http://www.w3.org/1999/xlink",IY="http://www.w3.org/1999/xhtml",BY="100%",FY="100%",OY="border:0;margin:0;",PY="margin:0",UY="allow-top-navigation-by-user-activation allow-popups",$Y='The "iframe" tag is not supported by your browser.',zY=["foreignobject"],qY=["dominant-baseline"];function r0(e){const t=i0(e);return Nh(),oP(t.config??{}),t}b(r0,"processAndSetConfigs");async function yM(e,t){Wf();try{const{code:n,config:i}=r0(e);return{diagramType:(await _M(n)).type,config:i}}catch(n){if(t!=null&&t.suppressErrors)return!1;throw n}}b(yM,"parse");var pb=b((e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),HY=b((e,t=new Map)=>{var i;let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const c=e.htmlLabels??((i=e.flowchart)==null?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(f=>{hb(f.styles)||c.forEach(h=>{n+=pb(f.id,h,f.styles)}),hb(f.textStyles)||(n+=pb(f.id,"tspan",((f==null?void 0:f.textStyles)||[]).map(h=>h.replace("color","fill"))))})}return n},"createCssStyles"),GY=b((e,t,n,i)=>{const a=HY(e,n),s=wP(t,a,e.themeVariables);return Pm(aV(`${i}{${s}}`),sV)},"createUserStyles"),VY=b((e="",t,n)=>{let i=e;return!n&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=ja(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),YY=b((e="",t)=>{var a,s;const n=(s=(a=t==null?void 0:t.viewBox)==null?void 0:a.baseVal)!=null&&s.height?t.viewBox.baseVal.height+"px":FY,i=mM(`<body style="${PY}">${e}</body>`);return`<iframe style="width:${BY};height:${n};${OY}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${UY}">
  ${$Y}
</iframe>`},"putIntoIFrame"),gb=b((e,t,n,i,a)=>{const s=e.append("div");s.attr("id",n),i&&s.attr("style",i);const l=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",DY);return a&&l.attr("xmlns:xlink",a),l.append("g"),e},"appendDivSvgG");function Gm(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}b(Gm,"sandboxedIframe");var WY=b((e,t,n,i)=>{var a,s,l;(a=e.getElementById(t))==null||a.remove(),(s=e.getElementById(n))==null||s.remove(),(l=e.getElementById(i))==null||l.remove()},"removeExistingElements"),XY=b(async function(e,t,n){var lt,et,Y,G,D,U;Wf();const i=r0(t);t=i.code;const a=an();ot.debug(a),t.length>((a==null?void 0:a.maxTextSize)??kY)&&(t=MY);const s="#"+e,l="i"+e,c="#"+l,f="d"+e,h="#"+f,d=b(()=>{const st=Kt(v?c:h).node();st&&"remove"in st&&st.remove()},"removeTempElements");let m=Kt("body");const v=a.securityLevel===RY,x=a.securityLevel===LY,S=a.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),v){const z=Gm(Kt(n),l);m=Kt(z.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=Kt(n);gb(m,e,f,`font-family: ${S}`,NY)}else{if(WY(document,e,f,l),v){const z=Gm(Kt("body"),l);m=Kt(z.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=Kt("body");gb(m,e,f)}let T,E;try{T=await Hm.fromText(t,{title:i.title})}catch(z){if(a.suppressErrorRendering)throw d(),z;T=await Hm.fromText("error"),E=z}const A=m.select(h).node(),k=T.type,R=A.firstChild,I=R.firstChild,B=(et=(lt=T.renderer).getClasses)==null?void 0:et.call(lt,t,T),L=GY(a,k,B,s),N=document.createElement("style");N.innerHTML=L,R.insertBefore(N,I);try{await T.renderer.draw(t,e,IS.version,T)}catch(z){throw a.suppressErrorRendering?d():B7.draw(t,e,IS.version),z}const Z=m.select(`${h} svg`),K=(G=(Y=T.db).getAccTitle)==null?void 0:G.call(Y),tt=(U=(D=T.db).getAccDescription)==null?void 0:U.call(D);xM(k,Z,K,tt),m.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",IY);let V=m.select(h).node().innerHTML;if(ot.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),V=VY(V,v,$e(a.arrowMarkerAbsolute)),v){const z=m.select(h+" svg").node();V=YY(V,z)}else x||(V=os.sanitize(V,{ADD_TAGS:zY,ADD_ATTR:qY,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(TY(),E)throw E;return d(),{diagramType:k,svg:V,bindFunctions:T.db.bindFunctions}},"render");function vM(e={}){var i;const t=Pe({},e);t!=null&&t.fontFamily&&!((i=t.themeVariables)!=null&&i.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),rP(t),t!=null&&t.theme&&t.theme in gr?t.themeVariables=gr[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=gr.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?iP(t):C1();iy(n.logLevel),Wf()}b(vM,"initialize");var _M=b((e,t={})=>{const{code:n}=i0(e);return Hm.fromText(n,t)},"getDiagramFromText");function xM(e,t,n,i){dM(t,e),pM(t,n,i,t.attr("id"))}b(xM,"addA11yInfo");var Xa=Object.freeze({render:XY,parse:yM,getDiagramFromText:_M,initialize:vM,getConfig:an,setConfig:S1,getSiteConfig:C1,updateSiteConfig:aP,reset:b(()=>{Nh()},"reset"),globalReset:b(()=>{Nh(ss)},"globalReset"),defaultConfig:ss});iy(an().logLevel);Nh(an());var JY=b((e,t,n)=>{ot.warn(e),Uy(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),CM=b(async function(e={querySelector:".mermaid"}){try{await KY(e)}catch(t){if(Uy(t)&&ot.error(t.str),Hn.parseError&&Hn.parseError(t),!e.suppressErrors)throw ot.error("Use the suppressErrors option to suppress these errors"),t}},"run"),KY=b(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const i=Xa.getConfig();ot.debug(`${e?"":"No "}Callback function found`);let a;if(n)a=n;else if(t)a=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");ot.debug(`Found ${a.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(ot.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),Xa.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const s=new vi.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let l;const c=[];for(const f of Array.from(a)){if(ot.info("Rendering diagram: "+f.id),f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");const h=`mermaid-${s.next()}`;l=f.innerHTML,l=qw(vi.entityDecode(l)).trim().replace(/<br\s*\/?>/gi,"<br/>");const d=vi.detectInit(l);d&&ot.debug("Detected early reinit: ",d);try{const{svg:m,bindFunctions:v}=await EM(h,l,f);f.innerHTML=m,e&&await e(h),v&&v(f)}catch(m){JY(m,c,Hn.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),SM=b(function(e){Xa.initialize(e)},"initialize"),QY=b(async function(e,t,n){ot.warn("mermaid.init is deprecated. Please use run instead."),e&&SM(e);const i={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await CM(i)},"init"),ZY=b(async(e,{lazyLoad:t=!0}={})=>{Wf(),Jg(...e),t===!1&&await CY()},"registerExternalDiagrams"),TM=b(function(){if(Hn.startOnLoad){const{startOnLoad:e}=Xa.getConfig();e&&Hn.run().catch(t=>ot.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",TM,!1);var jY=b(function(e){Hn.parseError=e},"setParseErrorHandler"),df=[],Lg=!1,bM=b(async()=>{if(!Lg){for(Lg=!0;df.length>0;){const e=df.shift();if(e)try{await e()}catch(t){ot.error("Error executing queue",t)}}Lg=!1}},"executeQueue"),tW=b(async(e,t)=>new Promise((n,i)=>{const a=b(()=>new Promise((s,l)=>{Xa.parse(e,t).then(c=>{s(c),n(c)},c=>{var f;ot.error("Error parsing",c),(f=Hn.parseError)==null||f.call(Hn,c),l(c),i(c)})}),"performCall");df.push(a),bM().catch(i)}),"parse"),EM=b((e,t,n)=>new Promise((i,a)=>{const s=b(()=>new Promise((l,c)=>{Xa.render(e,t,n).then(f=>{l(f),i(f)},f=>{var h;ot.error("Error parsing",f),(h=Hn.parseError)==null||h.call(Hn,f),c(f),a(f)})}),"performCall");df.push(s),bM().catch(a)}),"render"),eW=b(()=>Object.keys(qa).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Hn={startOnLoad:!0,mermaidAPI:Xa,parse:tW,render:EM,init:QY,run:CM,registerExternalDiagrams:ZY,registerLayoutLoaders:Dk,initialize:SM,parseError:void 0,contentLoaded:TM,setParseErrorHandler:jY,detectType:ry,registerIconPacks:bG,getRegisteredDiagramsMetadata:eW},wM=Hn;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */wM.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:"Inter",flowchart:{htmlLabels:!0,curve:"basis"}});const nW=({code:e})=>{const t=Ua.useRef(null),[n,i]=Ua.useState(null);return Ua.useEffect(()=>{const s=setTimeout(async()=>{if(!t.current||!e.trim()){i(null);return}try{i(null),t.current.innerHTML="";const l=`mermaid-svg-${Math.random().toString(36).substring(2,11)}`,c=e.trim();if(!/^(flowchart|sequenceDiagram|stateDiagram|graph|classDiagram|erDiagram|gantt|pie|journey|gitGraph)/i.test(c))throw new Error("");const{svg:h}=await wM.render(l,c);t.current&&(t.current.innerHTML=h)}catch(l){console.error("Mermaid Render Error:",l),i("AI")}},50);return()=>clearTimeout(s)},[e]),pt.jsx("div",{className:"w-full h-full min-h-[400px] flex flex-col items-center justify-center bg-white rounded-lg border border-slate-200 overflow-auto p-4 transition-all",children:n?pt.jsxs("div",{className:"max-w-md text-red-500 bg-red-50 p-6 rounded-xl border border-red-200 shadow-sm animate-in zoom-in-95 duration-200",children:[pt.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[pt.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:pt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),pt.jsx("p",{className:"font-bold text-lg",children:""})]}),pt.jsx("p",{className:"text-sm leading-relaxed mb-4",children:n}),pt.jsx("div",{className:"bg-white/50 p-3 rounded-lg border border-red-100 font-mono text-xs overflow-auto max-h-32",children:e.length>200?e.substring(0,200)+"...":e})]}):e.trim()?pt.jsx("div",{ref:t,className:"w-full flex justify-center animate-in fade-in duration-500"}):pt.jsxs("div",{className:"text-slate-400 flex flex-col items-center select-none py-10",children:[pt.jsx("svg",{className:"w-16 h-16 mb-4 opacity-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:pt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),pt.jsx("p",{className:"font-medium text-slate-500",children:""}),pt.jsx("p",{className:"text-xs text-slate-400 mt-1",children:""})]})})},iW=()=>{const[e,t]=Ua.useState(""),[n,i]=Ua.useState([qn.FLOWCHART,qn.SEQUENCE,qn.STATE]),[a,s]=Ua.useState({[qn.FLOWCHART]:{code:"",rendered:"",isLoading:!1,error:null},[qn.SEQUENCE]:{code:"",rendered:"",isLoading:!1,error:null},[qn.STATE]:{code:"",rendered:"",isLoading:!1,error:null}}),l=T=>{i(E=>E.includes(T)?E.filter(A=>A!==T):[...E,T])},c=async()=>{if(!e.trim()){alert("");return}if(n.length===0){alert("1");return}s(T=>{const E={...T};return n.forEach(A=>{E[A]={...E[A],isLoading:!0,error:null}}),E}),await Promise.all(n.map(async T=>{try{const E=await sO(e,T);s(A=>({...A,[T]:{...A[T],code:E,isLoading:!1,error:null}}))}catch(E){s(A=>({...A,[T]:{...A[T],isLoading:!1,error:E instanceof Error?E.message:""}}))}}))},f=(T,E)=>{s(A=>({...A,[T]:{...A[T],code:E}}))},h=T=>{s(E=>({...E,[T]:{...E[T],rendered:E[T].code}}))},d=T=>{navigator.clipboard.writeText(T),alert("")},m=()=>{t(""),s({[qn.FLOWCHART]:{code:"",rendered:"",isLoading:!1,error:null},[qn.SEQUENCE]:{code:"",rendered:"",isLoading:!1,error:null},[qn.STATE]:{code:"",rendered:"",isLoading:!1,error:null}})},v=[{label:"",text:`







`},{label:"",text:`


`}],x={[qn.FLOWCHART]:"",[qn.SEQUENCE]:"",[qn.STATE]:""},S=Object.values(a).some(T=>T.isLoading);return pt.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50",children:[pt.jsx("header",{className:"bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50",children:pt.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[pt.jsxs("div",{className:"flex items-center gap-2",children:[pt.jsx("div",{className:"bg-indigo-500 p-2 rounded-lg text-white",children:pt.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:pt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),pt.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Mermaid Flow Creator"})]}),pt.jsx("div",{className:"text-sm text-slate-400 hidden sm:block",children:""})]})}),pt.jsxs("main",{className:"flex-1 container mx-auto p-4 md:p-6 flex flex-col gap-8",children:[pt.jsxs("section",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden flex flex-col",children:[pt.jsxs("div",{className:"bg-slate-50 px-6 py-3 border-b border-slate-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[pt.jsx("h2",{className:"font-semibold text-slate-700",children:"1.  & "}),pt.jsx("div",{className:"flex gap-4",children:v.map((T,E)=>pt.jsx("button",{onClick:()=>t(T.text),className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium transition-colors",children:T.label},E))})]}),pt.jsx("div",{className:"p-6 bg-slate-100 border-b border-slate-200",children:pt.jsx("div",{className:"flex flex-wrap gap-3",children:Object.keys(x).map(T=>pt.jsxs("button",{onClick:()=>l(T),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all flex items-center gap-2 border ${n.includes(T)?"bg-indigo-600 text-white border-indigo-600 shadow-sm":"bg-white text-slate-600 border-slate-300 hover:border-indigo-400"}`,children:[pt.jsx("div",{className:`w-3 h-3 rounded-full ${n.includes(T)?"bg-white":"bg-slate-300"}`}),x[T]]},T))})}),pt.jsx("textarea",{className:"w-full h-40 p-6 resize-none focus:outline-none bg-slate-800 text-white placeholder-slate-400 text-lg leading-relaxed",placeholder:"...",value:e,onChange:T=>t(T.target.value)}),pt.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-200 flex gap-4",children:[pt.jsx("button",{onClick:c,disabled:S,className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all shadow-md active:scale-[0.98] ${S?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:S?pt.jsxs(pt.Fragment,{children:[pt.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[pt.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),pt.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):pt.jsxs(pt.Fragment,{children:[pt.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:pt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})}),pt.jsx("button",{onClick:m,className:"px-6 py-3 text-slate-500 hover:text-red-600 font-semibold transition-colors",children:""})]})]}),pt.jsxs("div",{className:`grid grid-cols-1 ${n.length===2?"lg:grid-cols-2":n.length>=3?"lg:grid-cols-3":"lg:grid-cols-1"} gap-6`,children:[n.map(T=>{const E=a[T];return pt.jsx("section",{className:"flex flex-col gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:pt.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden flex flex-col h-full min-h-[600px]",children:[pt.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:[pt.jsx("h3",{className:"font-bold text-slate-800",children:x[T]}),pt.jsx("div",{className:"flex gap-2",children:pt.jsx("button",{onClick:()=>d(E.code),disabled:!E.code,className:"p-1.5 text-slate-500 hover:text-indigo-600 disabled:opacity-30 rounded-md hover:bg-slate-100 transition-all",title:"",children:pt.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:pt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})})]}),pt.jsxs("div",{className:"flex-1 p-4 bg-white relative overflow-hidden flex flex-col",children:[pt.jsx("div",{className:"flex-1 overflow-auto rounded-lg border border-slate-100 mb-4 bg-slate-50/50",children:E.isLoading?pt.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-400 gap-3",children:[pt.jsxs("svg",{className:"animate-spin h-8 w-8 text-indigo-500",fill:"none",viewBox:"0 0 24 24",children:[pt.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),pt.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),pt.jsx("p",{className:"text-sm font-medium",children:"..."})]}):pt.jsx(nW,{code:E.rendered||E.code})}),pt.jsxs("div",{className:"h-48 flex flex-col",children:[pt.jsxs("div",{className:"flex justify-between items-center mb-1",children:[pt.jsx("span",{className:"text-[10px] uppercase tracking-wider font-bold text-slate-400",children:"Mermaid Syntax"}),pt.jsx("button",{onClick:()=>h(T),className:"text-[10px] text-indigo-600 font-bold hover:underline",children:""})]}),pt.jsx("textarea",{className:"flex-1 p-3 mono text-xs focus:outline-none bg-slate-900 text-white rounded-lg resize-none border border-slate-700",value:E.code,onChange:A=>f(T,A.target.value),spellCheck:!1})]})]}),E.error&&pt.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-xs border-t border-red-100",children:E.error})]})},T)}),n.length===0&&pt.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-slate-400 border-2 border-dashed border-slate-200 rounded-2xl",children:[pt.jsx("svg",{className:"w-16 h-16 mb-4 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:pt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),pt.jsx("p",{className:"text-lg",children:""})]})]})]}),pt.jsxs("footer",{className:"bg-white border-t border-slate-200 p-8 text-center text-slate-500 text-sm mt-auto",children:[pt.jsx("p",{className:"font-medium mb-1",children:" 2025 Mermaid Flow Creator"}),pt.jsx("p",{className:"text-slate-400",children:"AI"})]})]})},AM=document.getElementById("root");if(!AM)throw new Error("Could not find root element to mount to");const rW=JL.createRoot(AM);rW.render(pt.jsx(zL.StrictMode,{children:pt.jsx(iW,{})}));export{M1 as $,Ql as A,pO as B,BP as C,$y as D,an as E,x1 as F,f8 as G,p6 as H,IS as I,xz as J,KO as K,ls as L,sW as M,Of as N,gP as O,ay as P,YS as Q,a6 as R,yh as S,h8 as T,mc as U,TP as V,gc as W,Ct as X,Rt as Y,i8 as Z,b as _,MP as a,Ny as a$,e6 as a0,fT as a1,hT as a2,vW as a3,dW as a4,mW as a5,gW as a6,hW as a7,Uo as a8,vy as a9,wG as aA,n6 as aB,oW as aC,Ff as aD,ef as aE,xw as aF,Vm as aG,Tc as aH,bG as aI,TG as aJ,py as aK,Qr as aL,aT as aM,BU as aN,rc as aO,LH as aP,vw as aQ,hw as aR,Bq as aS,Zh as aT,Fq as aU,Cc as aV,Na as aW,wH as aX,DT as aY,Ka as aZ,Oq as a_,yW as aa,fW as ab,xW as ac,_W as ad,pW as ae,QG as af,kk as ag,RW as ah,Sz as ai,$e as aj,sa as ak,Ry as al,tA as am,ja as an,ww as ao,Bt as ap,Oi as aq,q9 as ar,MW as as,LW as at,AW as au,Et as av,kW as aw,b9 as ax,_9 as ay,v9 as az,kP as b,Iq as b0,$q as b1,Cs as b2,RH as b3,jH as b4,Vq as b5,YH as b6,Ly as b7,hb as b8,bt as b9,zm as bA,oe as bB,ow as ba,Ln as bb,kU as bc,dy as bd,H1 as be,vc as bf,Y1 as bg,uW as bh,dO as bi,ZH as bj,VH as bk,t8 as bl,Df as bm,Dq as bn,Dy as bo,yw as bp,n8 as bq,xs as br,OH as bs,hV as bt,xc as bu,tf as bv,oa as bw,AT as bx,Iy as by,dw as bz,re as c,Kt as d,k1 as e,Pe as f,LP as g,_r as h,si as i,kz as j,vs as k,ot as l,kw as m,lW as n,NW as o,DP as p,NP as q,DW as r,RP as s,Cz as t,vi as u,g9 as v,g8 as w,CW as x,AP as y,cW as z};
